{
  "items":[
    {
      "tags":[
        "neo4j",
        "jupyter-notebook",
        "py2neo"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":4098,
                "user_id":823822,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/cafc3df1c732144084a706d768564bd4?s=128&d=identicon&r=PG",
                "display_name":"Nigel Small",
                "link":"https://stackoverflow.com/users/823822/nigel-small"
              },
              "edited":false,
              "score":0,
              "creation_date":1604136628,
              "post_id":64619951,
              "comment_id":114259288,
              "link":"https://stackoverflow.com/questions/64619950/attributeerror-and-valueerror-when-running-py2neo-statements-in-jupyter-notebook/64619951#comment114259288_64619951"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":351,
            "user_id":9286461,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/3835c9d43299b5288b8a3f49c60fe0cc?s=128&d=identicon&r=PG&f=1",
            "display_name":"Ryan Y",
            "link":"https://stackoverflow.com/users/9286461/ryan-y"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1604134040,
          "creation_date":1604134040,
          "answer_id":64619951,
          "question_id":64619950,
          "share_link":"https://stackoverflow.com/a/64619951",
          "body_markdown":"The root cause seems to be that both Cypher statements do not have a return value, which for some reason, the returned cursor (`py2neo.database.work.Cursor`) is expecting that. A simple fix is to assign the output to a variable, e.g.: ```python ## Create uniqueness constraint (with name) cypher_str = &quot;CREATE CONSTRAINT UniqueAirportNameConstraint ON (a:Airport) ASSERT a.name IS UNIQUE&quot; response = graph.run(cypher_str) ## Merging params = [{&#39;airline&#39;: &#39;3K&#39;, &#39;seats&#39;: 500, &#39;departure&#39;: &#39;0915&#39;}] q = &quot;&quot;&quot; UNWIND $data AS data MERGE (s:Schedule) &quot;&quot;&quot; response = graph.run(q, { &quot;data&quot;: params }) ``` Note: The `response` variable can probably be substituted with the throwaway var `_`. For the `MERGE` statement, we can also avoid this error by adding a `RETURN 1` or something useful.",
          "link":"https://stackoverflow.com/questions/64619950/attributeerror-and-valueerror-when-running-py2neo-statements-in-jupyter-notebook/64619951#64619951",
          "title":"AttributeError and ValueError when running py2neo statements in Jupyter notebook"
        }
      ],
      "owner":{
        "reputation":351,
        "user_id":9286461,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/3835c9d43299b5288b8a3f49c60fe0cc?s=128&d=identicon&r=PG&f=1",
        "display_name":"Ryan Y",
        "link":"https://stackoverflow.com/users/9286461/ryan-y"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":5,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1604134040,
      "creation_date":1604134040,
      "question_id":64619950,
      "share_link":"https://stackoverflow.com/q/64619950",
      "body_markdown":"Receive `AttributeError` and `ValueError` when trying to create a unique constraint or simple merge statement. Yet the constraint / node is created within the Neo4j database. Am using `py2neo==2020.0.0` ```python ## Create uniqueness constraint (with name) cypher_str = &quot;CREATE CONSTRAINT UniqueAirportNameConstraint ON (a:Airport) ASSERT a.name IS UNIQUE&quot; graph.run(cypher_str) ## Merging params = [{&#39;airline&#39;: &#39;3K&#39;, &#39;seats&#39;: 500, &#39;departure&#39;: &#39;0915&#39;}] q = &quot;&quot;&quot; UNWIND $data AS data MERGE (s:Schedule) &quot;&quot;&quot; graph.run(q, { &quot;data&quot;: params }) ``` Error received: ```python --------------------------------------------------------------------------- AttributeError Traceback (most recent call last) ~/miniconda3/envs/neo4j/lib/python3.7/site-packages/py2neo/database/work.py in __init__(self, records, keys) 889 try: --&gt; 890 k = records.keys() 891 except AttributeError: AttributeError: &#39;list&#39; object has no attribute &#39;keys&#39; During handling of the above exception, another exception occurred: ValueError Traceback (most recent call last) ~/miniconda3/envs/neo4j/lib/python3.7/site-packages/IPython/core/formatters.py in __call__(self, obj) 700 type_pprinters=self.type_printers, 701 deferred_pprinters=self.deferred_printers) --&gt; 702 printer.pretty(obj) 703 printer.flush() 704 return stream.getvalue() ~/miniconda3/envs/neo4j/lib/python3.7/site-packages/IPython/lib/pretty.py in pretty(self, obj) 392 if cls is not object \\ 393 and callable(cls.__dict__.get(&#39;__repr__&#39;)): --&gt; 394 return _repr_pprint(obj, self, cycle) 395 396 return _default_pprint(obj, self, cycle) ~/miniconda3/envs/neo4j/lib/python3.7/site-packages/IPython/lib/pretty.py in _repr_pprint(obj, p, cycle) 698 &quot;&quot;&quot;A pprint that just redirects to the normal repr function.&quot;&quot;&quot; 699 # Find newlines and replace them with p.break_() --&gt; 700 output = repr(obj) 701 lines = output.splitlines() 702 with p.group(): ~/miniconda3/envs/neo4j/lib/python3.7/site-packages/py2neo/database/work.py in __repr__(self) 367 368 def __repr__(self): --&gt; 369 return repr(self.preview(3)) 370 371 def __next__(self): ~/miniconda3/envs/neo4j/lib/python3.7/site-packages/py2neo/database/work.py in preview(self, limit) 497 values = self._hydrant.hydrate(keys, values, entities=self._entities, version=v) 498 records.append(values) --&gt; 499 return Table(records, keys) 500 501 def evaluate(self, field=0): ~/miniconda3/envs/neo4j/lib/python3.7/site-packages/py2neo/database/work.py in __init__(self, records, keys) 890 k = records.keys() 891 except AttributeError: --&gt; 892 raise ValueError(&quot;Missing keys&quot;) 893 width = len(k) 894 t = [set() for _ in range(width)] ValueError: Missing keys ``` ",
      "link":"https://stackoverflow.com/questions/64619950/attributeerror-and-valueerror-when-running-py2neo-statements-in-jupyter-notebook",
      "title":"AttributeError and ValueError when running py2neo statements in Jupyter notebook"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1604097352,
          "last_edit_date":1604097352,
          "creation_date":1604085004,
          "answer_id":64614399,
          "question_id":64612696,
          "share_link":"https://stackoverflow.com/a/64614399",
          "body_markdown":"You should read the [documentation](https://neo4j.com/docs/cypher-manual/current/clauses/call/#query-call-introduction) for `CALL` and `YIELD`. Here are a couple of snippets from the docs: &gt; Most procedures return a stream of records with a fixed set of result &gt; fields, similar to how running a Cypher query returns a stream of &gt; records. The `YIELD` sub-clause is used to explicitly select which of &gt; the available result fields are returned as newly-bound variables from &gt; the procedure call to the user or for further processing by the &gt; remaining query. Thus, in order to be able to use `YIELD`, the names &gt; (and types) of the output parameters need be known in advance. Each &gt; yielded result field may optionally be renamed using aliasing (i.e. &gt; resultFieldName `AS` newName). All new variables bound by a procedure &gt; call are added to the set of variables already bound in the current &gt; scope. It is an error if a procedure call tries to rebind a previously &gt; bound variable (i.e. a procedure call cannot shadow a variable that &gt; was previously bound in the current scope). &gt; Inside a larger query, the records returned from a procedure call with &gt; an explicit YIELD may be further filtered using a `WHERE` sub-clause &gt; followed by a predicate (similar to `WITH` …​ `WHERE` …​). &gt; &gt; If the called procedure declares at least one result field, `YIELD` may &gt; generally not be omitted. However `YIELD` may always be omitted in a &gt; standalone procedure call. In this case, all result fields are yielded &gt; as newly-bound variables from the procedure call to the user.",
          "link":"https://stackoverflow.com/questions/64612696/cypher-what-is-the-use-of-yield/64614399#64614399",
          "title":"Cypher: what is the use of YIELD?"
        }
      ],
      "owner":{
        "reputation":137,
        "user_id":13469785,
        "user_type":"registered",
        "profile_image":"https://lh4.googleusercontent.com/-dp9W1Yp-80o/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPbisubeRcptofQobH94W8miEvmcg/photo.jpg?sz=128",
        "display_name":"LJRB",
        "link":"https://stackoverflow.com/users/13469785/ljrb"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":20,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64614399,
      "answer_count":1,
      "score":0,
      "last_activity_date":1604097352,
      "creation_date":1604077089,
      "question_id":64612696,
      "share_link":"https://stackoverflow.com/q/64612696",
      "body_markdown":"I try to understand the use of YIELD in Cypher requests. For example: CALL db.labels() YIELD label WHERE label CONTAINS &#39;User&#39; RETURN count(label) AS numLabels But I don&#39;t understand why I have to use this and when. Can someone explain me what is the use and when do I have to use it? ",
      "link":"https://stackoverflow.com/questions/64612696/cypher-what-is-the-use-of-yield",
      "title":"Cypher: what is the use of YIELD?"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":325,
                "user_id":8701077,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/291b2922ee6f44774f9d91f0ec8d02c9?s=128&d=identicon&r=PG&f=1",
                "display_name":"Simon",
                "link":"https://stackoverflow.com/users/8701077/simon"
              },
              "edited":false,
              "score":1,
              "creation_date":1604063202,
              "post_id":64608500,
              "comment_id":114239792,
              "link":"https://stackoverflow.com/questions/64607656/neo4j-cypher-match-query-pulling-data-no-within-set-parameters/64608500#comment114239792_64608500"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":2452,
            "user_id":677173,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name":"Pablissimo",
            "link":"https://stackoverflow.com/users/677173/pablissimo"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1604061370,
          "creation_date":1604061370,
          "answer_id":64608500,
          "question_id":64607656,
          "share_link":"https://stackoverflow.com/a/64608500",
          "body_markdown":"Looks like you&#39;re storing numerical information as text - at which point the &gt; and &lt; comparison operators don&#39;t do what you think they do. Neo4j also won&#39;t do a type conversion for you - which is why when you try comparing to the number 10 rather than the string 10 you get no results at all (it just rejects all nodes because the datatype doesn&#39;t match what you&#39;re asking for). For example: ``` WITH &quot;5&quot; as a, &quot;10&quot; as b RETURN a &gt; b ╒═══════╕ │&quot;a &gt; b&quot;│ ╞═══════╡ │true │ └───────┘ ``` As I understand it, Cypher&#39;ll do a character-by-character comparison when you ask it &#39;which string is bigger?&#39;. So in your case, it&#39;ll look at 5 and 10 and say &gt; Is the first character of the string &#39;5&#39; greater than the first character of the string &#39;10&#39;? Well in ASCII 5 &gt; 1, so yes - return true You either need to store numerical information as actual numbers in the node properties (at which point comparisons will work as you expect), or convert the node property to a number before doing the comparison. The second option may be a little slower, because the conversion has to happen on each node and you can&#39;t add a useful index to help out. Still, given: ``` CREATE (a: Node { prop: &quot;5&quot; }), (b: Node { prop: &quot;10&quot; }) ``` Then ``` MATCH (n:Node) WHERE n.prop &gt;= 10 RETURN n ``` returns no results as you are seeing. But: ``` MATCH (n:Node) WHERE toInteger(n.prop) &gt;= 10 RETURN n ``` Returns the node you&#39;re after. As mentioned though, I&#39;d strongly recommend updating your nodes to store the score property as a number instead of a string if it&#39;s genuinely numerical information.",
          "link":"https://stackoverflow.com/questions/64607656/neo4j-cypher-match-query-pulling-data-no-within-set-parameters/64608500#64608500",
          "title":"neo4j Cypher - Match query pulling data no within set parameters"
        }
      ],
      "owner":{
        "reputation":325,
        "user_id":8701077,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/291b2922ee6f44774f9d91f0ec8d02c9?s=128&d=identicon&r=PG&f=1",
        "display_name":"Simon",
        "link":"https://stackoverflow.com/users/8701077/simon"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":13,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":1,
      "accepted_answer_id":64608500,
      "answer_count":1,
      "score":1,
      "last_activity_date":1604061370,
      "creation_date":1604057933,
      "question_id":64607656,
      "share_link":"https://stackoverflow.com/q/64607656",
      "body_markdown":"## Outline ## I have a fairly basic `match` query that I want to get me results where the `score` field value is equal to or greater than the parameter. (10 in the below) ## The Code ## MATCH (u:data) WHERE u.score &gt;= &quot;10&quot; RETURN id(u) AS id, u.score AS score LIMIT 10 ## Output ## Currently I receive the following back ╒══════╤══════════════╕ │&quot;id&quot; │&quot;score&quot; │ ╞══════╪══════════════╡ │906674│&quot;860&quot; │ ├──────┼──────────────┤ │906676│&quot;1000&quot; │ ├──────┼──────────────┤ │906677│&quot;860&quot; │ ├──────┼──────────────┤ │906879│&quot;860&quot; │ ├──────┼──────────────┤ │906882│&quot;260&quot; │ ├──────┼──────────────┤ │906888│&quot;360&quot; │ ├──────┼──────────────┤ │906989│&quot;2100&quot; │ ├──────┼──────────────┤ │907065│&quot;1160&quot; │ ├──────┼──────────────┤ │907107│&quot;260&quot; │ ├──────┼──────────────┤ │907152│&quot;5&quot; │ └──────┴──────────────┘ As you can see, the last row has a score of `5` which is obviously not `&gt;= 10` ## Things I&#39;ve tried ## `WHERE u.score &gt;= 10` returns 0 rows `WHERE u.score &gt;= &#39;10&#39;` returns error Thank you in advance for the help!!",
      "link":"https://stackoverflow.com/questions/64607656/neo4j-cypher-match-query-pulling-data-no-within-set-parameters",
      "title":"neo4j Cypher - Match query pulling data no within set parameters"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":792,
                "user_id":622644,
                "user_type":"registered",
                "accept_rate":55,
                "profile_image":"https://www.gravatar.com/avatar/ccd01bedc30f5b040d31239e1965f5b6?s=128&d=identicon&r=PG",
                "display_name":"priya",
                "link":"https://stackoverflow.com/users/622644/priya"
              },
              "edited":false,
              "score":0,
              "creation_date":1604063500,
              "post_id":64606147,
              "comment_id":114239938,
              "link":"https://stackoverflow.com/questions/64604158/how-to-fetch-all-the-paths-from-root-to-leaf-dfs-way-in-neo4j-and-return-the-r/64606147#comment114239938_64606147"
            },
            {
              "owner":{
                "reputation":2070,
                "user_id":1734996,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
                "display_name":"Graphileon",
                "link":"https://stackoverflow.com/users/1734996/graphileon"
              },
              "reply_to_user":{
                "reputation":792,
                "user_id":622644,
                "user_type":"registered",
                "accept_rate":55,
                "profile_image":"https://www.gravatar.com/avatar/ccd01bedc30f5b040d31239e1965f5b6?s=128&d=identicon&r=PG",
                "display_name":"priya",
                "link":"https://stackoverflow.com/users/622644/priya"
              },
              "edited":false,
              "score":1,
              "creation_date":1604073086,
              "post_id":64606147,
              "comment_id":114244734,
              "link":"https://stackoverflow.com/questions/64604158/how-to-fetch-all-the-paths-from-root-to-leaf-dfs-way-in-neo4j-and-return-the-r/64606147#comment114244734_64606147"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":2070,
            "user_id":1734996,
            "user_type":"registered",
            "accept_rate":85,
            "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name":"Graphileon",
            "link":"https://stackoverflow.com/users/1734996/graphileon"
          },
          "comment_count":2,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1604051848,
          "creation_date":1604051848,
          "answer_id":64606147,
          "question_id":64604158,
          "share_link":"https://stackoverflow.com/a/64606147",
          "body_markdown":"A list of all available paths could be obtained as follows. MATCH p=(root {id: &#39;start&#39;})-[*]-&gt;(leaf) // limit the match to the ones that end at a leaf WHERE NOT (leaf)--&gt;() RETURN DISTINCT REDUCE (s=&#39;&#39;, r in RELATIONSHIPS(p) | s+ CASE WHEN s=&#39;&#39; THEN &#39;(&#39;+startNode(r).name + &#39;)-[:&#39;+ type(r)+&#39;]-&gt;(&#39;+ endNode(r).name+&#39;)&#39; ELSE &#39;-[:&#39;+ type(r)+&#39;]-&gt;(&#39;+ endNode(r).name+&#39;)&#39; END ) AS path",
          "link":"https://stackoverflow.com/questions/64604158/how-to-fetch-all-the-paths-from-root-to-leaf-dfs-way-in-neo4j-and-return-the-r/64606147#64606147",
          "title":"How to fetch all the paths from root to leaf (DFS way) in Neo4j and return the result containing nodes and relationships"
        }
      ],
      "owner":{
        "reputation":792,
        "user_id":622644,
        "user_type":"registered",
        "accept_rate":55,
        "profile_image":"https://www.gravatar.com/avatar/ccd01bedc30f5b040d31239e1965f5b6?s=128&d=identicon&r=PG",
        "display_name":"priya",
        "link":"https://stackoverflow.com/users/622644/priya"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":17,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64606147,
      "answer_count":1,
      "score":0,
      "last_activity_date":1604051848,
      "creation_date":1604042677,
      "question_id":64604158,
      "share_link":"https://stackoverflow.com/q/64604158",
      "body_markdown":"I have a graph where I used following cypher to display all the paths in the Graph . This returns all the nodes . CQL : MATCH p=(root {id: &#39;start&#39;})-[*]-&gt;(leaf) RETURN EXTRACT(x IN NODES(p) | x.name) AS result; I want to return nodes and edges so that layman can understand what all paths exists from root to leaf in the graph . ",
      "link":"https://stackoverflow.com/questions/64604158/how-to-fetch-all-the-paths-from-root-to-leaf-dfs-way-in-neo4j-and-return-the-r",
      "title":"How to fetch all the paths from root to leaf (DFS way) in Neo4j and return the result containing nodes and relationships"
    },
    {
      "tags":[
        "neo4j",
        "cypher",
        "data-modeling"
      ],
      "comments":[
        {
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1603994889,
          "post_id":64595718,
          "comment_id":114219257,
          "link":"https://stackoverflow.com/questions/64595718/neo4j-modeling-recommendation-for-self-node-relationships#comment114219257_64595718"
        }
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603995446,
          "creation_date":1603995446,
          "answer_id":64596995,
          "question_id":64595718,
          "share_link":"https://stackoverflow.com/a/64596995",
          "body_markdown":"Not sure what you are asking, but if one concern is having too many instances of the `IS_RELATED_TO` relationship between the same nodes, you could have the relationship property value be a list, as in: (:Node)-[:IS_RELATED_TO {relType: [&quot;business&quot;, &quot;work&quot;, &quot;personal&quot;, &quot;financial&quot;]}]-&gt;(:Node) This data model will work whether or not the end nodes are the same. As an example of how to use the data model, this query returns all `Node`s that have a &quot;work&quot; self-relationship: MATCH (n:Node)-[r:IS_RELATED_TO]-&gt;(n) WHERE &#39;work&#39; IN r.relType RETURN n",
          "link":"https://stackoverflow.com/questions/64595718/neo4j-modeling-recommendation-for-self-node-relationships/64596995#64596995",
          "title":"Neo4J Modeling recommendation for Self-Node relationships"
        }
      ],
      "owner":{
        "reputation":1,
        "user_id":14543982,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8b0f01519aeb8d653fbe3b264f1dee40?s=128&d=identicon&r=PG&f=1",
        "display_name":"neographuser",
        "link":"https://stackoverflow.com/users/14543982/neographuser"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":1,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":12,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "closed_date":1604135379,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603995446,
      "creation_date":1603990477,
      "last_edit_date":1603994953,
      "question_id":64595718,
      "share_link":"https://stackoverflow.com/q/64595718",
      "body_markdown":"Any recommendations to model the data such as this below : ``` NODE RELATION NODE 123 IS_RELATED_TO { &quot;business&quot;} 123 123 IS_RELATED_TO { &quot;work&quot;} 123 123 IS_RELATED_TO { &quot;personal&quot;} 123 123 IS_RELATED_TO { &quot;financial&quot;} 123 ```",
      "link":"https://stackoverflow.com/questions/64595718/neo4j-modeling-recommendation-for-self-node-relationships",
      "closed_reason":"Not suitable for this site",
      "title":"Neo4J Modeling recommendation for Self-Node relationships"
    },
    {
      "tags":[
        "neo4j",
        "neo4j-apoc"
      ],
      "comments":[
        {
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1604003824,
          "post_id":64595467,
          "comment_id":114222842,
          "link":"https://stackoverflow.com/questions/64595467/do-the-apoc-import-use-merge-or-create-to-add-new-data#comment114222842_64595467"
        },
        {
          "owner":{
            "reputation":1463,
            "user_id":3943868,
            "user_type":"registered",
            "accept_rate":57,
            "profile_image":"https://lh3.googleusercontent.com/-swRsP46mbOM/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nDXd35-wgFUunYOlpBSMnvFhD82kw/photo.jpg?sz=128",
            "display_name":"marlon",
            "link":"https://stackoverflow.com/users/3943868/marlon"
          },
          "reply_to_user":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1604007375,
          "post_id":64595467,
          "comment_id":114224176,
          "link":"https://stackoverflow.com/questions/64595467/do-the-apoc-import-use-merge-or-create-to-add-new-data#comment114224176_64595467"
        }
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":56013,
                "user_id":974731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name":"cybersam",
                "link":"https://stackoverflow.com/users/974731/cybersam"
              },
              "edited":false,
              "score":0,
              "creation_date":1604083840,
              "post_id":64605475,
              "comment_id":114249136,
              "link":"https://stackoverflow.com/questions/64595467/do-the-apoc-import-use-merge-or-create-to-add-new-data/64605475#comment114249136_64605475"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":2452,
            "user_id":677173,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name":"Pablissimo",
            "link":"https://stackoverflow.com/users/677173/pablissimo"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1604048945,
          "creation_date":1604048945,
          "answer_id":64605475,
          "question_id":64595467,
          "share_link":"https://stackoverflow.com/a/64605475",
          "body_markdown":"[From the source of `CsvEntityLoader`](https://github.com/neo4j-contrib/neo4j-apoc-procedures/blob/16581f3253f82e75506428dfd2a498346c6bfb1d/core/src/main/java/apoc/export/csv/CsvEntityLoader.java#L101) (which seems to be doing the work under the covers), nodes are blindly created rather than being merged. While there&#39;s an `ignoreDuplicateNodes` configuration property you can set, it just ignores IDs duplicated within the incoming CSV (i.e. it&#39;s not de-duplicating the incoming records against your existing graph). You could protect yourself from creating duplicate nodes by creating an appropriate [unique constraint](https://neo4j.com/docs/cypher-manual/current/administration/constraints/#administration-constraints-unique-nodes) on any uniquely-identifying properties, which would at least prevent you accidentally running the same import twice. Personally I&#39;d only use `apoc.import.csv` to do a one-off bulk load of data into a fresh graph (or to load a dump from another graph that was exported as a CSV by something like `apoc.export.csv.*`). And even then, you&#39;ve got the [batch import tool](https://neo4j.com/developer/guide-import-csv/#batch-importer) that&#39;ll do that job with higher performance for large datasets. I tend to use either [the built-in `LOAD CSV`](https://neo4j.com/developer/guide-import-csv/#import-load-csv) command or `apoc.load.csv` for most things, as you can control exactly what you do with each record coming in from the file (such as performing a `MERGE` rather than a `CREATE`).",
          "link":"https://stackoverflow.com/questions/64595467/do-the-apoc-import-use-merge-or-create-to-add-new-data/64605475#64605475",
          "title":"Do the apoc.import use merge or create to add new data?"
        },
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1604084689,
          "creation_date":1604084689,
          "answer_id":64614341,
          "question_id":64595467,
          "share_link":"https://stackoverflow.com/a/64614341",
          "body_markdown":"As indicated by by @Pablissimo&#39;s answer, the `ignoreDuplicateNodes` config option (when explicitly set to `true`) *does not actually check for duplicates in the DB* - it just checks within the file. A request to address this hole was [brought up before](https://github.com/neo4j-contrib/neo4j-apoc-procedures/issues/1048), but nothing has been done yet to address it. So, if this is a concern for your use case, then you should not use `apoc.import.csv`. **The rest of this answer applies iff your files never specify nodes that already exist in your DB.** If your node CSV file follows the `neo4j-admin import` command&#39;s [import file header format](https://neo4j.com/docs/operations-manual/current/tools/import/file-header-format/) and has a header that specifies the `:ID` field for the column containing the node&#39;s unique ID, then the [apoc.import.csv](https://neo4j.com/labs/apoc/4.1/import/import-csv/) procedure should, by default, **fail** when it encounters duplicate node IDs (within the same file). That is because the procedure&#39;s `ignoreDuplicateNodes` config value defaults to `false` (you can specify `true` to skip duplicate IDs instead of failing). However, since your node imports are not failing but are generating duplicate nodes, that implies your node CSV file does not specify the `:ID` field as appropriate. To fix this, you need to add the `:ID` field and call the procedure with the config option `ignoreDuplicateNodes:true`. Or, you can modify those CSV files somehow to remove duplicate rows. ",
          "link":"https://stackoverflow.com/questions/64595467/do-the-apoc-import-use-merge-or-create-to-add-new-data/64614341#64614341",
          "title":"Do the apoc.import use merge or create to add new data?"
        }
      ],
      "owner":{
        "reputation":1463,
        "user_id":3943868,
        "user_type":"registered",
        "accept_rate":57,
        "profile_image":"https://lh3.googleusercontent.com/-swRsP46mbOM/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nDXd35-wgFUunYOlpBSMnvFhD82kw/photo.jpg?sz=128",
        "display_name":"marlon",
        "link":"https://stackoverflow.com/users/3943868/marlon"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":19,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":2,
      "score":0,
      "last_activity_date":1604084689,
      "creation_date":1603989485,
      "question_id":64595467,
      "share_link":"https://stackoverflow.com/q/64595467",
      "body_markdown":" CALL apoc.import.csv( [{fileName: &#39;file:/persons.csv&#39;, labels: [&#39;Person&#39;]}], [{fileName: &#39;file:/knows.csv&#39;, type: &#39;KNOWS&#39;}], {delimiter: &#39;|&#39;, arrayDelimiter: &#39;,&#39;, stringIds: false} ) For this example, internally, does the &#39;import&#39; use merge or create to add nodes, relationships and properties? I tested, it seems it uses &#39;create&#39; to add new rows even for a new ID record. Is there a way to control this? When to use apoc.load VS apoc.import? It seems apoc.load is a lot more flexible, where users can choose to use cypher commands specifically for purposes. Right?",
      "link":"https://stackoverflow.com/questions/64595467/do-the-apoc-import-use-merge-or-create-to-add-new-data",
      "title":"Do the apoc.import use merge or create to add new data?"
    },
    {
      "tags":[
        "neo4j",
        "graphql",
        "cypher",
        "neo4j-graphql-js"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":24148,
            "user_id":4989460,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/627504df176d3faaec81c45c963235f4?s=128&d=identicon&r=PG&f=1",
            "display_name":"stdob--",
            "link":"https://stackoverflow.com/users/4989460/stdob"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1604140678,
          "creation_date":1604140678,
          "answer_id":64620808,
          "question_id":64594151,
          "share_link":"https://stackoverflow.com/a/64620808",
          "body_markdown":"The problem is that according to the `Person` definition, there must be an object at the query output. So try this query WITH [[&quot;foo&quot;, 42], [&quot;bar&quot;, 43]] AS x UNWIND x AS y RETURN { name: y[0], age: y[1] } as Person",
          "link":"https://stackoverflow.com/questions/64594151/neo4j-graphql-js-satisfy-type-using-cypher-without-returning-a-concrete-node/64620808#64620808",
          "title":"neo4j-graphql-js: satisfy type using @cypher without returning a concrete node"
        }
      ],
      "owner":{
        "reputation":3509,
        "user_id":257169,
        "user_type":"registered",
        "accept_rate":67,
        "profile_image":"https://www.gravatar.com/avatar/21a0a83dad6adfbfea61835c9ad1b61a?s=128&d=identicon&r=PG",
        "display_name":"amoe",
        "link":"https://stackoverflow.com/users/257169/amoe"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":9,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1604140678,
      "creation_date":1603984969,
      "question_id":64594151,
      "share_link":"https://stackoverflow.com/q/64594151",
      "body_markdown":"Often I want to create a GraphQL type that represents the results of a Cypher query that spans than one node. I can&#39;t return a concrete node from `@cypher` in this case, as no such node exists. I tried to return appropriately named fields from a top-level `@cypher` query but this approach did not work. ``` import { makeAugmentedSchema, neo4jgraphql } from &#39;neo4j-graphql-js&#39;; import { ApolloServer } from &#39;apollo-server&#39;; import neo4j from &#39;neo4j-driver&#39;; const typeDefs = ` type Person { name: String age: Int } type Query { persons: [Person] @cypher( statement: &quot;&quot;&quot; WITH [[&quot;foo&quot;, 42], [&quot;bar&quot;, 43]] AS x UNWIND x AS y RETURN y[0] AS name, y[1] AS age &quot;&quot;&quot; ) } `; const driver = neo4j.driver( &#39;bolt://localhost:7687&#39;, neo4j.auth.basic(&#39;neo4j&#39;, &#39;password&#39;) ); const resolvers = { }; const schema = makeAugmentedSchema({ typeDefs, resolvers }); const server = new ApolloServer( { schema, resolvers, context: {driver} } ) server.listen(4000, &#39;0.0.0.0&#39;).then(({ url }) =&gt; { console.log(`GraphQL API ready at ${url}`); }); ``` Query: ``` { persons { name age } } ``` Yields the error: ``` { &quot;errors&quot;: [ { &quot;message&quot;: &quot;String(\\&quot;foo\\&quot;) (of class org.neo4j.values.storable.StringWrappingStringValue)&quot;, &quot;locations&quot;: [ { &quot;line&quot;: 2, &quot;column&quot;: 3 } ], &quot;path&quot;: [ &quot;persons&quot; ], &quot;extensions&quot;: { &quot;code&quot;: &quot;INTERNAL_SERVER_ERROR&quot;, &quot;exception&quot;: { &quot;code&quot;: &quot;Neo.DatabaseError.General.UnknownError&quot;, &quot;name&quot;: &quot;Neo4jError&quot;, &quot;stacktrace&quot;: [ &quot;Neo4jError: String(\\&quot;foo\\&quot;) (of class org.neo4j.values.storable.StringWrappingStringValue)&quot;, &quot;&quot;, &quot; at captureStacktrace (/home/amoe/dev/neo4j-graphql-js-return-aggregate-type/node_modules/neo4j-driver/lib/result.js:277:15)&quot;, &quot; at new Result (/home/amoe/dev/neo4j-graphql-js-return-aggregate-type/node_modules/neo4j-driver/lib/result.js:68:19)&quot;, &quot; at newCompletedResult (/home/amoe/dev/neo4j-graphql-js-return-aggregate-type/node_modules/neo4j-driver/lib/transaction.js:449:10)&quot;, &quot; at Object.run (/home/amoe/dev/neo4j-graphql-js-return-aggregate-type/node_modules/neo4j-driver/lib/transaction.js:287:14)&quot;, &quot; at Transaction.run (/home/amoe/dev/neo4j-graphql-js-return-aggregate-type/node_modules/neo4j-driver/lib/transaction.js:123:32)&quot;, &quot; at _callee2$ (/home/amoe/dev/neo4j-graphql-js-return-aggregate-type/node_modules/neo4j-graphql-js/dist/index.js:222:35)&quot;, &quot; at tryCatch (/home/amoe/dev/neo4j-graphql-js-return-aggregate-type/node_modules/regenerator-runtime/runtime.js:63:40)&quot;, &quot; at Generator.invoke [as _invoke] (/home/amoe/dev/neo4j-graphql-js-return-aggregate-type/node_modules/regenerator-runtime/runtime.js:293:22)&quot;, &quot; at Generator.next (/home/amoe/dev/neo4j-graphql-js-return-aggregate-type/node_modules/regenerator-runtime/runtime.js:118:21)&quot;, &quot; at asyncGeneratorStep (/home/amoe/dev/neo4j-graphql-js-return-aggregate-type/node_modules/@babel/runtime-corejs2/helpers/asyncToGenerator.js:5:24)&quot; ] } } } ], &quot;data&quot;: { &quot;persons&quot;: null } } ``` I know I can satisfy individual fields with a per-field `@cypher` annotation, that&#39;s not appropriate for this case. This question is about satisfying a whole result type. If the answer requires using a custom handler in the `resolvers` array, that&#39;s also fine, as long as I can gather the data required to satisfy the type within a single query. Or if this is impossible, that would also be useful information.",
      "link":"https://stackoverflow.com/questions/64594151/neo4j-graphql-js-satisfy-type-using-cypher-without-returning-a-concrete-node",
      "title":"neo4j-graphql-js: satisfy type using @cypher without returning a concrete node"
    },
    {
      "tags":[
        "import",
        "neo4j",
        "symlink"
      ],
      "owner":{
        "reputation":418,
        "user_id":7983959,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/f0f5c7f4012ec8b85f6df04cf79e182f?s=128&d=identicon&r=PG&f=1",
        "display_name":"Ivan G.",
        "link":"https://stackoverflow.com/users/7983959/ivan-g"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":18,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1603984941,
      "creation_date":1603984941,
      "question_id":64594142,
      "share_link":"https://stackoverflow.com/q/64594142",
      "body_markdown":"I cannot access the contents of a symlink&#39;d directory using &#39;LOAD CSV&#39; in Neo4j, version 4.1.3-enterprise. Here is a basic setup (run from above the import directory): ```bash mkdir test-link echo -e &quot;col\nval&quot; &gt; test-link/test.csv ln -s $(realpath test-link) $(realpath import/test-link) cat import/test-link/test.csv # Just to make sure it works ``` Then this can be run in the Neo4j browser: ```cypher LOAD CSV WITH HEADERS FROM &#39;file:///test-link/test.csv&#39; AS row RETURN row.col; ``` This yields `Couldn&#39;t load the external resource at: file:/import/test-link/test.csv` Remove the symlink and just copy the file to the directory, and the query will work: ```bash rm import/test-link mkdir import/test-link cp test-link/test.csv import/test-link/ ```",
      "link":"https://stackoverflow.com/questions/64594142/access-symlinkd-directory-in-neo4j-import-directory",
      "title":"Access symlink&#39;d directory in Neo4j import directory"
    },
    {
      "tags":[
        "neo4j",
        "graph-databases"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603999303,
          "last_edit_date":1603999303,
          "creation_date":1603998677,
          "answer_id":64597717,
          "question_id":64589574,
          "share_link":"https://stackoverflow.com/a/64597717",
          "body_markdown":"It is, of course, *possible* to import data from a relational DB to neo4j. And there are many ways to do it, but some ways are easier than others. You should look at the [documentation](https://neo4j.com/labs/apoc/4.1/database-integration/load-jdbc/) for the APOC procedure `apoc.load.jdbc`, which shows an example of importing data from MySQL. Here is another [helpful article](https://neo4j.com/blog/dont-choose-one-database-choose-them-all/). Alternatively, you can create/update a neo4j database using Cypher via the [neo4j JDBC Driver](https://neo4j-contrib.github.io/neo4j-jdbc/), or using SQL via the [neo4j BI Connector](https://neo4j.com/bi-connector/). Here is a [discussion](https://neo4j.com/developer/kb/neo4j-and-jdbc/) on these two approaches.",
          "link":"https://stackoverflow.com/questions/64589574/can-i-use-neo4j-as-intermediate-db/64597717#64597717",
          "title":"Can i use neo4j as intermediate DB?"
        }
      ],
      "owner":{
        "reputation":1,
        "user_id":14367473,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/ae9807c204a3a64b40f99b241713523f?s=128&d=identicon&r=PG&f=1",
        "display_name":"Ajay D",
        "link":"https://stackoverflow.com/users/14367473/ajay-d"
      },
      "last_editor":{
        "reputation":9288,
        "user_id":7879193,
        "user_type":"registered",
        "profile_image":"https://lh5.googleusercontent.com/-bVdcN0nQCio/AAAAAAAAAAI/AAAAAAAACfs/jPa4Dr_Nzbk/photo.jpg?sz=128",
        "display_name":"Stanislav Kralin",
        "link":"https://stackoverflow.com/users/7879193/stanislav-kralin"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":19,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "closed_date":1604076075,
      "answer_count":1,
      "score":0,
      "last_activity_date":1604069023,
      "creation_date":1603968466,
      "last_edit_date":1604069023,
      "question_id":64589574,
      "share_link":"https://stackoverflow.com/q/64589574",
      "body_markdown":"How to use neo4j as an intermediate DB like if everything is stored in MySQL, is there any possibility to query some part of data from MySQL and store it in Neo4j and depending on the user requirement is there any possibility of updating data with new data.(kind of like a cache data upon user request) If there is a possibility please give me the necessary links Thanks, in advance",
      "link":"https://stackoverflow.com/questions/64589574/can-i-use-neo4j-as-intermediate-db",
      "closed_reason":"Needs more focus",
      "title":"Can i use neo4j as intermediate DB?"
    },
    {
      "tags":[
        "python",
        "python-3.x",
        "neo4j"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603999685,
          "creation_date":1603999685,
          "answer_id":64597969,
          "question_id":64588444,
          "share_link":"https://stackoverflow.com/a/64597969",
          "body_markdown":"`bolt` and `neo4j` are just URI [schemes](https://en.wikipedia.org/wiki/Uniform_Resource_Identifier#Definition) that are automatically understood by neo4j, without any effort on your part.",
          "link":"https://stackoverflow.com/questions/64588444/what-is-the-prefix-name-in-the-uri-driver/64597969#64597969",
          "title":"what is the prefix name in the uri driver"
        }
      ],
      "owner":{
        "reputation":753,
        "user_id":8523137,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/1eafb50eb6b538ea70eef39c2ad2b1d0?s=128&d=identicon&r=PG&f=1",
        "display_name":"Boom",
        "link":"https://stackoverflow.com/users/8523137/boom"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":19,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603999685,
      "creation_date":1603964379,
      "last_edit_date":1603999417,
      "question_id":64588444,
      "share_link":"https://stackoverflow.com/q/64588444",
      "body_markdown":"I saw several examples of opening driver to work with neo4j (from `python`): from neo4j import GraphDatabase uri = &quot;neo4j://localhost:7687&quot; driver = GraphDatabase.driver(uri, auth=(&quot;neo4j&quot;, &quot;password&quot;)) or uri = &quot;bolt://localhost:7687&quot; driver = GraphDatabase.driver(uri, auth=(&quot;neo4j&quot;, &quot;password&quot;)) 1. What are the `bolt` or `neo4j` before the `::/localhost:7687`? 2. Do I need to create them in advance? ",
      "link":"https://stackoverflow.com/questions/64588444/what-is-the-prefix-name-in-the-uri-driver",
      "title":"what is the prefix name in the uri driver"
    },
    {
      "tags":[
        "neo4j",
        "cypher",
        "neo4j-apoc"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":1463,
                "user_id":3943868,
                "user_type":"registered",
                "accept_rate":57,
                "profile_image":"https://lh3.googleusercontent.com/-swRsP46mbOM/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nDXd35-wgFUunYOlpBSMnvFhD82kw/photo.jpg?sz=128",
                "display_name":"marlon",
                "link":"https://stackoverflow.com/users/3943868/marlon"
              },
              "edited":false,
              "score":0,
              "creation_date":1603991389,
              "post_id":64584782,
              "comment_id":114217697,
              "link":"https://stackoverflow.com/questions/64580313/is-it-possible-not-to-output-relation-column-when-using-apoc-export/64584782#comment114217697_64584782"
            },
            {
              "owner":{
                "reputation":56013,
                "user_id":974731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name":"cybersam",
                "link":"https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user":{
                "reputation":1463,
                "user_id":3943868,
                "user_type":"registered",
                "accept_rate":57,
                "profile_image":"https://lh3.googleusercontent.com/-swRsP46mbOM/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nDXd35-wgFUunYOlpBSMnvFhD82kw/photo.jpg?sz=128",
                "display_name":"marlon",
                "link":"https://stackoverflow.com/users/3943868/marlon"
              },
              "edited":false,
              "score":0,
              "creation_date":1603992718,
              "post_id":64584782,
              "comment_id":114218360,
              "link":"https://stackoverflow.com/questions/64580313/is-it-possible-not-to-output-relation-column-when-using-apoc-export/64584782#comment114218360_64584782"
            },
            {
              "owner":{
                "reputation":1463,
                "user_id":3943868,
                "user_type":"registered",
                "accept_rate":57,
                "profile_image":"https://lh3.googleusercontent.com/-swRsP46mbOM/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nDXd35-wgFUunYOlpBSMnvFhD82kw/photo.jpg?sz=128",
                "display_name":"marlon",
                "link":"https://stackoverflow.com/users/3943868/marlon"
              },
              "edited":false,
              "score":0,
              "creation_date":1603992853,
              "post_id":64584782,
              "comment_id":114218412,
              "link":"https://stackoverflow.com/questions/64580313/is-it-possible-not-to-output-relation-column-when-using-apoc-export/64584782#comment114218412_64584782"
            },
            {
              "owner":{
                "reputation":56013,
                "user_id":974731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name":"cybersam",
                "link":"https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user":{
                "reputation":1463,
                "user_id":3943868,
                "user_type":"registered",
                "accept_rate":57,
                "profile_image":"https://lh3.googleusercontent.com/-swRsP46mbOM/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nDXd35-wgFUunYOlpBSMnvFhD82kw/photo.jpg?sz=128",
                "display_name":"marlon",
                "link":"https://stackoverflow.com/users/3943868/marlon"
              },
              "edited":false,
              "score":0,
              "creation_date":1603994516,
              "post_id":64584782,
              "comment_id":114219128,
              "link":"https://stackoverflow.com/questions/64580313/is-it-possible-not-to-output-relation-column-when-using-apoc-export/64584782#comment114219128_64584782"
            },
            {
              "owner":{
                "reputation":1463,
                "user_id":3943868,
                "user_type":"registered",
                "accept_rate":57,
                "profile_image":"https://lh3.googleusercontent.com/-swRsP46mbOM/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nDXd35-wgFUunYOlpBSMnvFhD82kw/photo.jpg?sz=128",
                "display_name":"marlon",
                "link":"https://stackoverflow.com/users/3943868/marlon"
              },
              "edited":false,
              "score":0,
              "creation_date":1603996355,
              "post_id":64584782,
              "comment_id":114219798,
              "link":"https://stackoverflow.com/questions/64580313/is-it-possible-not-to-output-relation-column-when-using-apoc-export/64584782#comment114219798_64584782"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":5,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603994511,
          "last_edit_date":1603994511,
          "creation_date":1603943775,
          "answer_id":64584782,
          "question_id":64580313,
          "share_link":"https://stackoverflow.com/a/64584782",
          "body_markdown":"You can use the APOC function [apoc.text.replace](https://neo4j.com/labs/apoc/4.1/misc/text-functions/) to modify the CSV string to remove the unwanted rows: MATCH (c:computer) WITH COLLECT(DISTINCT c) AS cs CALL apoc.export.csv.data(cs, [], null, {stream:true, batchSize:100}) YIELD data WITH apoc.text.replace(data, &#39;(?:,&quot;_start&quot;,&quot;_end&quot;,&quot;_type&quot;|,,,)(?=\n)&#39;, &quot;&quot;) AS newData ... // use newData, which does not have the last 3 columns Since the 3 columns you don&#39;t want are at the end of each row, the regular expression `(?:,&quot;_start&quot;,&quot;_end&quot;,&quot;_type&quot;|,,,)(?=\n)` matches the unwanted text at the end of each row (whether the header row or a data row). [UPDATE] With respect to the `ADDITIONS` issues: a [WITH](https://neo4j.com/docs/cypher-manual/current/clauses/with/) clause will drop any variables not specified by the clause, so `N` was not being carried forward. Also, you had other issues. This should fix up all the issues: MATCH (m:SportsTeam)-[r:hasMember]-(n) WITH COLLECT(DISTINCT m) AS M, COLLECT(DISTINCT n) AS N, COLLECT(r) as R CALL apoc.export.csv.data( M, [], null, {stream:true}) YIELD data WITH apoc.text.replace(data, &#39;(?:,&quot;_start&quot;,&quot;_end&quot;,&quot;_type&quot;|,,,)(?=\n)&#39;, &#39;&#39;) AS mdata, N, R CALL apoc.export.csv.data( N, [], null, {stream:true}) YIELD data WITH apoc.text.replace(data, &#39;(?:,&quot;_start&quot;,&quot;_end&quot;,&quot;_type&quot;|,,,)(?=\n)&#39;, &#39;&#39;) AS ndata, mdata, R CALL apoc.export.csv.data( [], R, null, {stream:true}) YIELD data AS rdata RETURN mdata, ndata, rdata ",
          "link":"https://stackoverflow.com/questions/64580313/is-it-possible-not-to-output-relation-column-when-using-apoc-export/64584782#64584782",
          "title":"Is it possible not to output relation column when using APOC.export?"
        }
      ],
      "owner":{
        "reputation":1463,
        "user_id":3943868,
        "user_type":"registered",
        "accept_rate":57,
        "profile_image":"https://lh3.googleusercontent.com/-swRsP46mbOM/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nDXd35-wgFUunYOlpBSMnvFhD82kw/photo.jpg?sz=128",
        "display_name":"marlon",
        "link":"https://stackoverflow.com/users/3943868/marlon"
      },
      "last_editor":{
        "reputation":1463,
        "user_id":3943868,
        "user_type":"registered",
        "accept_rate":57,
        "profile_image":"https://lh3.googleusercontent.com/-swRsP46mbOM/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nDXd35-wgFUunYOlpBSMnvFhD82kw/photo.jpg?sz=128",
        "display_name":"marlon",
        "link":"https://stackoverflow.com/users/3943868/marlon"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":26,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64584782,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603994511,
      "creation_date":1603914603,
      "last_edit_date":1603993062,
      "question_id":64580313,
      "share_link":"https://stackoverflow.com/q/64580313",
      "body_markdown":" MATCH (m:computer) WITH collect(DISTINCT m) AS M CALL apoc.export.csv.data( M, [], null, {stream:true, batchSize:100}) YIELD data as mdata For such a query, even if just for export nodes, without relationships, it still gives the following field with all empty values: _start _end _type And it&#39;s hard to filter out them in the process. Is there a parameter to control this? ADDITIONS: MATCH (m:SportsTeam)-[r:hasMember]-(n) WITH collect(DISTINCT m) AS M, collect(DISTINCT n) AS N, collect(r) as R CALL apoc.export.csv.data( M, [], null, {stream:true}) YIELD data WITH apoc.text.replace(data, &#39;(?:,&quot;_start&quot;,&quot;_end&quot;,&quot;_type&quot;|,,,)(?=\n)&#39;, &#39;&#39;) AS mdata CALL apoc.export.csv.data( N, [], null, {stream:true}) YIELD data as ndata WITH apoc.text.replace(data, &#39;(?:,&quot;_start&quot;,&quot;_end&quot;,&quot;_type&quot;|,,,)(?=\n)&#39;, &#39;&#39;) AS ndata CALL apoc.export.csv.data( [], R, null, {stream:true}) YIELD data as rdata RETURN mdata, ndata, rdata What I am doing here is to output the node M, node N and relation R into 3 different files. After I added the 2 replace functions to get rid of the last 3 columns, it reports this error: neobolt.exceptions.CypherSyntaxError: Variable `N` not defined (line 5, column 28 (offset: 282)) &quot;CALL apoc.export.csv.data( N, [], null, {stream:true}) YIELD data as ndata&quot; Does the CALL and WITH can&#39;t be used in a row like this? ",
      "link":"https://stackoverflow.com/questions/64580313/is-it-possible-not-to-output-relation-column-when-using-apoc-export",
      "title":"Is it possible not to output relation column when using APOC.export?"
    },
    {
      "tags":[
        "neo4j",
        "google-colaboratory",
        "py2neo",
        "ngrok",
        "neo4j-bolt"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":35,
                "user_id":11745269,
                "user_type":"registered",
                "profile_image":"https://i.stack.imgur.com/2E96X.jpg?s=128&g=1",
                "display_name":"Paras Gupta",
                "link":"https://stackoverflow.com/users/11745269/paras-gupta"
              },
              "edited":false,
              "score":0,
              "creation_date":1603918060,
              "post_id":64580632,
              "comment_id":114191682,
              "link":"https://stackoverflow.com/questions/64579678/how-to-use-ngrok-to-expose-neo4j-instance-running-on-localhost-to-be-used-by-goo/64580632#comment114191682_64580632"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":16640,
            "user_id":2662355,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name":"Christophe Willemsen",
            "link":"https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603916092,
          "creation_date":1603916092,
          "answer_id":64580632,
          "question_id":64579678,
          "share_link":"https://stackoverflow.com/a/64580632",
          "body_markdown":"The `bolt` port on 7687 is not on http, but on TCP. You can use `ngrok tcp 7687` instead, you will need to open an account on ngrok in order to use the tcp forwarding feature.",
          "link":"https://stackoverflow.com/questions/64579678/how-to-use-ngrok-to-expose-neo4j-instance-running-on-localhost-to-be-used-by-goo/64580632#64580632",
          "title":"How to use ngrok to expose neo4j instance running on localhost to be used by google colab?"
        }
      ],
      "owner":{
        "reputation":35,
        "user_id":11745269,
        "user_type":"registered",
        "profile_image":"https://i.stack.imgur.com/2E96X.jpg?s=128&g=1",
        "display_name":"Paras Gupta",
        "link":"https://stackoverflow.com/users/11745269/paras-gupta"
      },
      "last_editor":{
        "reputation":35,
        "user_id":11745269,
        "user_type":"registered",
        "profile_image":"https://i.stack.imgur.com/2E96X.jpg?s=128&g=1",
        "display_name":"Paras Gupta",
        "link":"https://stackoverflow.com/users/11745269/paras-gupta"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":23,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64580632,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603916092,
      "creation_date":1603911818,
      "last_edit_date":1603913491,
      "question_id":64579678,
      "share_link":"https://stackoverflow.com/q/64579678",
      "body_markdown":"I am trying to use my local neo4j server through google colab. I am using ngrok to expose the port using command: `ngrok http 7687`. It gives something like this: [![ngrok][1]][1] ngrok is working fine. But When trying to connect using colab, I am getting the following error: [![colab_py2neo][2]][2] [1]: https://i.stack.imgur.com/tZh5Q.png [2]: https://i.stack.imgur.com/sdvF3.png Somehow, `port 7687` is being used by default but I don&#39;t need any port for this particular case. Any help is much appreciated. Thanks",
      "link":"https://stackoverflow.com/questions/64579678/how-to-use-ngrok-to-expose-neo4j-instance-running-on-localhost-to-be-used-by-goo",
      "title":"How to use ngrok to expose neo4j instance running on localhost to be used by google colab?"
    },
    {
      "tags":[
        "neo4j",
        "cypher",
        "graph-databases"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":2452,
            "user_id":677173,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name":"Pablissimo",
            "link":"https://stackoverflow.com/users/677173/pablissimo"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603882986,
          "creation_date":1603882986,
          "answer_id":64571522,
          "question_id":64569614,
          "share_link":"https://stackoverflow.com/a/64571522",
          "body_markdown":"It&#39;s probably the `*` in the relationship part of your query that&#39;s doing it. While you&#39;ve got only one Category node and two Template nodes, you&#39;ve asked Neo4j to hop through any number of relationships to get from one to the other and not given it any help to narrow down the search besides specifying the starting node. For example, if your Category was connected to 100,000 other nodes (of any label, not just Template) you&#39;ve forced Neo4j to jump through every single one of them looking to see if there&#39;s a path to a Template node - and if those nodes have their own connections then they all need to be explored too, because the depth of the traversal isn&#39;t constrained. If you know how Category and Template nodes can be connected in ways you&#39;re interested in (for example, if there&#39;s only every some specific set of relationships you want to traverse) then you&#39;ll radically improve the performance of the query. Equally, reducing the maximum length of the path will help.",
          "link":"https://stackoverflow.com/questions/64569614/why-so-many-db-hit-in-neo4j/64571522#64571522",
          "title":"Why so many db hit in neo4j?"
        }
      ],
      "owner":{
        "reputation":45,
        "user_id":9143843,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/cf077b92cef01f65a01090f26946d9f1?s=128&d=identicon&r=PG&f=1",
        "display_name":"Miko",
        "link":"https://stackoverflow.com/users/9143843/miko"
      },
      "last_editor":{
        "reputation":9288,
        "user_id":7879193,
        "user_type":"registered",
        "profile_image":"https://lh5.googleusercontent.com/-bVdcN0nQCio/AAAAAAAAAAI/AAAAAAAACfs/jPa4Dr_Nzbk/photo.jpg?sz=128",
        "display_name":"Stanislav Kralin",
        "link":"https://stackoverflow.com/users/7879193/stanislav-kralin"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":24,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603894499,
      "creation_date":1603876098,
      "last_edit_date":1603894499,
      "question_id":64569614,
      "share_link":"https://stackoverflow.com/q/64569614",
      "body_markdown":"[![enter image description here][1]][1] [![enter image description here][2]][2] There is total 1 Category node and 2 Template node in my case. I put an * in [*] to support more further scenarios. But why there are so many db hit in this cypher for current data? [1]: https://i.stack.imgur.com/mNWEl.png [2]: https://i.stack.imgur.com/HPBUD.png",
      "link":"https://stackoverflow.com/questions/64569614/why-so-many-db-hit-in-neo4j",
      "title":"Why so many db hit in neo4j?"
    },
    {
      "tags":[
        "python",
        "python-3.x",
        "neo4j"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603918199,
          "creation_date":1603918199,
          "answer_id":64581091,
          "question_id":64567341,
          "share_link":"https://stackoverflow.com/a/64581091",
          "body_markdown":"Unless you want to use the &quot;system&quot; or &quot;neo4j&quot; databases, you need to [create a database](https://neo4j.com/docs/cypher-manual/4.1/administration/databases/#administration-databases-create-database) before trying to use it.",
          "link":"https://stackoverflow.com/questions/64567341/why-im-getting-the-error-message-unable-to-get-a-routing-table-for-database/64581091#64581091",
          "title":"Why I&#39;m getting the error message: Unable to get a routing table for database"
        }
      ],
      "owner":{
        "reputation":753,
        "user_id":8523137,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/1eafb50eb6b538ea70eef39c2ad2b1d0?s=128&d=identicon&r=PG&f=1",
        "display_name":"Boom",
        "link":"https://stackoverflow.com/users/8523137/boom"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":25,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64581091,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603918199,
      "creation_date":1603865556,
      "question_id":64567341,
      "share_link":"https://stackoverflow.com/q/64567341",
      "body_markdown":"I&#39;m trying to build simple database in neo4j and check if node exists. I wrote a simple code: def find_and_return_person(tx, person_name): query = ( &quot;MATCH (p:Person) &quot; &quot;WHERE p.name = $person_name &quot; &quot;RETURN p.name AS name&quot; ) result = tx.run(query, person_name=person_name) return [record[&quot;name&quot;] for record in result] if __name__ == &quot;__main__&quot;: scheme = &quot;neo4j&quot; host_name = &quot;localhost&quot; port = 7687 url = &quot;{scheme}://{host_name}:{port}&quot;.format(scheme=scheme, host_name=host_name, port=port) user = &quot;neo4j&quot; password = &quot;s3cr3t&quot; driver = GraphDatabase.driver(url, auth=(user, password)) session = driver.session(database=&quot;foo&quot;) result = session.read_transaction(find_and_return_person, &quot;Alice&quot;) But I&#39;m getting error: neo4j.exceptions.ClientError: {code: Neo.ClientError.Database.DatabaseNotFound} {message: Unable to get a routing table for database &#39;foo&#39; because this database does not exist} What is wrong ? (I created a new session named &quot;foo&quot;) so what it missing ?",
      "link":"https://stackoverflow.com/questions/64567341/why-im-getting-the-error-message-unable-to-get-a-routing-table-for-database",
      "title":"Why I&#39;m getting the error message: Unable to get a routing table for database"
    },
    {
      "tags":[
        "hash",
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":11,
            "user_id":8645910,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/3831db1d7461d56da4e2935de281b33b?s=128&d=identicon&r=PG&f=1",
            "display_name":"Robert Kuhlig",
            "link":"https://stackoverflow.com/users/8645910/robert-kuhlig"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603809732,
          "creation_date":1603809732,
          "answer_id":64556825,
          "question_id":64556541,
          "share_link":"https://stackoverflow.com/a/64556825",
          "body_markdown":"Have it - i used [] CREATE (p:person { FirstName:&quot;M&quot;, LastName: &quot;H&quot; , Language: &quot;de&quot;, hash: apoc.util.sha512(**[**&quot;1234567&quot;,&quot;salt&quot;**]**)});",
          "link":"https://stackoverflow.com/questions/64556541/how-to-create-a-hash-in-neo4j-from-given-string/64556825#64556825",
          "title":"How to create a Hash in Neo4j from given string?"
        }
      ],
      "owner":{
        "reputation":11,
        "user_id":8645910,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/3831db1d7461d56da4e2935de281b33b?s=128&d=identicon&r=PG&f=1",
        "display_name":"Robert Kuhlig",
        "link":"https://stackoverflow.com/users/8645910/robert-kuhlig"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":12,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603809732,
      "creation_date":1603808710,
      "question_id":64556541,
      "share_link":"https://stackoverflow.com/q/64556541",
      "body_markdown":"I do the following CREATE (p:person { FirstName:&quot;M&quot;, LastName: &quot;H&quot; , Language: &quot;en&quot;, hash: apoc.util.sha512(&#39;1234567&#39;,&#39;salt&#39;)}); Error: Function call does not provide the required number of arguments: expected 1 got 2. Function apoc.util.sha512 has signature: apoc.util.sha512(values :: LIST? OF ANY?) :: STRING? meaning that it expects 1 argument of type LIST? OF ANY? Description: apoc.util.sha512([values]) | computes the sha512 of the concatenation of all string values of the list (line 2, column 73 (offset: 73)) &quot;CREATE (p:person { FirstName:&quot;M&quot;, LastName: &quot;H&quot; , Language: &quot;en&quot;, hash: apoc.util.sha512(&#39;1234567&#39;,&#39;salt&#39;)});&quot; what is a Type of List argument? thanks rob",
      "link":"https://stackoverflow.com/questions/64556541/how-to-create-a-hash-in-neo4j-from-given-string",
      "title":"How to create a Hash in Neo4j from given string?"
    },
    {
      "tags":[
        "python-3.x",
        "neo4j",
        "neo4j-driver"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603854886,
          "last_edit_date":1603854886,
          "creation_date":1603813161,
          "answer_id":64557879,
          "question_id":64556034,
          "share_link":"https://stackoverflow.com/a/64557879",
          "body_markdown":"To connect to a specific database, you can pass the database&#39;s name as the value of the [`database` keyword argument](https://github.com/neo4j/neo4j-python-driver/blob/8f708fe9374f7e6bdfdf84ff611f266a8a5e9344/docs/source/api.rst#database) when you create the [Session](https://github.com/neo4j/neo4j-python-driver/blob/8f708fe9374f7e6bdfdf84ff611f266a8a5e9344/docs/source/api.rst#session) used for your transactions. For example, to create a Session for the database named &quot;foo&quot;: ... driver = GraphDatabase.driver(uri, auth=(user, password)) session = driver.session(database=&quot;foo&quot;) ...",
          "link":"https://stackoverflow.com/questions/64556034/how-to-create-a-new-db-or-connect-to-existing-one/64557879#64557879",
          "title":"How to create a new DB or connect to existing one"
        }
      ],
      "owner":{
        "reputation":753,
        "user_id":8523137,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/1eafb50eb6b538ea70eef39c2ad2b1d0?s=128&d=identicon&r=PG&f=1",
        "display_name":"Boom",
        "link":"https://stackoverflow.com/users/8523137/boom"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":28,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64557879,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603854899,
      "creation_date":1603806937,
      "last_edit_date":1603854899,
      "question_id":64556034,
      "share_link":"https://stackoverflow.com/q/64556034",
      "body_markdown":"I pulled and run neo4j docker: sudo docker run -p7474:7474 -p7687:7687 -e NEO4J_AUTH=neo4j/s3cr3t neo4j From python I can connect to it with: scheme = &quot;neo4j&quot; host_name = &quot;localhost&quot; port = 7687 url = &quot;{scheme}://{host_name}:{port}&quot;.format(scheme=scheme, host_name=host_name, port=port) user = &quot;neo4j&quot; password = &quot;s3cr3t&quot; driver = GraphDatabase.driver(url, auth=(user, password)) But it seems that there is no API to choose the `DB name` I want to work with ? - Is it possible to create multiple databases (like `postgres` `psycopg2` `connect` function with `dbname` ?) - I want to be able to create 2 different DBs (graphs) and to choose the DB (graph) to work with through python - How can I do it ? ",
      "link":"https://stackoverflow.com/questions/64556034/how-to-create-a-new-db-or-connect-to-existing-one",
      "title":"How to create a new DB or connect to existing one"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":78,
                "user_id":13153117,
                "user_type":"registered",
                "profile_image":"https://i.stack.imgur.com/em2Uq.jpg?s=128&g=1",
                "display_name":"Stan Peng",
                "link":"https://stackoverflow.com/users/13153117/stan-peng"
              },
              "edited":false,
              "score":0,
              "creation_date":1603795811,
              "post_id":64552293,
              "comment_id":114143340,
              "link":"https://stackoverflow.com/questions/64551530/how-can-i-define-a-variable-in-foreach-clause-in-neo4j-how-to-find-the-number-o/64552293#comment114143340_64552293"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":16640,
            "user_id":2662355,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name":"Christophe Willemsen",
            "link":"https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603793792,
          "creation_date":1603793792,
          "answer_id":64552293,
          "question_id":64551530,
          "share_link":"https://stackoverflow.com/a/64552293",
          "body_markdown":"The issue is not the FOREACH, but because the `count` variable is initialized wrongly before : ``` MATCH(p1:Place), (p2:Place) WHERE p1.placeId &lt;&gt; p2.placeId WITH count = 0 ... ``` should become ``` MATCH(p1:Place), (p2:Place) WHERE p1.placeId &lt;&gt; p2.placeId WITH p1, p2, 0 AS count ... ```",
          "link":"https://stackoverflow.com/questions/64551530/how-can-i-define-a-variable-in-foreach-clause-in-neo4j-how-to-find-the-number-o/64552293#64552293",
          "title":"How can I define a variable in FOREACH clause in neo4j, How to find the number of common properties for two nodes"
        },
        {
          "comments":[
            {
              "owner":{
                "reputation":78,
                "user_id":13153117,
                "user_type":"registered",
                "profile_image":"https://i.stack.imgur.com/em2Uq.jpg?s=128&g=1",
                "display_name":"Stan Peng",
                "link":"https://stackoverflow.com/users/13153117/stan-peng"
              },
              "edited":false,
              "score":0,
              "creation_date":1603879175,
              "post_id":64558444,
              "comment_id":114173374,
              "link":"https://stackoverflow.com/questions/64551530/how-can-i-define-a-variable-in-foreach-clause-in-neo4j-how-to-find-the-number-o/64558444#comment114173374_64558444"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603814930,
          "creation_date":1603814930,
          "answer_id":64558444,
          "question_id":64551530,
          "share_link":"https://stackoverflow.com/a/64558444",
          "body_markdown":"You should use [REDUCE](https://neo4j.com/docs/cypher-manual/current/functions/list/#functions-reduce) instead of [FOREACH](https://neo4j.com/docs/cypher-manual/current/clauses/foreach/). For example: MATCH(p1:Place), (p2:Place) WHERE p1.placeId &lt; p2.placeId WITH p1, p2, REDUCE( s = 0, k IN [ &#39;isFranchise&#39;, &#39;parkingArrangements&#39;, &#39;placeAccessibility&#39;, &#39;placeAlcohol&#39;, &#39;placeArea&#39;, &#39;placeDressCode&#39;, &#39;placeOtherServices&#39;, &#39;placePrice&#39;, &#39;placeSmoking&#39;] | CASE WHEN p1[k] = p2[k] THEN s + 1 ELSE s END ) AS count WHERE count &gt; 3 RETURN p1, p2 The `p1.placeId &lt; p2.placeId` test uses the `&lt;` operator instead of `&lt;&gt;`, to avoid evaluating the same pair of nodes twice (in reverse order). *NOTE: The `MATCH` clause causes a cartesian product with O(N^2) complexity, so this is an expensive query.* ",
          "link":"https://stackoverflow.com/questions/64551530/how-can-i-define-a-variable-in-foreach-clause-in-neo4j-how-to-find-the-number-o/64558444#64558444",
          "title":"How can I define a variable in FOREACH clause in neo4j, How to find the number of common properties for two nodes"
        }
      ],
      "owner":{
        "reputation":78,
        "user_id":13153117,
        "user_type":"registered",
        "profile_image":"https://i.stack.imgur.com/em2Uq.jpg?s=128&g=1",
        "display_name":"Stan Peng",
        "link":"https://stackoverflow.com/users/13153117/stan-peng"
      },
      "last_editor":{
        "reputation":78,
        "user_id":13153117,
        "user_type":"registered",
        "profile_image":"https://i.stack.imgur.com/em2Uq.jpg?s=128&g=1",
        "display_name":"Stan Peng",
        "link":"https://stackoverflow.com/users/13153117/stan-peng"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":32,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64558444,
      "answer_count":2,
      "score":0,
      "last_activity_date":1603868742,
      "creation_date":1603791002,
      "last_edit_date":1603868742,
      "question_id":64551530,
      "share_link":"https://stackoverflow.com/q/64551530",
      "body_markdown":"As the title suggests, I have a problem of defining and storing variable in neo4j and below is my code: // 6. Display a list of pairs of restaurants having more than three features in common. MATCH(p1:Place), (p2:Place) WHERE p1.placeId &lt;&gt; p2.placeId WITH count = 0 FOREACH(ignoreMe in CASE WHEN p1.property1 = p2.property1 THEN [1] WHEN p1.property2 = p2.property2 THEN [1] WHEN ...//omit for university academic requirement ELSE [] END | count = count + 1 ) FOREACH(ignoreMe in CASE WHEN count &gt; 3 THEN [1] ELSE [] END | RETURN p1,p2 ) I want to find pair of places which have over 3 features in common. When I run this code, the problem occurs because inside foreach I cannot find the variable count. Is there any alternative solution to this? Or is there more efficient way to find the common features for two nodes? Any suggestion is appreciated. [![error screenshot][1]][1] [1]: https://i.stack.imgur.com/5pvCG.png",
      "link":"https://stackoverflow.com/questions/64551530/how-can-i-define-a-variable-in-foreach-clause-in-neo4j-how-to-find-the-number-o",
      "title":"How can I define a variable in FOREACH clause in neo4j, How to find the number of common properties for two nodes"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":56013,
                "user_id":974731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name":"cybersam",
                "link":"https://stackoverflow.com/users/974731/cybersam"
              },
              "edited":false,
              "score":0,
              "creation_date":1603916505,
              "post_id":64552344,
              "comment_id":114191073,
              "link":"https://stackoverflow.com/questions/64551373/how-to-select-the-node-with-the-highest-number-of-incoming-relationships/64552344#comment114191073_64552344"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":16640,
            "user_id":2662355,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name":"Christophe Willemsen",
            "link":"https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":true,
          "score":0,
          "last_activity_date":1603793980,
          "creation_date":1603793980,
          "answer_id":64552344,
          "question_id":64551373,
          "share_link":"https://stackoverflow.com/a/64552344",
          "body_markdown":"You can rewrite the query like this : ``` MATCH (e:Entity)-[r:PART_OF]-&gt;(s:Solution) WITH e, s, size((s)&lt;--()) AS incomingCount ORDER BY incomingCountDesc RETURN s LIMIT 1 ```",
          "link":"https://stackoverflow.com/questions/64551373/how-to-select-the-node-with-the-highest-number-of-incoming-relationships/64552344#64552344",
          "title":"How to select the node with the highest number of incoming relationships?"
        },
        {
          "comments":[
            {
              "owner":{
                "reputation":27,
                "user_id":13934618,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/98adf0db59ad0b23c01eac4a97a35abc?s=128&d=identicon&r=PG&f=1",
                "display_name":"pat_triccia",
                "link":"https://stackoverflow.com/users/13934618/pat-triccia"
              },
              "edited":false,
              "score":0,
              "creation_date":1603901297,
              "post_id":64558710,
              "comment_id":114184421,
              "link":"https://stackoverflow.com/questions/64551373/how-to-select-the-node-with-the-highest-number-of-incoming-relationships/64558710#comment114184421_64558710"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603815870,
          "creation_date":1603815870,
          "answer_id":64558710,
          "question_id":64551373,
          "share_link":"https://stackoverflow.com/a/64558710",
          "body_markdown":"To efficiently get the `Solution` node with the largest number of incoming relationships: MATCH (s:Solution) RETURN s, SIZE((s)&lt;--()) AS cnt ORDER BY cnt DESC LIMIT 1 The `SIZE((s)&lt;--())` syntax causes the Cypher planner to generate a very efficient [GetDegree](https://neo4j.com/developer/kb/how-do-i-improve-the-performance-of-counting-number-of-relationships-on-a-node/) operation, which does not require any DB hits. ",
          "link":"https://stackoverflow.com/questions/64551373/how-to-select-the-node-with-the-highest-number-of-incoming-relationships/64558710#64558710",
          "title":"How to select the node with the highest number of incoming relationships?"
        }
      ],
      "owner":{
        "reputation":27,
        "user_id":13934618,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/98adf0db59ad0b23c01eac4a97a35abc?s=128&d=identicon&r=PG&f=1",
        "display_name":"pat_triccia",
        "link":"https://stackoverflow.com/users/13934618/pat-triccia"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":20,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64552344,
      "answer_count":2,
      "score":0,
      "last_activity_date":1603815870,
      "creation_date":1603790477,
      "question_id":64551373,
      "share_link":"https://stackoverflow.com/q/64551373",
      "body_markdown":"I have a database with 3 types of nodes: **articles** (in blue) **entities** (in pink) and **solution** (in green). They are linked with **APPEARS_IN** or **PART_OF** relationships. [![Structure of the dataset][1]][1] [1]: https://i.stack.imgur.com/jRnEQ.jpg I&#39;m trying to select the solution node which has **the hishest number of incoming relationships** (&quot;Link with Unity Pro en Fran&#231;ais&quot;), I tryed with this query with a threshold (&gt;2) but it is not exactly what I want to do, because here I know that the highest number of incoming relationship is 3, but it can be different for other examples: MATCH (q:Question {title:&quot;Comment avoir l&#39;aide en ligne en fran&#231;ais sur Unity Pro?&quot;})&lt;-[:APPEARS_IN]-(e:Entity) MATCH (e:Entity)-[r:PART_OF]-&gt;(s:Solution) WITH collect(e) AS entities, s, count(r) AS num WHERE num &gt; 2 RETURN s **How can I find the &#39;solution&#39; node or nodes (in green) with the highest number of incoming relationships?** ",
      "link":"https://stackoverflow.com/questions/64551373/how-to-select-the-node-with-the-highest-number-of-incoming-relationships",
      "title":"How to select the node with the highest number of incoming relationships?"
    },
    {
      "tags":[
        "linux",
        "neo4j",
        "centos",
        "webserver"
      ],
      "comments":[
        {
          "owner":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited":false,
          "score":2,
          "creation_date":1603745205,
          "post_id":64543340,
          "comment_id":114128666,
          "link":"https://stackoverflow.com/questions/64543340/neo4j-community-edition-setup-ports-are-inaccesible-no-matter-what-4747#comment114128666_64543340"
        },
        {
          "owner":{
            "reputation":36,
            "user_id":14073843,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/a7d29aed8d79ab05c2c357dc6c1f6945?s=128&d=identicon&r=PG",
            "display_name":"Ellie Lockhart",
            "link":"https://stackoverflow.com/users/14073843/ellie-lockhart"
          },
          "reply_to_user":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited":false,
          "score":0,
          "creation_date":1603805751,
          "post_id":64543340,
          "comment_id":114148419,
          "link":"https://stackoverflow.com/questions/64543340/neo4j-community-edition-setup-ports-are-inaccesible-no-matter-what-4747#comment114148419_64543340"
        }
      ],
      "owner":{
        "reputation":36,
        "user_id":14073843,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/a7d29aed8d79ab05c2c357dc6c1f6945?s=128&d=identicon&r=PG",
        "display_name":"Ellie Lockhart",
        "link":"https://stackoverflow.com/users/14073843/ellie-lockhart"
      },
      "last_editor":{
        "reputation":812,
        "user_id":14004844,
        "user_type":"registered",
        "profile_image":"https://lh3.googleusercontent.com/-B2dYJ2pFOSk/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckb7V0PyyU1l85zkLOqtRy3YsmoGA/photo.jpg?sz=128",
        "display_name":"Jose Luis Delgadillo",
        "link":"https://stackoverflow.com/users/14004844/jose-luis-delgadillo"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":23,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1603809364,
      "creation_date":1603738597,
      "last_edit_date":1603809364,
      "question_id":64543340,
      "share_link":"https://stackoverflow.com/q/64543340",
      "body_markdown":"So, to explain the problem in simple terms: neo4j connects on two ports for the browser and the proprietary api, 7474 and 7687. Both of these ports should return *some* response from a browser query beyond just instant failure to connect, but that&#39;s what I get - and 7474 should be returning a login screen to the administration panel. I&#39;ve installed this on cloud Linux setups across three providers: RHEL and CentOS 7 on AWS, OpenSUSE Leap on Google Cloud, and CentOS 7 on a Linode virtual private server. The former cases I followed best practices and kept them on a private subnet only accessible through an OpenVPN ingress on a public subnet within the virtual private network, and this was effective for everything except neo4j; I can ssh and access computers inside the private subnet fine, I can ping them, and I can even use my Chrome browser on OS X (where I&#39;m running the OpenVPN client) to access the web server configuration for OpenVPN itself. It&#39;s only neo4j that isn&#39;t working. I want to note that I also installed the Kubernetes version of neo4j community running on a minimal Debian *via* AWS and a self-configured Google Cloud image of neo4j that was supposed to work &quot;out of the box.&quot; None of them did. Above all my (highly insecure and to be removed from the Internet as soon as possible) Linode which allows direct incoming HTTP and HTTPS traffic also has *precisely* the same response as these cloud based solutions. Instant denial of any attempt to access the neo4j ports. Also please note I&#39;ve confirmed neo4j is running, as a systemd service even, and the proper JDK is installed. So far, I&#39;ve used ufw to try to update firewall rules on the Linode which, I mean, succeeds insofar as I&#39;ve updated firewall rules. I&#39;ve tried this: ``` **ufw allow $7474** Rule added Rule added (v6) ``` Didn&#39;t change a thing. And again, this Linode is dangerously insecure as it is. It doesn&#39;t make sense to me that across 3 providers, two major security paradigms, and three different ways of installing the software, it would always fail the same way. Is anyone able to help me out? ",
      "link":"https://stackoverflow.com/questions/64543340/neo4j-community-edition-setup-ports-are-inaccesible-no-matter-what-4747",
      "title":"Neo4j community edition setup: ports are inaccesible no matter what (4747)"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "comments":[
        {
          "owner":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited":false,
          "score":0,
          "creation_date":1603737227,
          "post_id":64538892,
          "comment_id":114125433,
          "link":"https://stackoverflow.com/questions/64538892/neo4j-right-way-of-writing-a-cypher-query#comment114125433_64538892"
        }
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603737661,
          "creation_date":1603737661,
          "answer_id":64543131,
          "question_id":64538892,
          "share_link":"https://stackoverflow.com/a/64543131",
          "body_markdown":"With respect to performance, your specific `MATCH` pattern probably does not need to be split up. However, for better (human) readability, you may want to split it up anyway -- the Cypher parser would generally produce the same execution plan either way. As an example, your query could start with a shorter `MATCH` pattern that is easier to understand and is more closely tied to the `WHERE` clause: MATCH (a2:ACCOUNT)&lt;-[:has_corporate_account]-(:CORPORATION)-[:incorporated_in]-&gt;(c:COUNTRY) WHERE c.IS_TAX_HAVEN = 1 MATCH (a1:ACCOUNT)-[:transfer_origin]-&gt;(:TRANSFER)&lt;-[:transfer_destination]-(a2), (co1:CORPORATION)&lt;-[:is_employee_of]-(:PERSON)-[:has_personal_account]-&gt;(a1) RETURN DISTINCT co1 Note that this query returns `DISTINCT co1`, to ensure that the same corporation is not returned more than once.",
          "link":"https://stackoverflow.com/questions/64538892/neo4j-right-way-of-writing-a-cypher-query/64543131#64543131",
          "title":"Neo4J right way of writing a cypher query"
        }
      ],
      "owner":{
        "reputation":25,
        "user_id":13671759,
        "user_type":"registered",
        "profile_image":"https://lh6.googleusercontent.com/-_5K8Zph0OM4/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnS56bPnw1xb0BU61UINykFMFqfrg/photo.jpg?sz=128",
        "display_name":"Julian de Bruin",
        "link":"https://stackoverflow.com/users/13671759/julian-de-bruin"
      },
      "last_editor":{
        "reputation":25,
        "user_id":13671759,
        "user_type":"registered",
        "profile_image":"https://lh6.googleusercontent.com/-_5K8Zph0OM4/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnS56bPnw1xb0BU61UINykFMFqfrg/photo.jpg?sz=128",
        "display_name":"Julian de Bruin",
        "link":"https://stackoverflow.com/users/13671759/julian-de-bruin"
      },
      "comment_count":1,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":28,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64543131,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603737661,
      "creation_date":1603721750,
      "last_edit_date":1603722092,
      "question_id":64538892,
      "share_link":"https://stackoverflow.com/q/64538892",
      "body_markdown":"At the moment I have the following cypher query: MATCH (co1:CORPORATION)&lt;-[:is_employee_of]-(p:PERSON)-[:has_personal_account]-&gt;(a1:ACCOUNT)- [:transfer_origin]-&gt;(t:TRANSFER)&lt;-[:transfer_destination]-(a2:ACCOUNT)&lt;-[:has_corporate_account]- (co2:CORPORATION)-[:incorporated_in]-&gt;(c:COUNTRY) WHERE c.IS_TAX_HAVEN = 1 RETURN co1 This query has a lot of relationships and nodes in the MATCH. Is this the right way to write a query or do I have to split up this MATCH?",
      "link":"https://stackoverflow.com/questions/64538892/neo4j-right-way-of-writing-a-cypher-query",
      "title":"Neo4J right way of writing a cypher query"
    },
    {
      "tags":[
        "python",
        "neo4j",
        "anaconda"
      ],
      "comments":[
        {
          "owner":{
            "reputation":43551,
            "user_id":1054558,
            "user_type":"registered",
            "accept_rate":100,
            "profile_image":"https://i.stack.imgur.com/D2fkQ.jpg?s=128&g=1",
            "display_name":"Aaron",
            "link":"https://stackoverflow.com/users/1054558/aaron"
          },
          "edited":false,
          "score":0,
          "creation_date":1603725483,
          "post_id":64538140,
          "comment_id":114119864,
          "link":"https://stackoverflow.com/questions/64538140/no-module-named-py2neo-internal-http#comment114119864_64538140"
        },
        {
          "owner":{
            "reputation":1,
            "user_id":14405073,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/63bb01fddf095b00d609f51c8f9a9994?s=128&d=identicon&r=PG&f=1",
            "display_name":"user833009",
            "link":"https://stackoverflow.com/users/14405073/user833009"
          },
          "reply_to_user":{
            "reputation":43551,
            "user_id":1054558,
            "user_type":"registered",
            "accept_rate":100,
            "profile_image":"https://i.stack.imgur.com/D2fkQ.jpg?s=128&g=1",
            "display_name":"Aaron",
            "link":"https://stackoverflow.com/users/1054558/aaron"
          },
          "edited":false,
          "score":1,
          "creation_date":1603725958,
          "post_id":64538140,
          "comment_id":114120114,
          "link":"https://stackoverflow.com/questions/64538140/no-module-named-py2neo-internal-http#comment114120114_64538140"
        },
        {
          "owner":{
            "reputation":1623,
            "user_id":7108589,
            "user_type":"registered",
            "profile_image":"https://graph.facebook.com/1305140272870362/picture?type=large",
            "display_name":"Peter",
            "link":"https://stackoverflow.com/users/7108589/peter"
          },
          "edited":false,
          "score":0,
          "creation_date":1603739772,
          "post_id":64538140,
          "comment_id":114126571,
          "link":"https://stackoverflow.com/questions/64538140/no-module-named-py2neo-internal-http#comment114126571_64538140"
        }
      ],
      "owner":{
        "reputation":1,
        "user_id":14405073,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/63bb01fddf095b00d609f51c8f9a9994?s=128&d=identicon&r=PG&f=1",
        "display_name":"user833009",
        "link":"https://stackoverflow.com/users/14405073/user833009"
      },
      "last_editor":{
        "reputation":1158,
        "user_id":14311263,
        "user_type":"registered",
        "profile_image":"https://i.stack.imgur.com/6GaBJ.png?s=128&g=1",
        "display_name":"Timus",
        "link":"https://stackoverflow.com/users/14311263/timus"
      },
      "comment_count":3,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":21,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1603722608,
      "creation_date":1603719156,
      "last_edit_date":1603722608,
      "question_id":64538140,
      "share_link":"https://stackoverflow.com/q/64538140",
      "body_markdown":"I&#39;m trying to install py2neo in Jupyter NB, but I&#39;m getting always this error. Can someone please advise what&#39;s causing this? ``` from py2neo import Graph graph = Graph(auth=(&quot;neo4j&quot;, &quot;neo4j&quot;)) ``` &gt; KeyError Traceback (most recent call last) C:\\anaconda\\anaconda\\lib\\site-packages\\py2neo\\database.py in __new__(cls, uri, **settings) &gt; &gt; KeyError: &#39;fa2204be4082b5a388ff8b58e1db2944&#39; &gt; &gt; During handling of the above exception, another exception occurred: &gt; &gt; ModuleNotFoundError Traceback (most recent call last) &lt;ipython-input-24-e37d1d4e2794&gt; in &lt;module&gt; 1 from py2neo import Graph ----&gt; 2 graph = Graph(auth=(&quot;neo4j&quot;, &quot;neo4j&quot;)) 3 &gt; &gt; C:\\anaconda\\anaconda\\lib\\site-packages\\py2neo\\database.py in __new__(cls, uri, **settings) &gt; &gt; C:\\anaconda\\anaconda\\lib\\site-packages\\py2neo\\database.py in __new__(cls, uri, **settings) &gt; &gt; ModuleNotFoundError: No module named &#39;py2neo.internal.http&#39;",
      "link":"https://stackoverflow.com/questions/64538140/no-module-named-py2neo-internal-http",
      "title":"No module named &#39;py2neo.internal.http&#39;"
    },
    {
      "tags":[
        "neo4j",
        "neo4j-java-api"
      ],
      "owner":{
        "reputation":23,
        "user_id":11620395,
        "user_type":"registered",
        "profile_image":"https://lh3.googleusercontent.com/-jkri_L0Sl-Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWdUp8V5wAoQTZMUnEvWxTNyNV3w/mo/photo.jpg?sz=128",
        "display_name":"Victor Liu",
        "link":"https://stackoverflow.com/users/11620395/victor-liu"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":20,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":1,
      "answer_count":0,
      "score":1,
      "last_activity_date":1603711195,
      "creation_date":1603711195,
      "question_id":64536125,
      "share_link":"https://stackoverflow.com/q/64536125",
      "body_markdown":"I was trying to create indices for neo4j graph via native api, and I am using `org.neo4j:neo4j:3.4.4`, here is my code: public static Boolean createIndex(GraphDatabaseService graphDb, Label label, String property){ Boolean ret = true; try { // END SNIPPET: startDb { // START SNIPPET: createIndex IndexDefinition indexDefinition; try (Transaction tx = graphDb.beginTx()) { Schema schema = graphDb.schema(); indexDefinition = schema.indexFor(label) .on(property) .create(); tx.success(); tx.close(); } // END SNIPPET: createIndex // START SNIPPET: wait try (Transaction tx = graphDb.beginTx()) { Schema schema = graphDb.schema(); schema.awaitIndexOnline(indexDefinition, 1000, TimeUnit.SECONDS); tx.success(); tx.close(); } // END SNIPPET: wait // START SNIPPET: progress try (Transaction tx = graphDb.beginTx()) { Schema schema = graphDb.schema(); System.out.println(String.format(&quot;Percent complete: %1.0f%%&quot;, schema.getIndexPopulationProgress(indexDefinition).getCompletedPercentage())); tx.success(); tx.close(); } // END SNIPPET: progress } } catch (ConstraintViolationException e) { System.out.println(e); ret = true; } catch (Exception e){ System.out.println(e); ret = false; }; return ret; } This code is completely from [official example][1], and I can see the log `Percent complete: 100%` as logged in the code. However, when I open the graph with neo4j browser and query `:schema`, it says the indices are still populating, which means the method `schema.getIndexPopulationProgress(indexDefinition)` does not actually work. I want to ask is there any solution to query the real status of index or any idea on creating index synchronously instead of the official method which is asynchronously. Thanks for your time! [1]: https://neo4j.com/docs/java-reference/3.5/tutorials-java-embedded/indexes/",
      "link":"https://stackoverflow.com/questions/64536125/issues-on-neo4j-creating-index-via-native-api",
      "title":"issues on neo4j creating index via native api"
    },
    {
      "tags":[
        "neo4j",
        "neo4j-browser"
      ],
      "comments":[
        {
          "owner":{
            "reputation":2452,
            "user_id":677173,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name":"Pablissimo",
            "link":"https://stackoverflow.com/users/677173/pablissimo"
          },
          "edited":false,
          "score":0,
          "creation_date":1603718166,
          "post_id":64535502,
          "comment_id":114115889,
          "link":"https://stackoverflow.com/questions/64535502/neo4j-browser-issue-graph-icon-missing#comment114115889_64535502"
        },
        {
          "owner":{
            "reputation":1,
            "user_id":14519285,
            "user_type":"registered",
            "profile_image":"https://lh5.googleusercontent.com/-M-9bRp0I5yg/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckRvKufmjzJPs9eUpZOWD6WK5DCBg/s96-c/photo.jpg?sz=128",
            "display_name":"user14519285",
            "link":"https://stackoverflow.com/users/14519285/user14519285"
          },
          "reply_to_user":{
            "reputation":2452,
            "user_id":677173,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name":"Pablissimo",
            "link":"https://stackoverflow.com/users/677173/pablissimo"
          },
          "edited":false,
          "score":0,
          "creation_date":1603733526,
          "post_id":64535502,
          "comment_id":114123814,
          "link":"https://stackoverflow.com/questions/64535502/neo4j-browser-issue-graph-icon-missing#comment114123814_64535502"
        }
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603738321,
          "last_edit_date":1603738321,
          "creation_date":1603737953,
          "answer_id":64543186,
          "question_id":64535502,
          "share_link":"https://stackoverflow.com/a/64543186",
          "body_markdown":"The neo4j browser would only show the `Graph` icon for a query that returns any nodes or paths -- since those are the only things that one can visualize graphically.",
          "link":"https://stackoverflow.com/questions/64535502/neo4j-browser-issue-graph-icon-missing/64543186#64543186",
          "title":"Neo4J Browser Issue: Graph icon missing"
        }
      ],
      "owner":{
        "reputation":1,
        "user_id":14519285,
        "user_type":"registered",
        "profile_image":"https://lh5.googleusercontent.com/-M-9bRp0I5yg/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckRvKufmjzJPs9eUpZOWD6WK5DCBg/s96-c/photo.jpg?sz=128",
        "display_name":"user14519285",
        "link":"https://stackoverflow.com/users/14519285/user14519285"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":19,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603738321,
      "creation_date":1603708827,
      "last_edit_date":1603737899,
      "question_id":64535502,
      "share_link":"https://stackoverflow.com/q/64535502",
      "body_markdown":"I am not able to see the graph icon on the Neo4J browser launched from the Desktop application. Does anyone know how to get that button? ![1] [1]: https://i.stack.imgur.com/GDxTk.png",
      "link":"https://stackoverflow.com/questions/64535502/neo4j-browser-issue-graph-icon-missing",
      "title":"Neo4J Browser Issue: Graph icon missing"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":3,
                "user_id":13134499,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/627aa43fc381c25ecd6deb96292f59aa?s=128&d=identicon&r=PG&f=1",
                "display_name":"Lukasmp3",
                "link":"https://stackoverflow.com/users/13134499/lukasmp3"
              },
              "edited":false,
              "score":0,
              "creation_date":1603718686,
              "post_id":64536255,
              "comment_id":114116193,
              "link":"https://stackoverflow.com/questions/64535312/neo4j-cypher-query-find-node-by-input-path/64536255#comment114116193_64536255"
            },
            {
              "owner":{
                "reputation":2070,
                "user_id":1734996,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
                "display_name":"Graphileon",
                "link":"https://stackoverflow.com/users/1734996/graphileon"
              },
              "reply_to_user":{
                "reputation":3,
                "user_id":13134499,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/627aa43fc381c25ecd6deb96292f59aa?s=128&d=identicon&r=PG&f=1",
                "display_name":"Lukasmp3",
                "link":"https://stackoverflow.com/users/13134499/lukasmp3"
              },
              "edited":false,
              "score":0,
              "creation_date":1603718952,
              "post_id":64536255,
              "comment_id":114116350,
              "link":"https://stackoverflow.com/questions/64535312/neo4j-cypher-query-find-node-by-input-path/64536255#comment114116350_64536255"
            },
            {
              "owner":{
                "reputation":2070,
                "user_id":1734996,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
                "display_name":"Graphileon",
                "link":"https://stackoverflow.com/users/1734996/graphileon"
              },
              "reply_to_user":{
                "reputation":3,
                "user_id":13134499,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/627aa43fc381c25ecd6deb96292f59aa?s=128&d=identicon&r=PG&f=1",
                "display_name":"Lukasmp3",
                "link":"https://stackoverflow.com/users/13134499/lukasmp3"
              },
              "edited":false,
              "score":0,
              "creation_date":1603720490,
              "post_id":64536255,
              "comment_id":114117219,
              "link":"https://stackoverflow.com/questions/64535312/neo4j-cypher-query-find-node-by-input-path/64536255#comment114117219_64536255"
            },
            {
              "owner":{
                "reputation":2070,
                "user_id":1734996,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
                "display_name":"Graphileon",
                "link":"https://stackoverflow.com/users/1734996/graphileon"
              },
              "reply_to_user":{
                "reputation":3,
                "user_id":13134499,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/627aa43fc381c25ecd6deb96292f59aa?s=128&d=identicon&r=PG&f=1",
                "display_name":"Lukasmp3",
                "link":"https://stackoverflow.com/users/13134499/lukasmp3"
              },
              "edited":false,
              "score":0,
              "creation_date":1603720713,
              "post_id":64536255,
              "comment_id":114117330,
              "link":"https://stackoverflow.com/questions/64535312/neo4j-cypher-query-find-node-by-input-path/64536255#comment114117330_64536255"
            },
            {
              "owner":{
                "reputation":3,
                "user_id":13134499,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/627aa43fc381c25ecd6deb96292f59aa?s=128&d=identicon&r=PG&f=1",
                "display_name":"Lukasmp3",
                "link":"https://stackoverflow.com/users/13134499/lukasmp3"
              },
              "edited":false,
              "score":0,
              "creation_date":1603740099,
              "post_id":64536255,
              "comment_id":114126729,
              "link":"https://stackoverflow.com/questions/64535312/neo4j-cypher-query-find-node-by-input-path/64536255#comment114126729_64536255"
            },
            {
              "owner":{
                "reputation":2070,
                "user_id":1734996,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
                "display_name":"Graphileon",
                "link":"https://stackoverflow.com/users/1734996/graphileon"
              },
              "reply_to_user":{
                "reputation":3,
                "user_id":13134499,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/627aa43fc381c25ecd6deb96292f59aa?s=128&d=identicon&r=PG&f=1",
                "display_name":"Lukasmp3",
                "link":"https://stackoverflow.com/users/13134499/lukasmp3"
              },
              "edited":false,
              "score":0,
              "creation_date":1603783510,
              "post_id":64536255,
              "comment_id":114137969,
              "link":"https://stackoverflow.com/questions/64535312/neo4j-cypher-query-find-node-by-input-path/64536255#comment114137969_64536255"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":2070,
            "user_id":1734996,
            "user_type":"registered",
            "accept_rate":85,
            "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name":"Graphileon",
            "link":"https://stackoverflow.com/users/1734996/graphileon"
          },
          "last_editor":{
            "reputation":2070,
            "user_id":1734996,
            "user_type":"registered",
            "accept_rate":85,
            "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name":"Graphileon",
            "link":"https://stackoverflow.com/users/1734996/graphileon"
          },
          "comment_count":6,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":true,
          "score":0,
          "last_activity_date":1603729923,
          "last_edit_date":1603729923,
          "creation_date":1603711746,
          "answer_id":64536255,
          "question_id":64535312,
          "share_link":"https://stackoverflow.com/a/64536255",
          "body_markdown":"This is the shortest way I could think of. WITH [&quot;Root&quot;, &quot;src&quot;, &quot;main&quot;, &quot;java&quot;] AS inputPath MATCH path=(mainRoot)&lt;-[:hasParent*]-(child) WHERE LENGTH(path) = SIZE(inputPath)-1 AND [n IN nodes(path) | n.name] = inputPath RETURN path",
          "link":"https://stackoverflow.com/questions/64535312/neo4j-cypher-query-find-node-by-input-path/64536255#64536255",
          "title":"Neo4j Cypher query: Find node by input path"
        }
      ],
      "owner":{
        "reputation":3,
        "user_id":13134499,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/627aa43fc381c25ecd6deb96292f59aa?s=128&d=identicon&r=PG&f=1",
        "display_name":"Lukasmp3",
        "link":"https://stackoverflow.com/users/13134499/lukasmp3"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":38,
      "favorite_count":1,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64536255,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603729923,
      "creation_date":1603708013,
      "question_id":64535312,
      "share_link":"https://stackoverflow.com/q/64535312",
      "body_markdown":"I have a graph that contains a tree hierarchy of the system. In this graph, one root has indexed label &#39;MainRoot&#39;, all other relationships are type &#39;hasParent&#39;. I would like to construct a query that would have list of nodes names (=inputPath) as an input and return the node at the end of query. Now i have this working example, which last returned item is the specified node with the name &quot;java&quot;, as I want (located in Root/src/main/java): ``` // Input WITH [&quot;Root&quot;, &quot;src&quot;, &quot;main&quot;, &quot;java&quot;] AS inputPath // Iterator UNWIND range(0,size(inputPath)-2) AS i MATCH (parent)&lt;-[:hasParent]-(child) WHERE (parent.name = inputPath[i]) AND (child.name = inputPath[i+1]) RETURN child ``` However, I would like to somehow let the query now, that the first parent element of the query is the node with the indexed label &#39;MainRoot&#39;. 1) I expect it would be more efficient since it will now, in which node to start the traversal. 2) If I have structure e.g. Root/example/Root/src/main/java, the query would also return this &#39;java&#39; node, which I obviously don&#39;t want to return. Any idea how could I do that?",
      "link":"https://stackoverflow.com/questions/64535312/neo4j-cypher-query-find-node-by-input-path",
      "title":"Neo4j Cypher query: Find node by input path"
    },
    {
      "tags":[
        "graph",
        "browser",
        "neo4j"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":3216,
            "user_id":6077914,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/LXTjN.jpg?s=128&g=1",
            "display_name":"Raj",
            "link":"https://stackoverflow.com/users/6077914/raj"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603759603,
          "creation_date":1603759603,
          "answer_id":64546886,
          "question_id":64530886,
          "share_link":"https://stackoverflow.com/a/64546886",
          "body_markdown":"The graph icon is not visible if you return the tabular data like you just return a few fields of a node. It&#39;s only visible when you return a graph(Nodes/Relationships) in your query. From your screenshot looks like you are returning text `&quot;node&quot;` instead of `node`, Please check your query and make sure you are returning nodes. ",
          "link":"https://stackoverflow.com/questions/64530886/neo4j-browser-issue/64546886#64546886",
          "title":"Neo4J Browser Issue"
        }
      ],
      "owner":{
        "reputation":1,
        "user_id":14519285,
        "user_type":"registered",
        "profile_image":"https://lh5.googleusercontent.com/-M-9bRp0I5yg/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckRvKufmjzJPs9eUpZOWD6WK5DCBg/s96-c/photo.jpg?sz=128",
        "display_name":"user14519285",
        "link":"https://stackoverflow.com/users/14519285/user14519285"
      },
      "last_editor":{
        "reputation":1848,
        "user_id":9238928,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8b6dff4fcce5d1c3f153e48d6a30e12b?s=128&d=identicon&r=PG&f=1",
        "display_name":"Cena",
        "link":"https://stackoverflow.com/users/9238928/cena"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":24,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603759603,
      "creation_date":1603680092,
      "last_edit_date":1603708521,
      "question_id":64530886,
      "share_link":"https://stackoverflow.com/q/64530886",
      "body_markdown":"I am not able to see the graph icon on the Neo4J browser launched from the Desktop application. Does anyone know how to get that button? ![enter image description here][1] [1]: https://i.stack.imgur.com/prUjb.png",
      "link":"https://stackoverflow.com/questions/64530886/neo4j-browser-issue",
      "title":"Neo4J Browser Issue"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":2070,
            "user_id":1734996,
            "user_type":"registered",
            "accept_rate":85,
            "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name":"Graphileon",
            "link":"https://stackoverflow.com/users/1734996/graphileon"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603645015,
          "creation_date":1603645015,
          "answer_id":64526388,
          "question_id":64524380,
          "share_link":"https://stackoverflow.com/a/64526388",
          "body_markdown":"Try this: MATCH (c:Context{name:&#39;lisaksa&#39;}) SET c.name = left(c.name,size(c.name)-1) + &#39;o&#39;+&#39;_new&#39; ",
          "link":"https://stackoverflow.com/questions/64524380/how-to-add-to-a-string-value-of-a-property-instead-of-rewriting-it-in-cypher-neo/64526388#64526388",
          "title":"How to add to a string value of a property instead of rewriting it in Cypher Neo4J?"
        }
      ],
      "owner":{
        "reputation":5685,
        "user_id":712347,
        "user_type":"registered",
        "accept_rate":42,
        "profile_image":"https://i.stack.imgur.com/fD27L.jpg?s=128&g=1",
        "display_name":"Aerodynamika",
        "link":"https://stackoverflow.com/users/712347/aerodynamika"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":9,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64526388,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603645015,
      "creation_date":1603633429,
      "question_id":64524380,
      "share_link":"https://stackoverflow.com/q/64524380",
      "body_markdown":"Suppose I make a request in Neo4J (3.5) Cypher and I want to rewrite the last letter of the value in the property of a node rather than rewriting it. I do add a string with the following request, but how to replace the last letter &quot;a&quot; for example with &quot;o&quot; and then add the string after? ``` MATCH (c:Context{name:&#39;lisaksa&#39;}) WITH c.name AS cname, c SET c.name = cname + &#39;_new&#39;; ``` ",
      "link":"https://stackoverflow.com/questions/64524380/how-to-add-to-a-string-value-of-a-property-instead-of-rewriting-it-in-cypher-neo",
      "title":"How to add to a string value of a property instead of rewriting it in Cypher Neo4J?"
    },
    {
      "tags":[
        "scala",
        "apache-spark",
        "neo4j",
        "cypher"
      ],
      "owner":{
        "reputation":11,
        "user_id":14516019,
        "user_type":"registered",
        "profile_image":"https://lh6.googleusercontent.com/-CuvPtidNrv4/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckgOMpT8CWJgpIq83oujtf_YNECvA/s96-c/photo.jpg?sz=128",
        "display_name":"Miriam Vittoria D&#39;Aloia",
        "link":"https://stackoverflow.com/users/14516019/miriam-vittoria-daloia"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":23,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":1,
      "answer_count":0,
      "score":1,
      "last_activity_date":1603622331,
      "creation_date":1603622331,
      "question_id":64522770,
      "share_link":"https://stackoverflow.com/q/64522770",
      "body_markdown":"I&#39;m trying use Cypher query with Spark. I&#39;m following this guide: https://github.com/opencypher/morpheus but I&#39;m not able to use path patterns `p=()-[]-&gt;()`. My main problem is that I want to calculate the level of relationship. For example: `p=(u)-[:rel]-(f) return length(p)` Thank&#39;s for answer.",
      "link":"https://stackoverflow.com/questions/64522770/how-to-integrate-path-patterns-with-cypher-morpheus",
      "title":"How to integrate path patterns with cypher morpheus?"
    },
    {
      "tags":[
        "indexing",
        "neo4j",
        "lucene",
        "scoring"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":16640,
            "user_id":2662355,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/6ea0a9d988f145b0e666dfdd96374736?s=128&d=identicon&r=PG",
            "display_name":"Christophe Willemsen",
            "link":"https://stackoverflow.com/users/2662355/christophe-willemsen"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603833319,
          "creation_date":1603833319,
          "answer_id":64563010,
          "question_id":64520812,
          "share_link":"https://stackoverflow.com/a/64563010",
          "body_markdown":"No, you cannot change the scoring function. Actually there isn&#39;t much you can configure except the analysers. ",
          "link":"https://stackoverflow.com/questions/64520812/changing-the-scoring-function-in-neo4j/64563010#64563010",
          "title":"Changing the scoring function in Neo4j"
        }
      ],
      "owner":{
        "reputation":65,
        "user_id":10096546,
        "user_type":"registered",
        "profile_image":"https://lh3.googleusercontent.com/-6xRIPpJ6niQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p94lsJ_2UhnyzDaht6s3jjx0uBsA/mo/photo.jpg?sz=128",
        "display_name":"nugget_boi",
        "link":"https://stackoverflow.com/users/10096546/nugget-boi"
      },
      "last_editor":{
        "reputation":65,
        "user_id":10096546,
        "user_type":"registered",
        "profile_image":"https://lh3.googleusercontent.com/-6xRIPpJ6niQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p94lsJ_2UhnyzDaht6s3jjx0uBsA/mo/photo.jpg?sz=128",
        "display_name":"nugget_boi",
        "link":"https://stackoverflow.com/users/10096546/nugget-boi"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":18,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603833319,
      "creation_date":1603605569,
      "last_edit_date":1603615270,
      "question_id":64520812,
      "share_link":"https://stackoverflow.com/q/64520812",
      "body_markdown":"I&#39;ve developed a website that has a search facility that utilises Neo4j&#39;s full text search feature. In order to build my index, I used the following cypher command: `CALL db.index.fulltext.createNodeIndex(“ArticlesIndex”, [“Article”], [“title&quot;, “abstract”])` I was wondering if there was any way to configure the scoring metric for this index? I believe Neo4j currently uses [VSM](https://lucene.apache.org/core/3_5_0/api/core/org/apache/lucene/search/Similarity.html) but I&#39;m hoping to switch it to [BM25](https://lucene.apache.org/core/7_0_1/core/org/apache/lucene/search/similarities/BM25Similarity.html). I&#39;ve checked the [Neo4j Docs](https://neo4j.com/docs/operations-manual/current/reference/procedures/)- it mentions an optional 3rd argument `config` for `createNodeIndex()` but this only seems to have 2 supported options, neither of which override the default scoring metric. I&#39;m not exactly proficient with neo4j so any help would be appreciated :) ",
      "link":"https://stackoverflow.com/questions/64520812/changing-the-scoring-function-in-neo4j",
      "title":"Changing the scoring function in Neo4j"
    },
    {
      "tags":[
        "neo4j"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":345,
            "user_id":7607601,
            "user_type":"registered",
            "accept_rate":57,
            "profile_image":"https://graph.facebook.com/10100582614592907/picture?type=large",
            "display_name":"Brian Wiley",
            "link":"https://stackoverflow.com/users/7607601/brian-wiley"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603553229,
          "creation_date":1603553229,
          "answer_id":64515020,
          "question_id":64514081,
          "share_link":"https://stackoverflow.com/a/64515020",
          "body_markdown":"Figured it out using functions [startNode](https://neo4j.com/docs/cypher-manual/current/functions/scalar/#functions-startnode) and [endNode](https://neo4j.com/docs/cypher-manual/current/functions/scalar/#functions-endnode). The last() and head() functions are also handy. MATCH p = (n:Protein { name:&#39;C&#39; })&lt;-[:REGULATES*1..3]-&gt;(b:Protein) WITH *, relationships(p) as rs RETURN startNode(last(rs)).name as Protein1, last(rs).direction as Regulates, endNode(last(rs)).name as Protein2, length(p)",
          "link":"https://stackoverflow.com/questions/64514081/bidirectional-recursion-in-neo4j/64515020#64515020",
          "title":"Bidirectional recursion in neo4j"
        }
      ],
      "owner":{
        "reputation":345,
        "user_id":7607601,
        "user_type":"registered",
        "accept_rate":57,
        "profile_image":"https://graph.facebook.com/10100582614592907/picture?type=large",
        "display_name":"Brian Wiley",
        "link":"https://stackoverflow.com/users/7607601/brian-wiley"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":11,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603553229,
      "creation_date":1603547678,
      "question_id":64514081,
      "share_link":"https://stackoverflow.com/q/64514081",
      "body_markdown":"Cannot find answer online for this. I want to do a recursive query upstream and downstream on protein interaction map. If user enters a protein (protein &#39;C&#39;) and depth N=2, I want to return 2 upstream and 2 downstream proteins in the interaction map and the regulation. However if its upstream then protein &#39;b&#39; on right side of MATCH needs to come first in the return table and if its downstream direction then protein &#39;a&#39; on left side of match needs to come first in return table. How can I do this? For instance this is the bidirection but half of the rows are the wrong order in columns 1 and 3. MATCH p = (a:Protein { name:&#39;C&#39; })&lt;-[:REGULATES*1..2]-&gt;(b:Protein) WITH *, relationships(p) as r RETURN nodes(p)[length(p)-1].name AS Protein1, r[length(p)-1] as Regulates, b.name AS Protein2 I can only get what I want with two calls and switching order or RETURN columns. MATCH p = (a:Protein { name:&#39;C&#39; })-[:REGULATES*1..2]-&gt;(b:Protein) WITH *, relationships(p) as r RETURN nodes(p)[length(p)-1].name AS Protein1, r[length(p)-1] as Regulates, length(p), b.name AS Protein2 MATCH p = (a:Protein { name:&#39;C&#39; })&lt;-[:REGULATES*1..2]-(b:Protein) WITH *, relationships(p) as r RETURN b.name AS Protein1, r[length(p)-1] as Regulates, nodes(p)[length(p)-1].name AS Protein2",
      "link":"https://stackoverflow.com/questions/64514081/bidirectional-recursion-in-neo4j",
      "title":"Bidirectional recursion in neo4j"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "comments":[
        {
          "owner":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited":false,
          "score":1,
          "creation_date":1603460219,
          "post_id":64499145,
          "comment_id":114052374,
          "link":"https://stackoverflow.com/questions/64499145/neo4j-compare-two-arrays-cypher-query#comment114052374_64499145"
        },
        {
          "owner":{
            "reputation":691,
            "user_id":10663537,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/2ba50480d875d06ed561057dd46d84e5?s=128&d=identicon&r=PG&f=1",
            "display_name":"Hakiz&#39;a",
            "link":"https://stackoverflow.com/users/10663537/hakiza"
          },
          "reply_to_user":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited":false,
          "score":0,
          "creation_date":1603460724,
          "post_id":64499145,
          "comment_id":114052643,
          "link":"https://stackoverflow.com/questions/64499145/neo4j-compare-two-arrays-cypher-query#comment114052643_64499145"
        }
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603478186,
          "creation_date":1603478186,
          "answer_id":64505623,
          "question_id":64499145,
          "share_link":"https://stackoverflow.com/a/64505623",
          "body_markdown":"1. For your use case, it would be much more efficient to update `amenities` to contain a *list* of strings instead of a single comma-delimited string. That way, your query would not need to use `SPLIT` at all. In the following examples, I will continue to use `SPLIT(e.amenities,&quot;,&quot;)`, but ideally that should be replaced by `e.amenities`. 2. If you want to test whether `amenities` contains *all* of the values in a list, you can use the [ALL](https://neo4j.com/docs/cypher-manual/current/functions/predicate/#functions-all) function: MATCH (e:Estate) WHERE ALL(a IN [&quot;Laundry&quot;,&quot;Dryer&quot;] WHERE a IN SPLIT(e.amenities,&quot;,&quot;)) RETURN e 3. If you want to test whether `amenities` contains *any* of the values in a list, you can use the [ANY](https://neo4j.com/docs/cypher-manual/current/functions/predicate/#functions-all) function: MATCH (e:Estate) WHERE ANY(a IN [&quot;Laundry&quot;,&quot;Dryer&quot;] WHERE a IN SPLIT(e.amenities,&quot;,&quot;)) RETURN e ",
          "link":"https://stackoverflow.com/questions/64499145/neo4j-compare-two-arrays-cypher-query/64505623#64505623",
          "title":"Neo4j compare two Arrays, Cypher Query"
        }
      ],
      "owner":{
        "reputation":691,
        "user_id":10663537,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/2ba50480d875d06ed561057dd46d84e5?s=128&d=identicon&r=PG&f=1",
        "display_name":"Hakiz&#39;a",
        "link":"https://stackoverflow.com/users/10663537/hakiza"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":28,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64505623,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603478186,
      "creation_date":1603452594,
      "question_id":64499145,
      "share_link":"https://stackoverflow.com/q/64499145",
      "body_markdown":"Is there a way to compare two arrays in `Neo4j` cypher query ? I have real estates already created with for each some `amenities` as string property separated with comma. My need is to get all nodes labeled `Estate` where `amenities split` contain `array parameter`. MATCH (e:Estate) WHERE (a IN [&quot;Laundry&quot;,&quot;Dryer&quot;] WHERE a IN SPLIT(e.amenities,&quot;,&quot;)) RETURN e How to achieve this ?",
      "link":"https://stackoverflow.com/questions/64499145/neo4j-compare-two-arrays-cypher-query",
      "title":"Neo4j compare two Arrays, Cypher Query"
    },
    {
      "tags":[
        "neo4j",
        "bloom"
      ],
      "owner":{
        "reputation":1,
        "user_id":14367473,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/ae9807c204a3a64b40f99b241713523f?s=128&d=identicon&r=PG&f=1",
        "display_name":"Ajay D",
        "link":"https://stackoverflow.com/users/14367473/ajay-d"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":8,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1603447296,
      "creation_date":1603447296,
      "question_id":64497898,
      "share_link":"https://stackoverflow.com/q/64497898",
      "body_markdown":"If I want to integrate neo4j into my application as one of the services when the user can interact. what is the procedure for it and could you please provide some reference to integrate into my application ",
      "link":"https://stackoverflow.com/questions/64497898/neo4j-bloom-integration-documentation-into-other-applications",
      "title":"Neo4j Bloom Integration Documentation into other applications"
    },
    {
      "tags":[
        "neo4j",
        "graphql",
        "neo4j-graphql-js"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":677,
            "user_id":10801086,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/ci6hg.jpg?s=128&g=1",
            "display_name":"dna",
            "link":"https://stackoverflow.com/users/10801086/dna"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603461202,
          "creation_date":1603461202,
          "answer_id":64501322,
          "question_id":64497390,
          "share_link":"https://stackoverflow.com/a/64501322",
          "body_markdown":"I realize that `neo4j-graphql-js` is a query builder, so i can obtain my data by using graphql just using the main schema. And my query will be: ``` { Person(filter: { healthstatus: &quot;Sick&quot; }) { id visits { _id persons(filter: { healthstatus: &quot;Healthy&quot; }) { _id } } } } ``` with this principle in mind for more complex queries that needs `@cyper` i can extend the base schema of each type and rely on graphql features as an example ``` type Person { potentialSick: [Place] @cypher(statement: &quot;&quot;&quot; MATCH path =(this)-[:VISITS]-&gt;(place:Place)&lt;-[:VISITS]-(p2:Person {healthstatus:&quot;Healthy&quot;}) return place &quot;&quot;&quot;) ``` potentialSick return `places` and then to obtain the person that visit that place i can just use graphql ```graphql { Person(filter: { healthstatus: &quot;Sick&quot; }) { id potentialSick { persons (filter: { healthstatus: &quot;Healthy&quot; }){ _id } } } } ```",
          "link":"https://stackoverflow.com/questions/64497390/neo4j-graphql-js-custom-return-type-for-cypher-query/64501322#64501322",
          "title":"neo4j-graphql-js custom return type for @cypher query"
        }
      ],
      "owner":{
        "reputation":677,
        "user_id":10801086,
        "user_type":"registered",
        "profile_image":"https://i.stack.imgur.com/ci6hg.jpg?s=128&g=1",
        "display_name":"dna",
        "link":"https://stackoverflow.com/users/10801086/dna"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":20,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603461202,
      "creation_date":1603445100,
      "question_id":64497390,
      "share_link":"https://stackoverflow.com/q/64497390",
      "body_markdown":"I&#39;m trying to extend the graphql schema autogenerated with `neo4j-graphql-js` this is my graphql schema **typeDefs** ```graphql type Person { _id: Long! addresslocation: Point! confirmedtime: DateTime! healthstatus: String! id: String! name: String! performs_visit: [Visit] @relation(name: &quot;PERFORMS_VISIT&quot;, direction: OUT) visits: [Place] @relation(name: &quot;VISITS&quot;, direction: OUT) VISITS_rel: [VISITS] } type Place { _id: Long! homelocation: Point! id: String! name: String! type: String! part_of: [Region] @relation(name: &quot;PART_OF&quot;, direction: OUT) visits: [Visit] @relation(name: &quot;LOCATED_AT&quot;, direction: IN) persons: [Person] @relation(name: &quot;VISITS&quot;, direction: IN) } type Visit { _id: Long! duration: String! endtime: DateTime! id: String! starttime: DateTime! located_at: [Place] @relation(name: &quot;LOCATED_AT&quot;, direction: OUT) persons: [Person] @relation(name: &quot;PERFORMS_VISIT&quot;, direction: IN) } type Region { _id: Long! name: String! places: [Place] @relation(name: &quot;PART_OF&quot;, direction: IN) } type Country { _id: Long! name: String! } type Continent { _id: Long! name: String! } type VISITS @relation(name: &quot;VISITS&quot;) { from: Person! to: Place! duration: String! endtime: DateTime! id: String! starttime: DateTime! } ``` Now i extends **Person** to perform a custom query, in order to do that i&#39;m using the `@cypher` directive **typeDefs2** ```graphql type Person { potentialSick: [Person] @cypher(statement: &quot;&quot;&quot; MATCH (p:this)--(v1:Visit)--(pl:Place)--(v2:Visit)--(p2:Person {healthstatus:&quot;Healthy&quot;}) return * &quot;&quot;&quot;) } ``` I create the schema by merging the two typeDefs and it works as expected ``` export const schema = makeAugmentedSchema({ typeDefs: mergeTypeDefs([typeDefs, typeDefs2]), config: { debug: true, }, }); ``` **QUESTION** It is possible to return a custom type (mapped in graphql) from my custom query `potentialSick` ? My goal is to return a type similar to this ``` type PotentialSick { id: ID name: String overlapPlaces: [Place] } ``` where overlap places is the `pl` in my neo4j query ``` MATCH (p:this)--(v1:Visit)--(pl:Place)--(v2:Visit)--(p2:Person {healthstatus:&quot;Healthy&quot;}) ``` ",
      "link":"https://stackoverflow.com/questions/64497390/neo4j-graphql-js-custom-return-type-for-cypher-query",
      "title":"neo4j-graphql-js custom return type for @cypher query"
    },
    {
      "tags":[
        "neo4j",
        "spring-data-neo4j",
        "neo4j-ogm"
      ],
      "owner":{
        "reputation":332,
        "user_id":5868431,
        "user_type":"registered",
        "profile_image":"https://lh5.googleusercontent.com/-Us7Bwryg7QM/AAAAAAAAAAI/AAAAAAAAAF0/hIDHYCYqTXo/photo.jpg?sz=128",
        "display_name":"Nischal Kumar",
        "link":"https://stackoverflow.com/users/5868431/nischal-kumar"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":9,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1603401371,
      "creation_date":1603401371,
      "question_id":64490656,
      "share_link":"https://stackoverflow.com/q/64490656",
      "body_markdown":"How to apply Transaction timeout in Community Neo4j JAVA Bolt Driver API I am trying to apply TransactionConfig timeout but it seems to not take effect. ``` session.beginTransaction(TransactionConfig.builder() .withTimeout(Duration.ofSeconds(3)) .build()) ``` Is there a way to automatically have threads to timeout after x seconds per query-based. Community edition Neo4j honours configs ``` dbms.transaction.timeout dbms.lock.acquisition.timeout ``` But is there a way to set these configs per query/transaction?",
      "link":"https://stackoverflow.com/questions/64490656/how-to-apply-query-timeout-in-community-neo4j-java-bolt-driver-api",
      "title":"How to apply query timeout in Community Neo4j JAVA Bolt Driver Api"
    },
    {
      "tags":[
        "neo4j",
        "cypher",
        "graph-databases",
        "cypher-3.1"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":885,
                "user_id":7986942,
                "user_type":"registered",
                "accept_rate":62,
                "profile_image":"https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
                "display_name":"Matt Larson",
                "link":"https://stackoverflow.com/users/7986942/matt-larson"
              },
              "edited":false,
              "score":0,
              "creation_date":1603384518,
              "post_id":64486558,
              "comment_id":114027370,
              "link":"https://stackoverflow.com/questions/64485324/neo4j-cypher-foreach-square-brackets-and-use-of-then-1/64486558#comment114027370_64486558"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":2452,
            "user_id":677173,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/c8f1d614927bdeea8ce8d43523ae66f1?s=128&d=identicon&r=PG",
            "display_name":"Pablissimo",
            "link":"https://stackoverflow.com/users/677173/pablissimo"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603384224,
          "creation_date":1603384224,
          "answer_id":64486558,
          "question_id":64485324,
          "share_link":"https://stackoverflow.com/a/64486558",
          "body_markdown":"It&#39;s a bit of a hack to support conditional execution of a statement. Essentially, it&#39;s equivalent to the following pseudocode: ``` IF (rel IS NOT NULL) THEN { DELETE rel CREATE (newest)-[:NEXT_SUB_REPLY]-&gt;(prevNewest)) } ``` `FOREACH` will iterate over a collection and execute some operation for each element of the collection. If there are no elements in the collection, the operation won&#39;t run. If there&#39;s one element in the collection, it&#39;ll run once. As for why it&#39;s `[1]` in the query, it actually doesn&#39;t matter and it&#39;s basically just convention and down to personal taste. It would work the same way with any one-element collection - for example `[true]` or `[null]` should both suffice. The important thing is that truthy leg of the `CASE` statement returns a one-element array, and otherwise a zero-element array. [The docs](https://neo4j.com/developer/kb/conditional-cypher-execution/) have more information, as well as (arguably) less unreadable alternatives if you&#39;re willing to take a dependency on the APOC library.",
          "link":"https://stackoverflow.com/questions/64485324/neo4j-cypher-foreach-square-brackets-and-use-of-then-1/64486558#64486558",
          "title":"Neo4j/Cypher FOREACH square brackets and use of &quot;THEN [1]&quot;"
        }
      ],
      "owner":{
        "reputation":885,
        "user_id":7986942,
        "user_type":"registered",
        "accept_rate":62,
        "profile_image":"https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
        "display_name":"Matt Larson",
        "link":"https://stackoverflow.com/users/7986942/matt-larson"
      },
      "last_editor":{
        "reputation":885,
        "user_id":7986942,
        "user_type":"registered",
        "accept_rate":62,
        "profile_image":"https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
        "display_name":"Matt Larson",
        "link":"https://stackoverflow.com/users/7986942/matt-larson"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":14,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64486558,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603384224,
      "creation_date":1603379780,
      "last_edit_date":1603381218,
      "question_id":64485324,
      "share_link":"https://stackoverflow.com/q/64485324",
      "body_markdown":"I have seen multiple examples of cypher FOREACH statements that reference the number 1 in square brackets and I cannot find documentation on it. This is a working statement: ``` FOREACH(i in CASE WHEN NOT rel IS NULL THEN [1] ELSE [] END | DELETE rel CREATE (newest)-[:NEXT_SUB_REPLY]-&gt;(prevNewest)) ``` and as happy as I am that it is working, I would like to understand more about the use of square brackets and the use of the number 1. From the context I understand that it loops through and when ``` CASE WHEN NOT rel IS NULL ``` is true, it executes ``` DELETE rel CREATE (newest)-[:NEXT_SUB_REPLY]-&gt;(prevNewest) ``` and otherwise it does nothing. The Neo4j [docs][1] are very light on FOREACH and don&#39;t go into either the use of square brackets or using a 1 in the THEN clause. [1]: https://neo4j.com/docs/cypher-manual/current/clauses/foreach/",
      "link":"https://stackoverflow.com/questions/64485324/neo4j-cypher-foreach-square-brackets-and-use-of-then-1",
      "title":"Neo4j/Cypher FOREACH square brackets and use of &quot;THEN [1]&quot;"
    },
    {
      "tags":[
        "amazon-web-services",
        "docker",
        "nginx",
        "neo4j",
        "bloom"
      ],
      "comments":[
        {
          "owner":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited":false,
          "score":0,
          "creation_date":1603665082,
          "post_id":64483637,
          "comment_id":114101344,
          "link":"https://stackoverflow.com/questions/64483637/how-to-connect-internally-a-bloom-docker-container-to-a-neo4j-docker-container#comment114101344_64483637"
        },
        {
          "owner":{
            "reputation":1,
            "user_id":14189321,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/410df8db733bdb99290d8629e51a1a79?s=128&d=identicon&r=PG&f=1",
            "display_name":"Simon Trux",
            "link":"https://stackoverflow.com/users/14189321/simon-trux"
          },
          "reply_to_user":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited":false,
          "score":0,
          "creation_date":1603802455,
          "post_id":64483637,
          "comment_id":114146633,
          "link":"https://stackoverflow.com/questions/64483637/how-to-connect-internally-a-bloom-docker-container-to-a-neo4j-docker-container#comment114146633_64483637"
        }
      ],
      "owner":{
        "reputation":1,
        "user_id":14189321,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/410df8db733bdb99290d8629e51a1a79?s=128&d=identicon&r=PG&f=1",
        "display_name":"Simon Trux",
        "link":"https://stackoverflow.com/users/14189321/simon-trux"
      },
      "last_editor":{
        "reputation":1,
        "user_id":14189321,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/410df8db733bdb99290d8629e51a1a79?s=128&d=identicon&r=PG&f=1",
        "display_name":"Simon Trux",
        "link":"https://stackoverflow.com/users/14189321/simon-trux"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":25,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1603390289,
      "creation_date":1603374392,
      "last_edit_date":1603390289,
      "question_id":64483637,
      "share_link":"https://stackoverflow.com/q/64483637",
      "body_markdown":"Here is my problem : I cannot connect ****Internally**** (but externally it works) a bloom docker container to the neo4j docker container through the bolt port (7687). ***Summary*** I’m setting up a docker based project with : - a Neo4j (GraphQL) as the database, in a docker container - a Bloom server as the neo4j visualiser, that I’m including in an iframe (for lack of a better option now) in a react app - a react app hosted on a node:14-alpine docker image. Its all hosted in a AWS EC2 Linux instance. All containers are on the same docker network, and when I ping them, either using their ip address of their docker name, or use curl to see if they can talk to each other, the connections all appear to work fine. ***What I tried*** - If I go to http://my.aws.ec.instance:7474 : I can see and use the Neo4j browser app, no problem. - If I go to http://my.aws.ec.instance:7687 (the direct bolt connection), I get the message not &#171;a WebSocket handshake request: missing upgrade&#187; but it doesn’t appear to be a problem even though that where I’m supposed to get connected. - From inside my bloom container, when I do ‘curl my.aws.ec.instance:7687, I get the same message. - ‘db’ is my docker-compose service, ‘neo4j_c’ is the neo4j container name. - When I do ‘curl db:7687&#39; of &#39;curl 172.30.0.2:7687&#39; (the ip of my neo4j container) or curl neo4j_c:7687 , i get the same message (&#171;a WebSocket handshake request: missing upgrade&#187;). I then assume that theses connections are working the same way. If I go to http://my.aws.ec.instance:8000, the bloom ‘app’ is up and running, but that is where I’m stuck. To tell bloom where to find the database, I have to put the address in the ‘discovery.json’ file at / of the container, like this. ```&quot;bolt&quot;: &quot;bolt://my_db_address:7687&quot;``` If I use the public address &quot;bolt&quot;: &quot;bolt://my_ec2_instance_address:7687&#187;, it work and connect to the neo4j database container, but externally, which is definitely not what I want. After trying to connect ‘internally’, using either the container IP address, or its name, I would just not connect, and I just can’t figure out why. I tried : ``` &quot;bolt&quot;: &quot;bolt://db:7687&quot; &quot;bolt&quot;: &quot;bolt://neo4j_c:7687&quot; &quot;bolt&quot;: &quot;bolt://172.30.0.2:7687&quot; ``` and many more combinaisons, with and without ports number, protocals etc... the only one working being : ``` &quot;bolt&quot;: &quot;bolt://my_aws_ec2_public_instance:7687&quot; ``` but I&#39;m can&#39;t work with that, there are on the same network and should connect locally. ****Can you guys help me out ? I probably set up something wrong... Please ask me for any other informations you might need.**** I hope I made it clear enough. Thanks in advance for any contribution. ***Additional informations*** Docker version 19.03.6-ce, build 369ce74. docker-compose version 1.27.0, build 980ec85b the docker-compose file : ```version: &#39;3.8&#39; services: db: container_name: neo4j_c image: neo4j:4.1.1-enterprise environment: - NEO4J_ACCEPT_LICENSE_AGREEMENT=yes ports: - 7473:7473 - 7474:7474 - 7687:7687 volumes: - $HOME/neo4j/data:/data networks: - ggnet bloom: container_name: bloom_c build: context: ./ dockerfile: bloom_dockerfile volumes: - ./bloom:/usr/share/nginx/html ports: - 8000:80 depends_on: - db networks: - ggnet networks: ggnet: name: ggnet_n driver: bridge ``` And the simple bloom dockerfile : ``` FROM nginx COPY ./bloom/discovery.json / ``` bloom nginx container default.conf : ``` listen 80; listen [::]:80; listen 7687; #JUST ADDED THAT but it didn&#39;t change anything from previous tests.. server_name localhost; location / { root /usr/share/nginx/html; index index.html index.htm; } error_page 500 502 503 504 /50x.html; location = /50x.html { root /usr/share/nginx/html; } ``` bloom nginx container nginx.conf : ``` user nginx; worker_processes 1; error_log /var/log/nginx/error.log warn; pid /var/run/nginx.pid; events { worker_connections 1024; } http { include /etc/nginx/mime.types; default_type application/octet-stream; log_format main &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39; &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39; &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;; access_log /var/log/nginx/access.log main; sendfile on; keepalive_timeout 65; include /etc/nginx/conf.d/*.conf; } ```",
      "link":"https://stackoverflow.com/questions/64483637/how-to-connect-internally-a-bloom-docker-container-to-a-neo4j-docker-container",
      "title":"How to connect internally a Bloom docker container to a Neo4j docker container"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603391858,
          "creation_date":1603391858,
          "answer_id":64488537,
          "question_id":64480529,
          "share_link":"https://stackoverflow.com/a/64488537",
          "body_markdown":"You can use a `CASE` clause to generate the `child` variable. For example: MATCH (target:Vertex { id : &#39;59255ad6-0397-4b2d-9e69-6999131cea16&#39;}) &lt;-[:PARENT*]- (a:Account {id : &#39;3edcfba7-e95b-4d22-9793-e5f983ebde33&#39;}) OPTIONAL MATCH p= (new_parent:Vertex {id : &#39;3a63f643-f437-4415-b046-b324aa697f42&#39;}) &lt;-[:PARENT*]- (a) RETURN p , target , CASE WHEN NONE(x IN NODES(p) WHERE x = target) THEN p END AS child The `CASE` clause will generate `NULL` if none of the `WHEN` clauses apply and there is no `ELSE` clause.",
          "link":"https://stackoverflow.com/questions/64480529/assign-match-result-to-a-second-variable-and-perform-filter/64488537#64488537",
          "title":"Assign match result to a second variable and perform filter"
        }
      ],
      "owner":{
        "reputation":7994,
        "user_id":6554121,
        "user_type":"registered",
        "accept_rate":61,
        "profile_image":"https://www.gravatar.com/avatar/66a738d8a252badd3e9ccb1c20839ec7?s=128&d=identicon&r=PG&f=1",
        "display_name":"A. L",
        "link":"https://stackoverflow.com/users/6554121/a-l"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":13,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64488537,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603391858,
      "creation_date":1603363244,
      "question_id":64480529,
      "share_link":"https://stackoverflow.com/q/64480529",
      "body_markdown":"Is there a way to duplicate the results of a query to another variable, then perform some filtering on the second variable so potentially two different results return? I&#39;m trying to first save a path to a variable, then assign that result to a second variable, then perform a WHERE on that second variable, while returning the results from the origina query (first variable) MATCH (a:Account {id : &#39;3edcfba7-e95b-4d22-9793-e5f983ebde33&#39;}) MATCH (target:Vertex { id : &#39;59255ad6-0397-4b2d-9e69-6999131cea16&#39;}) &lt;-[:PARENT*]- (a) OPTIONAL MATCH p= (new_parent:Vertex {id : &#39;3a63f643-f437-4415-b046-b324aa697f42&#39;}) &lt;-[:PARENT*]- (a) WITH p , target , p AS child WHERE NONE(x IN nodes(child) WHERE x = target) RETURN p , target , child // this can return null",
      "link":"https://stackoverflow.com/questions/64480529/assign-match-result-to-a-second-variable-and-perform-filter",
      "title":"Assign match result to a second variable and perform filter"
    },
    {
      "tags":[
        "neo4j",
        "spring-data-rest",
        "spring-data-neo4j",
        "reactive"
      ],
      "comments":[
        {
          "owner":{
            "reputation":464,
            "user_id":3346416,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/cef39ae48990a8771592ce9c1eb7e012?s=128&d=identicon&r=PG&f=1",
            "display_name":"Lucia",
            "link":"https://stackoverflow.com/users/3346416/lucia"
          },
          "edited":false,
          "score":0,
          "creation_date":1603353227,
          "post_id":64475694,
          "comment_id":114011685,
          "link":"https://stackoverflow.com/questions/64475694/spring-boot-neo4j%ef%b8%8frx-dto-projection-with-relationship-not-working#comment114011685_64475694"
        },
        {
          "owner":{
            "reputation":105,
            "user_id":10420300,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/c706cee83d13a6972187d3962120b165?s=128&d=identicon&r=PG&f=1",
            "display_name":"suliman",
            "link":"https://stackoverflow.com/users/10420300/suliman"
          },
          "reply_to_user":{
            "reputation":464,
            "user_id":3346416,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/cef39ae48990a8771592ce9c1eb7e012?s=128&d=identicon&r=PG&f=1",
            "display_name":"Lucia",
            "link":"https://stackoverflow.com/users/3346416/lucia"
          },
          "edited":false,
          "score":0,
          "creation_date":1603365201,
          "post_id":64475694,
          "comment_id":114017314,
          "link":"https://stackoverflow.com/questions/64475694/spring-boot-neo4j%ef%b8%8frx-dto-projection-with-relationship-not-working#comment114017314_64475694"
        }
      ],
      "owner":{
        "reputation":105,
        "user_id":10420300,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/c706cee83d13a6972187d3962120b165?s=128&d=identicon&r=PG&f=1",
        "display_name":"suliman",
        "link":"https://stackoverflow.com/users/10420300/suliman"
      },
      "last_editor":{
        "reputation":105,
        "user_id":10420300,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/c706cee83d13a6972187d3962120b165?s=128&d=identicon&r=PG&f=1",
        "display_name":"suliman",
        "link":"https://stackoverflow.com/users/10420300/suliman"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":42,
      "favorite_count":2,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1603429617,
      "creation_date":1603343586,
      "last_edit_date":1603365129,
      "question_id":64475694,
      "share_link":"https://stackoverflow.com/q/64475694",
      "body_markdown":"I am trying to use DTO projection, to get only selected relation by the DTO to optimize Neo4j query. It works fine with normal fields but when I try to get insight relationship with the projected fields, it returns null. This is my Node entity ``` @Node(&quot;Subscription&quot;) data class Subscription( @Id val id: UUID, @Relationship(type = &quot;TO_PLAN&quot;, direction = OUTGOING) val plan: SubscriptionPlan?, @Relationship(type = &quot;HAS_INVOICE&quot;, direction = OUTGOING) val invoice: Invoice?, @Relationship(type = &quot;HAS_INSIGHT&quot;, direction = OUTGOING) val insight: Map&lt;Insight, SubscriptionInsightsRelationship&gt;, val status: SubscriptionStatuses, val isAutoRenewal: Boolean, val insightsLastChange: LocalDateTime?, @CreatedDate val createdDate: LocalDateTime?, @LastModifiedDate val lastModifiedDate: LocalDateTime? ) ``` &gt; The Map is how to set rich relationship in Neo4j⚡️RX This is my projection DTO data class RetrieveSubscriptionDto( val id: UUID, val insight: Map&lt;Insight, SubscriptionInsightsRelationship&gt;?, val status: SubscriptionStatuses, val lastModifiedDate: LocalDateTime? ) This is the repository ``` interface SubscriptionRepository : ReactiveNeo4jRepository&lt;Subscription, UUID&gt; { fun findAllByIdIsNotNull(): Flux&lt;RetrieveSubscriptionDto&gt; } ``` The returned value with this projection is ``` { &quot;id&quot;: &quot;d3a816e5-d0be-4721-b34d-346b011b9757&quot;, &quot;insight&quot;: null, &quot;status&quot;: &quot;ACTIVE&quot;, &quot;lastModifiedDate&quot;: &quot;2020-10-18T01:29:40.37691&quot; } ```",
      "link":"https://stackoverflow.com/questions/64475694/spring-boot-neo4j%ef%b8%8frx-dto-projection-with-relationship-not-working",
      "title":"spring boot Neo4j⚡️RX dto projection with relationship not working"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "owner":{
        "reputation":1,
        "user_id":4611637,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/1715cfdcfea11602cdf12d25730e8e49?s=128&d=identicon&r=PG&f=1",
        "display_name":"Yury",
        "link":"https://stackoverflow.com/users/4611637/yury"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":16,
      "favorite_count":0,
      "down_vote_count":1,
      "up_vote_count":0,
      "answer_count":0,
      "score":-1,
      "last_activity_date":1603331727,
      "creation_date":1603331299,
      "last_edit_date":1603331727,
      "question_id":64474077,
      "share_link":"https://stackoverflow.com/q/64474077",
      "body_markdown":"I am trying to visualize reference between WebServers, API servers and databases. In my data model that I build web server can connect to 1 api server. API server can connect to one/many databases and/or one/many api servers. It should be simple but I can&#39;t get model working with this relationship. I get API duplicates. when indeed it has to be one and just multiple connections from it. Example, There is WebServerA connects to APIServerA, APIServerA connects to LoggerAPI and to MasterAPIServer. LoggerAPI connects to database &#39;LoggerDB&#39;, MasterAPIServer connects to &#39;dbA&#39;.This is my data: **databases_stackoverflow.csv:** databaseId,DatabaseName,databaseSID,region,hosts dbA,dbA,dbA,dev,dbA.localhost LoggerDB,LoggerDB,LoggerDB,dev,LoggerDB.localhost LDAPDB,LDAPDB,LDAPAPI,dev,LDAPAPI.localhost **apis_stackoverflow.csv:** apiId,apiName,apiUrl,dataSource,region,underlyingAPI APIServerA,APIServerA,http://APIServerA.localhost.com/api/version,dbA,dev,LoggerAPI:LDAPAPI LoggerAPI,LoggerAPI,http://LoggerAPI.localhost.com/api/version,LoggerDB,dev, LDAPAPI,LDAPAPI,http://LDAPAPI.localhost/api/version,LDAP,, **webServers_stackoverflow.csv:** webserverId,serverName,hosts,apiId,region,url WebServerA ,WebServerA.localhost,WebServerA.localhost,APIServerA,dev,APIServerA.localhost.com This is what I run to import this data: // Create DBs LOAD CSV WITH HEADERS FROM &quot;file:///databases_stackoverflow.csv&quot; AS row CREATE (n:Databases) SET n = row // Create APIs LOAD CSV WITH HEADERS FROM &#39;file:///apis_stackoverflow.csv&#39; AS row WITH row WHERE row.underlyingAPI IS NOT NULL MERGE (e:APIS {apiId: row.apiId, apiName: row.apiName}) WITH e, row UNWIND split(row.underlyingAPI, &#39;:&#39;) AS APIS MERGE (s:API {name: APIS}) MERGE (e)-[r:FETCH_FROM]-&gt;(s) // Create Web LOAD CSV WITH HEADERS FROM &quot;file:///webServers_stackoverflow.csv&quot; AS row CREATE (n:webservers) SET n = row //create indexes: CREATE INDEX ON :Databases(databaseId) CREATE INDEX ON :APIS(apiId) CREATE INDEX ON :webservers(webserverId) //Create data relationships MATCH (d:Databases),(apis:APIS) WHERE apis.dataSource = d.databaseId CREATE (apis)-[:CONNECTS_TO]-&gt;(d) MATCH (w:webservers),(a:APIS) WHERE w.apiId = a.apiId CREATE (w)-[:FETCHES]-&gt;(a) I got this: ![enter image description here][1] But I was expecting to get something like this: ![enter image description here][2] [1]: https://i.stack.imgur.com/oqSwD.png [2]: https://i.stack.imgur.com/6d3TS.png Can someone help to identify the issue with relationship creation?",
      "link":"https://stackoverflow.com/questions/64474077/neo4j-label-self-reference-and-import-from-csv",
      "title":"neo4j label self reference and import from csv"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603331656,
          "creation_date":1603331656,
          "answer_id":64474105,
          "question_id":64471062,
          "share_link":"https://stackoverflow.com/a/64474105",
          "body_markdown":"The following query uses [apoc.coll.randomItems](https://neo4j.com/labs/apoc/4.1/data-structures/collection-list-functions/) to get 200 different random accounts at one time (which is much faster than getting one random account 200 times): MATCH (ba:BankAccount) WITH apoc.coll.randomItems(COLLECT(ba), 200) AS accts WHERE SIZE(accts) &gt; 1 UNWIND RANGE(0, SIZE(accts)/2*2-1, 2) AS i WITH accts[i] AS sender, accts[i+1] AS receiver CREATE (sender)-[:TRANSFERED_TO {time: datetime()}]-&gt;(receiver) Notes: 1. This query uses `CREATE` instead of `MERGE` because it is unlikely that a `TRANSFERED_TO `relationship already exists with the current time as the `time` value. (You can choose to use `MERGE` anyway, if duplication is still possible.) 2. The `WHERE SIZE(accts) &gt; 1` test avoids errors when there are not at least 2 accounts. 3. `SIZE(accts)/2*2-1` calculation prevents the [RANGE](https://neo4j.com/docs/cypher-manual/current/functions/list/#functions-range) function from generating a list index (`i`) that exceeds the last valid index for a `sender` account.",
          "link":"https://stackoverflow.com/questions/64471062/how-to-create-random-relationships-between-nodes/64474105#64474105",
          "title":"How to create random relationships between nodes?"
        }
      ],
      "owner":{
        "reputation":499,
        "user_id":1692562,
        "user_type":"registered",
        "accept_rate":67,
        "profile_image":"https://www.gravatar.com/avatar/48eeff4fdd7d4746703b09182500c587?s=128&d=identicon&r=PG",
        "display_name":"jvilledieu",
        "link":"https://stackoverflow.com/users/1692562/jvilledieu"
      },
      "last_editor":{
        "reputation":499,
        "user_id":1692562,
        "user_type":"registered",
        "accept_rate":67,
        "profile_image":"https://www.gravatar.com/avatar/48eeff4fdd7d4746703b09182500c587?s=128&d=identicon&r=PG",
        "display_name":"jvilledieu",
        "link":"https://stackoverflow.com/users/1692562/jvilledieu"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":16,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603331656,
      "creation_date":1603311056,
      "last_edit_date":1603311374,
      "question_id":64471062,
      "share_link":"https://stackoverflow.com/q/64471062",
      "body_markdown":"I&#39;m trying to create random transaction between bank accounts. I have created the following query: //Create transactions CALL apoc.periodic.iterate(&quot; match (a:BANK_ACCOUNT) WITH apoc.coll.randomItem(collect(a)) as sender return sender&quot;, &quot; MATCH (b:BANK_ACCOUNT) WHERE NOT sender = b WITH apoc.coll.randomItem(collect(b)) as receiver MERGE (sender)-[r:HAS_TRANSFERED {time: datetime()}]-&gt;(receiver) set r.amount = rand()*1000&quot;, {batchSize:100, parallel:false}); I would assume that it would create 100 random transactions between random bank accounts. Instead it creates 1 new bank account and 1 new relationship. What am I doing wrong and what should I do? Thanks for your help !",
      "link":"https://stackoverflow.com/questions/64471062/how-to-create-random-relationships-between-nodes",
      "title":"How to create random relationships between nodes?"
    },
    {
      "tags":[
        "neo4j",
        "rdf",
        "wikidata",
        "virtuoso",
        "triplestore"
      ],
      "comments":[
        {
          "owner":{
            "reputation":7883,
            "user_id":4744359,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/7794bbbd8bab9c8e1f739918c29914cf?s=128&d=identicon&r=PG&f=1",
            "display_name":"UninformedUser",
            "link":"https://stackoverflow.com/users/4744359/uninformeduser"
          },
          "edited":false,
          "score":0,
          "creation_date":1603296146,
          "post_id":64465844,
          "comment_id":113994162,
          "link":"https://stackoverflow.com/questions/64465844/triplestore-or-graph-database-more-suitable-for-this-application#comment113994162_64465844"
        },
        {
          "owner":{
            "reputation":7883,
            "user_id":4744359,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/7794bbbd8bab9c8e1f739918c29914cf?s=128&d=identicon&r=PG&f=1",
            "display_name":"UninformedUser",
            "link":"https://stackoverflow.com/users/4744359/uninformeduser"
          },
          "edited":false,
          "score":0,
          "creation_date":1603296253,
          "post_id":64465844,
          "comment_id":113994213,
          "link":"https://stackoverflow.com/questions/64465844/triplestore-or-graph-database-more-suitable-for-this-application#comment113994213_64465844"
        },
        {
          "owner":{
            "reputation":3709,
            "user_id":660810,
            "user_type":"registered",
            "accept_rate":64,
            "profile_image":"https://www.gravatar.com/avatar/7433696d1e23483e6449333f216e4813?s=128&d=identicon&r=PG",
            "display_name":"William",
            "link":"https://stackoverflow.com/users/660810/william"
          },
          "reply_to_user":{
            "reputation":7883,
            "user_id":4744359,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/7794bbbd8bab9c8e1f739918c29914cf?s=128&d=identicon&r=PG&f=1",
            "display_name":"UninformedUser",
            "link":"https://stackoverflow.com/users/4744359/uninformeduser"
          },
          "edited":false,
          "score":0,
          "creation_date":1603297203,
          "post_id":64465844,
          "comment_id":113994629,
          "link":"https://stackoverflow.com/questions/64465844/triplestore-or-graph-database-more-suitable-for-this-application#comment113994629_64465844"
        },
        {
          "owner":{
            "reputation":3709,
            "user_id":660810,
            "user_type":"registered",
            "accept_rate":64,
            "profile_image":"https://www.gravatar.com/avatar/7433696d1e23483e6449333f216e4813?s=128&d=identicon&r=PG",
            "display_name":"William",
            "link":"https://stackoverflow.com/users/660810/william"
          },
          "reply_to_user":{
            "reputation":7883,
            "user_id":4744359,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/7794bbbd8bab9c8e1f739918c29914cf?s=128&d=identicon&r=PG&f=1",
            "display_name":"UninformedUser",
            "link":"https://stackoverflow.com/users/4744359/uninformeduser"
          },
          "edited":false,
          "score":0,
          "creation_date":1603297313,
          "post_id":64465844,
          "comment_id":113994676,
          "link":"https://stackoverflow.com/questions/64465844/triplestore-or-graph-database-more-suitable-for-this-application#comment113994676_64465844"
        },
        {
          "owner":{
            "reputation":7993,
            "user_id":241164,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/0c827c7be0a2d3dc7e4732934f62aa9a?s=128&d=identicon&r=PG",
            "display_name":"TallTed",
            "link":"https://stackoverflow.com/users/241164/tallted"
          },
          "edited":false,
          "score":1,
          "creation_date":1603319724,
          "post_id":64465844,
          "comment_id":114003452,
          "link":"https://stackoverflow.com/questions/64465844/triplestore-or-graph-database-more-suitable-for-this-application#comment114003452_64465844"
        },
        {
          "owner":{
            "reputation":7883,
            "user_id":4744359,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/7794bbbd8bab9c8e1f739918c29914cf?s=128&d=identicon&r=PG&f=1",
            "display_name":"UninformedUser",
            "link":"https://stackoverflow.com/users/4744359/uninformeduser"
          },
          "edited":false,
          "score":0,
          "creation_date":1603346897,
          "post_id":64465844,
          "comment_id":114009246,
          "link":"https://stackoverflow.com/questions/64465844/triplestore-or-graph-database-more-suitable-for-this-application#comment114009246_64465844"
        }
      ],
      "owner":{
        "reputation":3709,
        "user_id":660810,
        "user_type":"registered",
        "accept_rate":64,
        "profile_image":"https://www.gravatar.com/avatar/7433696d1e23483e6449333f216e4813?s=128&d=identicon&r=PG",
        "display_name":"William",
        "link":"https://stackoverflow.com/users/660810/william"
      },
      "comment_count":6,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":32,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":1,
      "closed_date":1603323505,
      "answer_count":0,
      "score":1,
      "last_activity_date":1603290687,
      "creation_date":1603290687,
      "question_id":64465844,
      "share_link":"https://stackoverflow.com/q/64465844",
      "body_markdown":"I am trying build a domain specific question answering system using the Wikidata that already has the rdf/json dump format. There are pros and cons between triplestore (e.g. virtuoso) and graph (e.g. neo4j), I made a lot of reading but still can&#39;t decide which. People said triplestore is good for inferencing/reasoning, while graph is not but I thought with graph in neo4j we can write Cypher in such a way that can do inferencing too [such as this][1] , so what I am not aware of ? Is it easier to query with SPARQL than Cypher for inferencing ? I am leaning towards using graph database as it has a couple of advantages as [explained here][2] but maybe it has bias because it&#39;s written by neo4j. But if I choose this route, means I have to sanitize a lot of rdf data when importing to neo4j with the neosemantic plugin ?! I am not sure how direct it&#39;s and if it will be painful to import them. I would prefer to have everything stored in a single db that include the user&#39;s login system, application specific data as well. so what is more suitable in my situation, triplestore or graph ? Thanks [1]: https://towardsdatascience.com/inference-in-graph-database-7203938932a0 [2]: https://neo4j.com/blog/rdf-triple-store-vs-labeled-property-graph-difference/",
      "link":"https://stackoverflow.com/questions/64465844/triplestore-or-graph-database-more-suitable-for-this-application",
      "closed_reason":"Opinion-based",
      "title":"triplestore or graph database more suitable for this application?"
    },
    {
      "tags":[
        "spring-boot",
        "neo4j",
        "graph-databases",
        "spring-data-neo4j"
      ],
      "comments":[
        {
          "owner":{
            "reputation":464,
            "user_id":3346416,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/cef39ae48990a8771592ce9c1eb7e012?s=128&d=identicon&r=PG&f=1",
            "display_name":"Lucia",
            "link":"https://stackoverflow.com/users/3346416/lucia"
          },
          "edited":false,
          "score":0,
          "creation_date":1603288443,
          "post_id":64463243,
          "comment_id":113989881,
          "link":"https://stackoverflow.com/questions/64463243/i-having-a-connection-issue-while-running-my-springboot-application-which-is-not#comment113989881_64463243"
        }
      ],
      "owner":{
        "reputation":9,
        "user_id":6739059,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/2f7b5e4bd87df33fda51ed370a87ddfc?s=128&d=identicon&r=PG&f=1",
        "display_name":"Apostrophi",
        "link":"https://stackoverflow.com/users/6739059/apostrophi"
      },
      "comment_count":1,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":12,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1603282311,
      "creation_date":1603282311,
      "question_id":64463243,
      "share_link":"https://stackoverflow.com/q/64463243",
      "body_markdown":"I get the below error. I am enclosing the screenshot of error as well. Caused by: org.neo4j.driver.exceptions.ServiceUnavailableException: Unable to connect to localhost:7687, ensure the database is running and that there is a working network connection to it. [enter image description here][1] [1]: https://i.stack.imgur.com/ZTTLm.png",
      "link":"https://stackoverflow.com/questions/64463243/i-having-a-connection-issue-while-running-my-springboot-application-which-is-not",
      "title":"I having a connection issue while running my Springboot application which is not able to connect to Neo4J"
    },
    {
      "tags":[
        "grails",
        "neo4j"
      ],
      "comments":[
        {
          "owner":{
            "reputation":3651,
            "user_id":74057,
            "user_type":"registered",
            "accept_rate":82,
            "profile_image":"https://www.gravatar.com/avatar/43b366c599e4af01190174ee63f6b611?s=128&d=identicon&r=PG",
            "display_name":"aldrin",
            "link":"https://stackoverflow.com/users/74057/aldrin"
          },
          "edited":false,
          "score":1,
          "creation_date":1603367413,
          "post_id":64460196,
          "comment_id":114018287,
          "link":"https://stackoverflow.com/questions/64460196/problem-making-a-grails-4-0-4-project-connect-to-neo4j-desktop#comment114018287_64460196"
        },
        {
          "owner":{
            "reputation":121,
            "user_id":3816618,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/871eee2bf39804513905b87acaf7c154?s=128&d=identicon&r=PG&f=1",
            "display_name":"user215556",
            "link":"https://stackoverflow.com/users/3816618/user215556"
          },
          "reply_to_user":{
            "reputation":3651,
            "user_id":74057,
            "user_type":"registered",
            "accept_rate":82,
            "profile_image":"https://www.gravatar.com/avatar/43b366c599e4af01190174ee63f6b611?s=128&d=identicon&r=PG",
            "display_name":"aldrin",
            "link":"https://stackoverflow.com/users/74057/aldrin"
          },
          "edited":false,
          "score":0,
          "creation_date":1603445531,
          "post_id":64460196,
          "comment_id":114045933,
          "link":"https://stackoverflow.com/questions/64460196/problem-making-a-grails-4-0-4-project-connect-to-neo4j-desktop#comment114045933_64460196"
        }
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":3651,
            "user_id":74057,
            "user_type":"registered",
            "accept_rate":82,
            "profile_image":"https://www.gravatar.com/avatar/43b366c599e4af01190174ee63f6b611?s=128&d=identicon&r=PG",
            "display_name":"aldrin",
            "link":"https://stackoverflow.com/users/74057/aldrin"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":false,
          "score":1,
          "last_activity_date":1603474838,
          "creation_date":1603474838,
          "answer_id":64504876,
          "question_id":64460196,
          "share_link":"https://stackoverflow.com/a/64504876",
          "body_markdown":"As per http://gorm.grails.org/snapshot/neo4j/manual/#releaseNotes, there doesn&#39;t seem to be a version that yet supports Neo4j 4.x. The latest supported version is Neo4j 3.x with GORM 7.0.x",
          "link":"https://stackoverflow.com/questions/64460196/problem-making-a-grails-4-0-4-project-connect-to-neo4j-desktop/64504876#64504876",
          "title":"Problem making a Grails 4.0.4 project connect to Neo4j Desktop"
        }
      ],
      "owner":{
        "reputation":121,
        "user_id":3816618,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/871eee2bf39804513905b87acaf7c154?s=128&d=identicon&r=PG&f=1",
        "display_name":"user215556",
        "link":"https://stackoverflow.com/users/3816618/user215556"
      },
      "last_editor":{
        "reputation":121,
        "user_id":3816618,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/871eee2bf39804513905b87acaf7c154?s=128&d=identicon&r=PG&f=1",
        "display_name":"user215556",
        "link":"https://stackoverflow.com/users/3816618/user215556"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":21,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603474838,
      "creation_date":1603270900,
      "last_edit_date":1603284862,
      "question_id":64460196,
      "share_link":"https://stackoverflow.com/q/64460196",
      "body_markdown":"I have probably a very stupid error here, but I cannot get a simple Grails 4.0.4 project to connect to a Neo4j Desktop instance (1.3.8). The neo4j service is running and I have been able to verify that I have connectivity to it from other tools, like DBeaver and Python. The neo4j database settings in application.yml looks like this: grails: neo4j: url: bolt://localhost:7687 username: &quot;neo4j&quot; password: &quot;neo4j&quot; The project I generated from start.grails.org running this: &gt; curl -O start.grails.org/myapp.zip -d version=4.0.4 -d features=events,geb2,neo4j The problem is when I try to launch a Grails project, the app fails to start with the message: &gt; Application run failed &gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;neo4jDatastore&#39;: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.grails.datastore.gorm.neo4j.Neo4jDatastore]: Constructor threw exception; nested exception is org.neo4j.driver.v1.exceptions.ServiceUnavailableException: Connection to the database terminated. This can happen due to network instabilities, or due to restarts of the database Would be grateful for some hints that could help me get started. Thanks! ",
      "link":"https://stackoverflow.com/questions/64460196/problem-making-a-grails-4-0-4-project-connect-to-neo4j-desktop",
      "title":"Problem making a Grails 4.0.4 project connect to Neo4j Desktop"
    },
    {
      "tags":[
        "database",
        "mongodb",
        "neo4j",
        "graph-databases",
        "document-database"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":2070,
            "user_id":1734996,
            "user_type":"registered",
            "accept_rate":85,
            "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name":"Graphileon",
            "link":"https://stackoverflow.com/users/1734996/graphileon"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603280526,
          "creation_date":1603280526,
          "answer_id":64462774,
          "question_id":64459715,
          "share_link":"https://stackoverflow.com/a/64462774",
          "body_markdown":"You could consider Graphileon. We provide a low-coding UI that allows you to do what you seem to need. More info on our website: www.graphileon.com Full disclosure: I work for Graphileon. ",
          "link":"https://stackoverflow.com/questions/64459715/document-or-graph-oriented-database-with-gui/64462774#64462774",
          "title":"Document or graph oriented database with GUI"
        }
      ],
      "owner":{
        "reputation":19,
        "user_id":6252293,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/4ea126c71cad76895d53cd37c460d4d0?s=128&d=identicon&r=PG&f=1",
        "display_name":"P. Egli",
        "link":"https://stackoverflow.com/users/6252293/p-egli"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":17,
      "favorite_count":0,
      "down_vote_count":1,
      "up_vote_count":0,
      "closed_date":1603337807,
      "answer_count":1,
      "score":-1,
      "last_activity_date":1603280526,
      "creation_date":1603269019,
      "question_id":64459715,
      "share_link":"https://stackoverflow.com/q/64459715",
      "body_markdown":"I would like to setup a database for keeping track of a production process. From the data structure, it seems like a document or graph-oriented database would fit perfectly our needs. I was thinking of neo4j or MongoDB. However, what we need is a simply way to collect also the data. This is mainly done manually by people. Is there any GUI (or another database) system that provides an easy way to generate the needed json documents from forms that can be prefilled with default values etc? I was looking for something easy to setup like the Access Forms but which runs (preferably) on the web. (I know that one COULD develop a whole web application but isn&#39;t here something easier?) Peter",
      "link":"https://stackoverflow.com/questions/64459715/document-or-graph-oriented-database-with-gui",
      "closed_reason":"Not suitable for this site",
      "title":"Document or graph oriented database with GUI"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":29,
                "user_id":10913055,
                "user_type":"registered",
                "profile_image":"https://lh5.googleusercontent.com/-jUUUJij4Ot4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaaYzjK3_VaBYq2XjWsHk_hv7JwwQ/mo/photo.jpg?sz=128",
                "display_name":"Sonal Pachpute",
                "link":"https://stackoverflow.com/users/10913055/sonal-pachpute"
              },
              "edited":false,
              "score":0,
              "creation_date":1603284195,
              "post_id":64462863,
              "comment_id":113987542,
              "link":"https://stackoverflow.com/questions/64457321/fetching-a-tree-for-a-particular-node-in-neo4j/64462863#comment113987542_64462863"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":2070,
            "user_id":1734996,
            "user_type":"registered",
            "accept_rate":85,
            "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name":"Graphileon",
            "link":"https://stackoverflow.com/users/1734996/graphileon"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603280839,
          "creation_date":1603280839,
          "answer_id":64462863,
          "question_id":64457321,
          "share_link":"https://stackoverflow.com/a/64462863",
          "body_markdown":"What about something like this:: MATCH path=(fromNode:Part{partNumber:&quot;100&quot;})-[:HAS_BOM_PROPERTY]-&gt;(BomNode:BomProperties)-[*]-&gt;(toNode:Part) // get all the relationships UNWIND relationships(path) AS rel // remove duplicates WITH DISTINCT rel RETURN startNode(rel) AS fromNode,endNode(rel) AS toNode ",
          "link":"https://stackoverflow.com/questions/64457321/fetching-a-tree-for-a-particular-node-in-neo4j/64462863#64462863",
          "title":"fetching a tree for a particular node in neo4j"
        }
      ],
      "owner":{
        "reputation":29,
        "user_id":10913055,
        "user_type":"registered",
        "profile_image":"https://lh5.googleusercontent.com/-jUUUJij4Ot4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaaYzjK3_VaBYq2XjWsHk_hv7JwwQ/mo/photo.jpg?sz=128",
        "display_name":"Sonal Pachpute",
        "link":"https://stackoverflow.com/users/10913055/sonal-pachpute"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":21,
      "favorite_count":1,
      "down_vote_count":0,
      "up_vote_count":1,
      "answer_count":1,
      "score":1,
      "last_activity_date":1603280839,
      "creation_date":1603258949,
      "question_id":64457321,
      "share_link":"https://stackoverflow.com/q/64457321",
      "body_markdown":"I want all children of a given node with their interconnection with each other. For example A-&gt;B-&gt;C-&gt;D is a tree and I want a tree from A(starting point), Output should be &lt;br /&gt; A-&gt;B&lt;br /&gt; B-&gt;C&lt;br /&gt; C-&gt;D&lt;br /&gt; and not as&lt;br /&gt; A-&gt;B&lt;br /&gt; A-&gt;C&lt;br /&gt; A-&gt;D&lt;br /&gt; `MATCH (fromNode:Part{partNumber:&quot;100&quot;})-[:HAS_BOM_PROPERTY]-&gt;(BomNode:BomProperties)-[*]-&gt;(toNode:Part) return fromNode{.*}, toNode{.*},BomNode{.*}` I am using above query, it is giving me all the nodes connected with partNumber 100 at all levels but I want them along with their relationship with respective parent element and not all directly connected to partNumber 100. ",
      "link":"https://stackoverflow.com/questions/64457321/fetching-a-tree-for-a-particular-node-in-neo4j",
      "title":"fetching a tree for a particular node in neo4j"
    },
    {
      "tags":[
        "java",
        "neo4j",
        "enums",
        "cypher",
        "spring-data-neo4j"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":1105,
                "user_id":6701496,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
                "display_name":"degath",
                "link":"https://stackoverflow.com/users/6701496/degath"
              },
              "edited":false,
              "score":0,
              "creation_date":1603263402,
              "post_id":64456185,
              "comment_id":113977794,
              "link":"https://stackoverflow.com/questions/64444991/spring-data-neo4j-custom-queryresult-doesnt-recognize-enums/64456185#comment113977794_64456185"
            },
            {
              "owner":{
                "reputation":464,
                "user_id":3346416,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/cef39ae48990a8771592ce9c1eb7e012?s=128&d=identicon&r=PG&f=1",
                "display_name":"Lucia",
                "link":"https://stackoverflow.com/users/3346416/lucia"
              },
              "reply_to_user":{
                "reputation":1105,
                "user_id":6701496,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
                "display_name":"degath",
                "link":"https://stackoverflow.com/users/6701496/degath"
              },
              "edited":false,
              "score":0,
              "creation_date":1603273008,
              "post_id":64456185,
              "comment_id":113982188,
              "link":"https://stackoverflow.com/questions/64444991/spring-data-neo4j-custom-queryresult-doesnt-recognize-enums/64456185#comment113982188_64456185"
            },
            {
              "owner":{
                "reputation":1105,
                "user_id":6701496,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
                "display_name":"degath",
                "link":"https://stackoverflow.com/users/6701496/degath"
              },
              "edited":false,
              "score":0,
              "creation_date":1603309886,
              "post_id":64456185,
              "comment_id":114000020,
              "link":"https://stackoverflow.com/questions/64444991/spring-data-neo4j-custom-queryresult-doesnt-recognize-enums/64456185#comment114000020_64456185"
            },
            {
              "owner":{
                "reputation":464,
                "user_id":3346416,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/cef39ae48990a8771592ce9c1eb7e012?s=128&d=identicon&r=PG&f=1",
                "display_name":"Lucia",
                "link":"https://stackoverflow.com/users/3346416/lucia"
              },
              "reply_to_user":{
                "reputation":1105,
                "user_id":6701496,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
                "display_name":"degath",
                "link":"https://stackoverflow.com/users/6701496/degath"
              },
              "edited":false,
              "score":1,
              "creation_date":1603351685,
              "post_id":64456185,
              "comment_id":114011079,
              "link":"https://stackoverflow.com/questions/64444991/spring-data-neo4j-custom-queryresult-doesnt-recognize-enums/64456185#comment114011079_64456185"
            },
            {
              "owner":{
                "reputation":1105,
                "user_id":6701496,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
                "display_name":"degath",
                "link":"https://stackoverflow.com/users/6701496/degath"
              },
              "edited":false,
              "score":0,
              "creation_date":1603366841,
              "post_id":64456185,
              "comment_id":114018034,
              "link":"https://stackoverflow.com/questions/64444991/spring-data-neo4j-custom-queryresult-doesnt-recognize-enums/64456185#comment114018034_64456185"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":464,
            "user_id":3346416,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/cef39ae48990a8771592ce9c1eb7e012?s=128&d=identicon&r=PG&f=1",
            "display_name":"Lucia",
            "link":"https://stackoverflow.com/users/3346416/lucia"
          },
          "last_editor":{
            "reputation":464,
            "user_id":3346416,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/cef39ae48990a8771592ce9c1eb7e012?s=128&d=identicon&r=PG&f=1",
            "display_name":"Lucia",
            "link":"https://stackoverflow.com/users/3346416/lucia"
          },
          "comment_count":5,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603353063,
          "last_edit_date":1603353063,
          "creation_date":1603250435,
          "answer_id":64456185,
          "question_id":64444991,
          "share_link":"https://stackoverflow.com/a/64456185",
          "body_markdown":"Below are my entity classes and repository which perfectly works fine. @Data @QueryResult public class PersonResponse { private Long id; private String name; private int age; private City livesAt; private Test test; private List&lt;Person&gt; friends; } public enum Test { A, B } Repository method @Query(&quot;MATCH (pr:Person) where ID(pr)=$id return ID(pr) as id, pr.test as test, pr.name as name, pr.age as age&quot;) public PersonResponse getPerson(Long id); Result: { &quot;id&quot;: 68, &quot;name&quot;: &quot;Alex&quot;, &quot;age&quot;: 24, &quot;test&quot;: &quot;A&quot;, } ",
          "link":"https://stackoverflow.com/questions/64444991/spring-data-neo4j-custom-queryresult-doesnt-recognize-enums/64456185#64456185",
          "title":"Spring data neo4j custom @QueryResult doesn&#39;t recognize enums"
        }
      ],
      "owner":{
        "reputation":1105,
        "user_id":6701496,
        "user_type":"registered",
        "accept_rate":85,
        "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
        "display_name":"degath",
        "link":"https://stackoverflow.com/users/6701496/degath"
      },
      "last_editor":{
        "reputation":1105,
        "user_id":6701496,
        "user_type":"registered",
        "accept_rate":85,
        "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
        "display_name":"degath",
        "link":"https://stackoverflow.com/users/6701496/degath"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":24,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64456185,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603706873,
      "creation_date":1603196271,
      "last_edit_date":1603706873,
      "question_id":64444991,
      "share_link":"https://stackoverflow.com/q/64444991",
      "body_markdown":"I&#39;m trying to create a custom `@QueryResult` with multiple fields from different nodes, but it seems like the query result mechanism is unable to map enum correctly. This is an example that I made for this scenario. I created a basic enum as: ``` public enum MyEnum{ SOMETHING, SOMETHING_ELSE } ``` And spring data neo4j repository method with the query: ``` @Query(&quot;Match (people:People)-[:LIVES_IN]-&gt;(country:Country) &quot; + &quot;RETURN people.enum&quot;) List&lt;WithEnumQueryResult&gt; findPeople(); ``` when I trigger it throws an exception: ``` org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate pl.degath.WithEnumQueryResult using constructor pl.degath.WithEnumQueryResult(pl.degath.MyEnum) with arguments SOMETHING_ELSE ``` I was able to see through trial and error that: ``` @Builder @Getter @QueryResult public class WithEnumQueryResult{ private final MyEnum enum; //this one I would like to have, but throws error private final String enum; //this returns my enum as String (doesn&#39;t throw error) private final People people; //this one has correct enum as a property of people (doesn&#39;t throw error) } ``` I tried also add some @Converter e.g. `@Convert(EnumStringConverter.class)` annotation in front of my enum property, but it didn&#39;t help out. Any ideas on how can I make my QueryResult recognize enums? *EDIT:* As mentioned in a comment from the accepted answer, it seems like enums require no-args constructors, so I had to change my immutable object into the: ``` @Builder @Getter @NoArgsConstructor(access = AccessLevel.PRIVATE) @AllArgsConstructor @QueryResult public class WithEnumQueryResult{ private MyEnum enum; //enum is visible now! } ``` ",
      "link":"https://stackoverflow.com/questions/64444991/spring-data-neo4j-custom-queryresult-doesnt-recognize-enums",
      "title":"Spring data neo4j custom @QueryResult doesn&#39;t recognize enums"
    },
    {
      "tags":[
        "performance",
        "neo4j",
        "cypher",
        "recommendation-engine"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":2,
          "is_accepted":true,
          "score":2,
          "last_activity_date":1603229914,
          "creation_date":1603229914,
          "answer_id":64453697,
          "question_id":64443366,
          "share_link":"https://stackoverflow.com/a/64453697",
          "body_markdown":"If you want to do real-time recommendations using some sort of cosine distance metric on tens of thousands of nodes or more, it is probably best to store the precomputed values as relationships. As for making the graph dense, you can limit the `SIMILAR` relationship to top K similar nodes and also define the similarity cutoff threshold, which can make your graph as sparse as you would like to. You can only store relevant results. So, for example, in a graph of 10 thousand nodes, if every item has a connection to the top 10 other nodes, this is not a really dense graph. If you also remove duplicate relationships that point from one node to another and back, you could remove them even more. So if there are 10k*10k (divided by two if you are treating the relationships as undirected) relationships possible, you won&#39;t have a billion possible relationships, but only 100k at most. The [Graph Data Science library][1] supports two algorithms for calculating cosine distance: The [first naive version][2] calculates the distance between all pairs and can be tuned with `topK` and `similarityCutoff` parameters. Just recently, the [optimized implementation][3] of the kNN algorithm was added in the GDS 1.4 pre-release. It uses the implementation described in this article: https://dl.acm.org/doi/abs/10.1145/1963405.1963487 However, for real-time calculation of similarity between 10k+ nodes, it might still take more than 100ms you would max the real-time response, so going with the pre-computed similarity relationships makes sense. [1]: https://neo4j.com/docs/graph-data-science/current/ [2]: https://neo4j.com/docs/graph-data-science/current/alpha-algorithms/cosine/ [3]: https://neo4j.com/docs/graph-data-science/1.4-preview/algorithms/knn/",
          "link":"https://stackoverflow.com/questions/64443366/neo4j-real-time-recommendation-performance/64453697#64453697",
          "title":"Neo4j real-time recommendation performance"
        },
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":false,
          "score":1,
          "last_activity_date":1603402072,
          "last_edit_date":1603402072,
          "creation_date":1603388001,
          "answer_id":64487588,
          "question_id":64443366,
          "share_link":"https://stackoverflow.com/a/64487588",
          "body_markdown":"Aside from @TomažBratanič&#39;s great suggestions, your existing query can be made more efficient. It is performing mathematical calculations for every `p1/p2` pair, even for pairs that are later filtered out because the number of shared movies does not exceed 10. Instead, you should try filtering out unwanted `p1/p2` pairs *before* you do the calculations. For example: MATCH (p1:User {name: &quot;Cynthia Freeman&quot;})-[x:RATED]-&gt;(m:Movie)&lt;-[y:RATED]-(p2:User) WITH COLLECT({xr: x.rating, yr: y.rating}) AS data p1, p2 WHERE SIZE(data) &gt; 10 WITH REDUCE(s = 0, d IN data | s + d.xr * d.yr) AS xyDotProduct, SQRT(REDUCE(xDot = 0.0, a IN data | xDot + a.xr^2)) AS xLength, SQRT(REDUCE(yDot = 0.0, b IN data | yDot + b.yr^2)) AS yLength, p1, p2 RETURN p1.name, p2.name, xyDotProduct / (xLength * yLength) AS sim ORDER BY sim DESC LIMIT 100;",
          "link":"https://stackoverflow.com/questions/64443366/neo4j-real-time-recommendation-performance/64487588#64487588",
          "title":"Neo4j real-time recommendation performance"
        }
      ],
      "owner":{
        "reputation":355,
        "user_id":3142472,
        "user_type":"registered",
        "accept_rate":100,
        "profile_image":"https://i.stack.imgur.com/SAPJG.png?s=128&g=1",
        "display_name":"Alexandru Dinu",
        "link":"https://stackoverflow.com/users/3142472/alexandru-dinu"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":37,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64453697,
      "answer_count":2,
      "score":0,
      "last_activity_date":1603402072,
      "creation_date":1603190066,
      "question_id":64443366,
      "share_link":"https://stackoverflow.com/q/64443366",
      "body_markdown":"I am trying to understand the performance of neo4j in real-time recommendation systems. The following is a cypher query (taken from their sandbox) which computes top 100 most similar users (in cosine-distance) to the query user &quot;Cynthia Freeman&quot;: ```cypher MATCH (p1:User {name: &quot;Cynthia Freeman&quot;})-[x:RATED]-&gt;(m:Movie)&lt;-[y:RATED]-(p2:User) WITH COUNT(m) AS numberMovies, SUM(x.rating * y.rating) AS xyDotProduct, SQRT(REDUCE(xDot = 0.0, a IN COLLECT(x.rating) | xDot + a^2)) AS xLength, SQRT(REDUCE(yDot = 0.0, b IN COLLECT(y.rating) | yDot + b^2)) AS yLength, p1, p2 WHERE numberMovies &gt; 10 RETURN p1.name, p2.name, xyDotProduct / (xLength * yLength) AS sim ORDER BY sim DESC LIMIT 100; ``` If my understanding is correct, there&#39;s no *magic* behind the [`LIMIT`](https://neo4j.com/docs/cypher-manual/current/clauses/limit/) clause, as the distance computation still needs to be done vs. all other users, so resolving this query in real-time seems a bit of a stretch, unless neo4j is doing something behind the scenes. In another example, they pre-compute this `[:SIMILARITY]` relationship between user nodes and store it in the graph, thus querying the top-N most similar users becomes an ordering of nodes. This will intuitively make the graph dense, so there are no storage advantages over simply using a similarity matrix between. Am I missing something fundamental about the way graph databases (and neo4j in particular) work? How can this scale to real-time applications, where there can be tens of thousands of users, and even more products that they interact with?",
      "link":"https://stackoverflow.com/questions/64443366/neo4j-real-time-recommendation-performance",
      "title":"Neo4j real-time recommendation performance"
    },
    {
      "tags":[
        "neo4j",
        "cypher",
        "neo4j-apoc"
      ],
      "comments":[
        {
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1603211906,
          "post_id":64442208,
          "comment_id":113962979,
          "link":"https://stackoverflow.com/questions/64442208/create-relationship-between-child-nodes#comment113962979_64442208"
        },
        {
          "owner":{
            "reputation":1,
            "user_id":14483977,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/6a9d2a449d2bcae26406961b3d299817?s=128&d=identicon&r=PG&f=1",
            "display_name":"JDizzle",
            "link":"https://stackoverflow.com/users/14483977/jdizzle"
          },
          "reply_to_user":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1603271771,
          "post_id":64442208,
          "comment_id":113981611,
          "link":"https://stackoverflow.com/questions/64442208/create-relationship-between-child-nodes#comment113981611_64442208"
        },
        {
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1603301063,
          "post_id":64442208,
          "comment_id":113996257,
          "link":"https://stackoverflow.com/questions/64442208/create-relationship-between-child-nodes#comment113996257_64442208"
        },
        {
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1603309464,
          "post_id":64442208,
          "comment_id":113999836,
          "link":"https://stackoverflow.com/questions/64442208/create-relationship-between-child-nodes#comment113999836_64442208"
        }
      ],
      "owner":{
        "reputation":1,
        "user_id":14483977,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/6a9d2a449d2bcae26406961b3d299817?s=128&d=identicon&r=PG&f=1",
        "display_name":"JDizzle",
        "link":"https://stackoverflow.com/users/14483977/jdizzle"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":4,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":35,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1603303986,
      "creation_date":1603185688,
      "last_edit_date":1603303986,
      "question_id":64442208,
      "share_link":"https://stackoverflow.com/q/64442208",
      "body_markdown":"I want to create a new relationship between nodes of the same label based on their relationship to the same parent node. The attached picture is an example: ![Nodes overview](https://i.stack.imgur.com/sVxhR.png) Only (Person)/Authors that worked on the **same** Article should have a relationship [WORKED_WITH] to another. Is there an elegant way, to do this using cypher or maybe apoc? So far the only solution I came up with is by creating a RESULT of each article name with a list (collect) of the authors. Which then would have to be used (py2neo) to create the relationship. Thanks for your help. ",
      "link":"https://stackoverflow.com/questions/64442208/create-relationship-between-child-nodes",
      "title":"Create Relationship between child nodes"
    },
    {
      "tags":[
        "neo4j"
      ],
      "owner":{
        "reputation":43,
        "user_id":9039096,
        "user_type":"registered",
        "profile_image":"https://lh3.googleusercontent.com/-ay-w3lCggP0/AAAAAAAAAAI/AAAAAAAAB0o/lUN3sSYVh_E/photo.jpg?sz=128",
        "display_name":"Zahra Ashouri",
        "link":"https://stackoverflow.com/users/9039096/zahra-ashouri"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":56,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":1,
      "answer_count":0,
      "score":1,
      "last_activity_date":1603185579,
      "creation_date":1603185579,
      "question_id":64442171,
      "share_link":"https://stackoverflow.com/q/64442171",
      "body_markdown":"I&#39;m using neo4j community edition. I want to run a query which checks 40 million nodes and update their specific property, if needed. But query fails with this message: &gt; Query failed: {code: Neo.TransientError.General.OutOfMemoryError} {message: There is not enough memory to perform the current task. Please try increasing &#39;dbms.memory.heap.max_size&#39; in the neo4j configuration (normally in &#39;conf/neo4j.conf&#39; or, if you you are using Neo4j Desktop, found through the user interface) or if you are running an embedded installation increase the heap by using &#39;-Xmx&#39; command line flag, and then restart the database.} So I increased `dbms.memory.heap.max_size` and `dbms.memory.heap.initial_size` over and over, the same value for both. Despite increasing them to 8192g but this issue occurs again. Should I increase it more? or is it about memory limitation in community edition? preceedly thank you for any solution! :)",
      "link":"https://stackoverflow.com/questions/64442171/neo4j-jvm-heap-memory-error-neo-transienterror-general-outofmemoryerror",
      "title":"neo4j jvm heap memory error: Neo.TransientError.General.OutOfMemoryError"
    },
    {
      "tags":[
        "neo4j",
        "neo4j-apoc"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603833005,
          "creation_date":1603833005,
          "answer_id":64562944,
          "question_id":64441965,
          "share_link":"https://stackoverflow.com/a/64562944",
          "body_markdown":"The `apoc.path.subgraphNodes` procedure can return the same node multiple times, so it should use `RETURN DISTINCT node` to ensure that each node is only returned once. For instance: CALL apoc.periodic.iterate( &#39;MATCH (s:Thing{id:$thingId}) CALL apoc.path.subgraphNodes(s, {}) YIELD node RETURN DISTINCT node&#39;, &#39;DETACH DELETE node&#39;, {batchSize:2000, iterateList:true, parallel:false, params: {thingId: $idOfThingToDelete}}) YIELD total, batches, errorMessages RETURN total",
          "link":"https://stackoverflow.com/questions/64441965/delete-using-periodic-iterate-not-working/64562944#64562944",
          "title":"Delete using Periodic Iterate not working"
        }
      ],
      "owner":{
        "reputation":1656,
        "user_id":759196,
        "user_type":"registered",
        "accept_rate":76,
        "profile_image":"https://www.gravatar.com/avatar/3ff7ba0a81ed200e81b1649fb763cfce?s=128&d=identicon&r=PG",
        "display_name":"Richard",
        "link":"https://stackoverflow.com/users/759196/richard"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":24,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603833005,
      "creation_date":1603184818,
      "question_id":64441965,
      "share_link":"https://stackoverflow.com/q/64441965",
      "body_markdown":"I&#39;m using this query to delete a lot of nodes, and it works fine in 4.0.0 but using 4.1.1 it doesn&#39;t seem to work CALL apoc.periodic.iterate(&#39; MATCH (s:Thing{id:$thingId}) CALL apoc.path.subgraphNodes(s, {}) YIELD node RETURN node&#39;, &#39;DETACH DELETE node&#39;, {batchSize:2000, iterateList:true, parallel:false, params: { thingId: $idOfThingToDelete}}) YIELD total, batches, errorMessages RETURN total It errors with the following &gt; Failed to invoke procedure `apoc.periodic.iterate`: Caused by: &gt; org.neo4j.graphdb.NotFoundException: Node 78063 not found And then further down in the log, we get this &gt; Failed to invoke procedure `apoc.periodic.iterate`: Caused by: &gt; java.lang.IllegalStateException: NOT PART OF CHAIN! &gt; RelationshipTraversalCursor[id=64250, open state with: &gt; denseNode=false, next=64250, mode=regular, underlying &gt; record=Relationship[64250,used=true,source=86327,target=86330,type=7,sPrev=64238,sNext=-1,tCount=1,tNext=-1,prop=478773,secondaryUnitId=-1,!sFirst, &gt; tFirst]] I can see the node with id 78063 and it looks fine, so I don&#39;t understand why it&#39;s saying it can&#39;t find it. Any help appreciated, thanks!",
      "link":"https://stackoverflow.com/questions/64441965/delete-using-periodic-iterate-not-working",
      "title":"Delete using Periodic Iterate not working"
    },
    {
      "tags":[
        "elasticsearch",
        "neo4j",
        "graphaware"
      ],
      "owner":{
        "reputation":19,
        "user_id":14064473,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/bdfa821df5b767413573e3f8f6a2be61?s=128&d=identicon&r=PG&f=1",
        "display_name":"lj4r2020",
        "link":"https://stackoverflow.com/users/14064473/lj4r2020"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":12,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1603180694,
      "creation_date":1603180694,
      "question_id":64440864,
      "share_link":"https://stackoverflow.com/q/64440864",
      "body_markdown":"I can only show one default node type in my elasticsearch index. How do I allow for multiple nodes to be indexed in elasticsearch? My mapping.json file is as follows: ``` {​​​​​​​​&quot;defaults&quot;: {​​​​​​​​&quot;key_property&quot;: &quot;uuid&quot;, &quot;nodes_index&quot;: &quot;default-index-node&quot;, &quot;relationships_index&quot;: &quot;default-index-relationship&quot;, &quot;include_remaining_properties&quot;: true }​​​​​​​​, &quot;node_mappings&quot;: [ {​​​​​​​​&quot;condition&quot;: &quot;hasLabel(&#39;A&#39;)&quot;, &quot;type&quot;: &quot;A&quot;, &quot;index&quot;:&quot;A-index&quot;, &quot;properties&quot;: {​​​​​​​​&quot;id&quot;: &quot;getProperty(&#39;id&#39;)&quot; }​​​​​​​​}​​​​​​​​, {​​​​​​​​&quot;condition&quot;: &quot;hasLabel(&#39;B&#39;)&quot;, &quot;type&quot;: &quot;B&quot;, &quot;index&quot;:&quot;B-index&quot;, &quot;properties&quot;: {​​​​​​​​&quot;id&quot;: &quot;getProperty(&#39;id&#39;)&quot; }​​​​​​​​}​​​​​​​​, {​​​​​​​​&quot;condition&quot;: &quot;hasLabel(&#39;C&#39;)&quot;, &quot;type&quot;: &quot;C&quot;, &quot;index&quot;:&quot;C-index&quot;, &quot;properties&quot;: {​​​​​​​​&quot;id&quot;: &quot;getProperty(&#39;id&#39;)&quot; }​​​​​​​​}​​​​​​​​] ``` Thank you in advance! ",
      "link":"https://stackoverflow.com/questions/64440864/show-multiple-nodes-in-elasticsearch-from-neo4j-graphaware-mapping-json",
      "title":"Show multiple nodes in elasticsearch from neo4j graphaware mapping.json"
    },
    {
      "tags":[
        "azure",
        "neo4j",
        "neo4j-apoc"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603141225,
          "creation_date":1603141225,
          "answer_id":64435034,
          "question_id":64432988,
          "share_link":"https://stackoverflow.com/a/64435034",
          "body_markdown":"The instructions for installing APOC are [here](https://neo4j.com/labs/apoc/4.1/installation/).",
          "link":"https://stackoverflow.com/questions/64432988/graph-data-science-library-not-in-azure-neo4j-vm/64435034#64435034",
          "title":"Graph Data Science library not in Azure Neo4j VM"
        }
      ],
      "owner":{
        "reputation":137,
        "user_id":13469785,
        "user_type":"registered",
        "profile_image":"https://lh4.googleusercontent.com/-dp9W1Yp-80o/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPbisubeRcptofQobH94W8miEvmcg/photo.jpg?sz=128",
        "display_name":"LJRB",
        "link":"https://stackoverflow.com/users/13469785/ljrb"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":19,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603141238,
      "creation_date":1603131083,
      "last_edit_date":1603141238,
      "question_id":64432988,
      "share_link":"https://stackoverflow.com/q/64432988",
      "body_markdown":"I have created a Neo4j VM Enterprise 4.0 on Azure. On this VM I called call dbms.procedures. I saw that Graph Data Science (GDS) is not installed on this VM when this VM was created on Azure. Usually I work with Neo4j Desktop and I just had to click on install button. With a Neo4j VM in Azure I don&#39;t know how to install GDS. What can I do ?",
      "link":"https://stackoverflow.com/questions/64432988/graph-data-science-library-not-in-azure-neo4j-vm",
      "title":"Graph Data Science library not in Azure Neo4j VM"
    },
    {
      "tags":[
        "asp.net-core",
        "neo4j",
        "cypher",
        "asp.net-identity"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":17400,
            "user_id":6751634,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/kjSAI.jpg?s=128&g=1",
            "display_name":"Fei Han",
            "link":"https://stackoverflow.com/users/6751634/fei-han"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":false,
          "score":1,
          "last_activity_date":1603191016,
          "creation_date":1603191016,
          "answer_id":64443613,
          "question_id":64427605,
          "share_link":"https://stackoverflow.com/a/64443613",
          "body_markdown":"&gt;I want to use .NET Core Identity Framework with the new Neo4j version 4 in ASP.net Core but any implementation I looked for, does not support the new Neo4j. As you mentioned, most of existing example and github demo are built on older version .NET Core and Neo4j, which might not work well with the application built on the latest SDK. If you do want to implement ASP.NET Core Identity with the new Neo4j, you can refer to the following doc to create a customized storage provider for ASP.NET Core Identity. https://docs.microsoft.com/en-us/aspnet/core/security/authentication/identity-custom-storage-providers?view=aspnetcore-3.1 ",
          "link":"https://stackoverflow.com/questions/64427605/neo4j-4-and-net-core-identity-framework/64443613#64443613",
          "title":"Neo4j 4 and .NET Core Identity Framework"
        }
      ],
      "owner":{
        "reputation":95,
        "user_id":9611069,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/ccf32c0b99be3ac6cd22d87a907a9d82?s=128&d=identicon&r=PG&f=1",
        "display_name":"Amirhosein Rajabi",
        "link":"https://stackoverflow.com/users/9611069/amirhosein-rajabi"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":29,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603191016,
      "creation_date":1603111469,
      "question_id":64427605,
      "share_link":"https://stackoverflow.com/q/64427605",
      "body_markdown":"I want to use .NET Core Identity Framework with the new Neo4j version 4 in ASP.net Core but any implementation I looked for, does not support the new Neo4j. Like: [Neo4j.AspNet.Identity.Core][1] [Neo4j.AspNetCore.Identity][2] [1]: https://github.com/cskardon/Neo4j.AspNet.Identity.Core#neo4jaspnetidentitycore [2]: https://github.com/francnuec/Neo4j.AspNetCore.Identity",
      "link":"https://stackoverflow.com/questions/64427605/neo4j-4-and-net-core-identity-framework",
      "title":"Neo4j 4 and .NET Core Identity Framework"
    },
    {
      "tags":[
        "python",
        "neo4j",
        "graph-databases"
      ],
      "comments":[
        {
          "owner":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited":false,
          "score":0,
          "creation_date":1603120481,
          "post_id":64426671,
          "comment_id":113928915,
          "link":"https://stackoverflow.com/questions/64426671/how-to-return-the-child-node-count-of-all-subgraphs-in-neo4j#comment113928915_64426671"
        },
        {
          "owner":{
            "reputation":155,
            "user_id":8897809,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/1cddb7a90b6f27e490a04bbb3d2ad7c8?s=128&d=identicon&r=PG&f=1",
            "display_name":"David",
            "link":"https://stackoverflow.com/users/8897809/david"
          },
          "reply_to_user":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited":false,
          "score":0,
          "creation_date":1603120896,
          "post_id":64426671,
          "comment_id":113929143,
          "link":"https://stackoverflow.com/questions/64426671/how-to-return-the-child-node-count-of-all-subgraphs-in-neo4j#comment113929143_64426671"
        },
        {
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1603134102,
          "post_id":64426671,
          "comment_id":113934759,
          "link":"https://stackoverflow.com/questions/64426671/how-to-return-the-child-node-count-of-all-subgraphs-in-neo4j#comment113934759_64426671"
        },
        {
          "owner":{
            "reputation":155,
            "user_id":8897809,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/1cddb7a90b6f27e490a04bbb3d2ad7c8?s=128&d=identicon&r=PG&f=1",
            "display_name":"David",
            "link":"https://stackoverflow.com/users/8897809/david"
          },
          "edited":false,
          "score":0,
          "creation_date":1603173998,
          "post_id":64426671,
          "comment_id":113944565,
          "link":"https://stackoverflow.com/questions/64426671/how-to-return-the-child-node-count-of-all-subgraphs-in-neo4j#comment113944565_64426671"
        }
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":155,
                "user_id":8897809,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/1cddb7a90b6f27e490a04bbb3d2ad7c8?s=128&d=identicon&r=PG&f=1",
                "display_name":"David",
                "link":"https://stackoverflow.com/users/8897809/david"
              },
              "edited":false,
              "score":0,
              "creation_date":1603174017,
              "post_id":64433327,
              "comment_id":113944576,
              "link":"https://stackoverflow.com/questions/64426671/how-to-return-the-child-node-count-of-all-subgraphs-in-neo4j/64433327#comment113944576_64433327"
            },
            {
              "owner":{
                "reputation":76,
                "user_id":12642133,
                "user_type":"registered",
                "profile_image":"https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
                "display_name":"plastic",
                "link":"https://stackoverflow.com/users/12642133/plastic"
              },
              "reply_to_user":{
                "reputation":155,
                "user_id":8897809,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/1cddb7a90b6f27e490a04bbb3d2ad7c8?s=128&d=identicon&r=PG&f=1",
                "display_name":"David",
                "link":"https://stackoverflow.com/users/8897809/david"
              },
              "edited":false,
              "score":0,
              "creation_date":1603312502,
              "post_id":64433327,
              "comment_id":114001128,
              "link":"https://stackoverflow.com/questions/64426671/how-to-return-the-child-node-count-of-all-subgraphs-in-neo4j/64433327#comment114001128_64433327"
            },
            {
              "owner":{
                "reputation":155,
                "user_id":8897809,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/1cddb7a90b6f27e490a04bbb3d2ad7c8?s=128&d=identicon&r=PG&f=1",
                "display_name":"David",
                "link":"https://stackoverflow.com/users/8897809/david"
              },
              "edited":false,
              "score":0,
              "creation_date":1603350135,
              "post_id":64433327,
              "comment_id":114010446,
              "link":"https://stackoverflow.com/questions/64426671/how-to-return-the-child-node-count-of-all-subgraphs-in-neo4j/64433327#comment114010446_64433327"
            },
            {
              "owner":{
                "reputation":76,
                "user_id":12642133,
                "user_type":"registered",
                "profile_image":"https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
                "display_name":"plastic",
                "link":"https://stackoverflow.com/users/12642133/plastic"
              },
              "reply_to_user":{
                "reputation":155,
                "user_id":8897809,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/1cddb7a90b6f27e490a04bbb3d2ad7c8?s=128&d=identicon&r=PG&f=1",
                "display_name":"David",
                "link":"https://stackoverflow.com/users/8897809/david"
              },
              "edited":false,
              "score":0,
              "creation_date":1603379271,
              "post_id":64433327,
              "comment_id":114024614,
              "link":"https://stackoverflow.com/questions/64426671/how-to-return-the-child-node-count-of-all-subgraphs-in-neo4j/64433327#comment114024614_64433327"
            },
            {
              "owner":{
                "reputation":155,
                "user_id":8897809,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/1cddb7a90b6f27e490a04bbb3d2ad7c8?s=128&d=identicon&r=PG&f=1",
                "display_name":"David",
                "link":"https://stackoverflow.com/users/8897809/david"
              },
              "edited":false,
              "score":0,
              "creation_date":1603421617,
              "post_id":64433327,
              "comment_id":114038979,
              "link":"https://stackoverflow.com/questions/64426671/how-to-return-the-child-node-count-of-all-subgraphs-in-neo4j/64433327#comment114038979_64433327"
            },
            {
              "owner":{
                "reputation":76,
                "user_id":12642133,
                "user_type":"registered",
                "profile_image":"https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
                "display_name":"plastic",
                "link":"https://stackoverflow.com/users/12642133/plastic"
              },
              "reply_to_user":{
                "reputation":155,
                "user_id":8897809,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/1cddb7a90b6f27e490a04bbb3d2ad7c8?s=128&d=identicon&r=PG&f=1",
                "display_name":"David",
                "link":"https://stackoverflow.com/users/8897809/david"
              },
              "edited":false,
              "score":0,
              "creation_date":1603472655,
              "post_id":64433327,
              "comment_id":114058202,
              "link":"https://stackoverflow.com/questions/64426671/how-to-return-the-child-node-count-of-all-subgraphs-in-neo4j/64433327#comment114058202_64433327"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":76,
            "user_id":12642133,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
            "display_name":"plastic",
            "link":"https://stackoverflow.com/users/12642133/plastic"
          },
          "last_editor":{
            "reputation":76,
            "user_id":12642133,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
            "display_name":"plastic",
            "link":"https://stackoverflow.com/users/12642133/plastic"
          },
          "comment_count":6,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603379212,
          "last_edit_date":1603379212,
          "creation_date":1603132796,
          "answer_id":64433327,
          "question_id":64426671,
          "share_link":"https://stackoverflow.com/a/64433327",
          "body_markdown":"EDIT: due to revised question --- First I suggest breaking out one query and get the child count working as you want, then work on large complex queries (if it needs to be complex) Inside the parenthesis of size() we need a valid relationship, meaning n needs to be a node, for example try this MATCH p = (n:entity {resource_key: &#39;%s&#39;})-[q]-(v:client) return size((n)--&gt;()) --- for counting nodes in a path use nodes(), like this the total number of nodes in all the paths p (there can be duplicates) MATCH p = (:entity {resource_key: &#39;%s&#39;})-[q]-(v:client) with nodes(p) as n return count(n) the total number of unique nodes in all the paths p MATCH p = (:entity {resource_key: &#39;%s&#39;})-[q]-(v:client) with nodes(p) as n return count(distinct n) your question title actually mentions relationships, one can do something similar with relationships() MATCH p = (:entity {resource_key: &#39;%s&#39;})-[q]-(v:client) with relationships(p) as r return count(r) Note: It looks like both of these nodes() and relationships() are present back in 3.5 as well. Reference: [Neo4j 3.5 list functions][1] [1]: https://neo4j.com/docs/cypher-manual/3.5/functions/list/#functions-nodes",
          "link":"https://stackoverflow.com/questions/64426671/how-to-return-the-child-node-count-of-all-subgraphs-in-neo4j/64433327#64433327",
          "title":"How to return the child node count of all subgraphs in neo4j?"
        }
      ],
      "owner":{
        "reputation":155,
        "user_id":8897809,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/1cddb7a90b6f27e490a04bbb3d2ad7c8?s=128&d=identicon&r=PG&f=1",
        "display_name":"David",
        "link":"https://stackoverflow.com/users/8897809/david"
      },
      "last_editor":{
        "reputation":155,
        "user_id":8897809,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/1cddb7a90b6f27e490a04bbb3d2ad7c8?s=128&d=identicon&r=PG&f=1",
        "display_name":"David",
        "link":"https://stackoverflow.com/users/8897809/david"
      },
      "comment_count":4,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":37,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603379212,
      "creation_date":1603107908,
      "last_edit_date":1603174068,
      "question_id":64426671,
      "share_link":"https://stackoverflow.com/q/64426671",
      "body_markdown":"I have a handful of nodes connected to one another with different relationships, I need to show the count of child nodes for all of the subgraphs. ``` MATCH p = (:entity {resource_key: &#39;%s&#39;}) RETURN p UNION ALL MATCH p = (:entity {resource_key: &#39;%s&#39;})-[q]-(v:client) RETURN p UNION ALL MATCH p = (:entity {resource_key: &#39;%s&#39;})-[q]-(user) RETURN p UNION ALL MATCH p = (:entity {resource_key: &#39;%s&#39;})-[q]-(v:client)-[s]-(b:roles)-[w]-(e:domain) RETURN p ``` The above is the query I use for showing the graph on visjs, Now I&#39;m trying to show the child node count for all the subgraphs, I tried using both count and size operators but it is either throwing up error or only showing 1 relationship count. Any help would be appreciated. Note: The subgraph would span to 8 levels with varying relationships for different usecases so if there is a generic answer, it would be really helpful.",
      "link":"https://stackoverflow.com/questions/64426671/how-to-return-the-child-node-count-of-all-subgraphs-in-neo4j",
      "title":"How to return the child node count of all subgraphs in neo4j?"
    },
    {
      "tags":[
        "python-3.x",
        "database",
        "neo4j",
        "neo4jrestclient"
      ],
      "owner":{
        "reputation":1,
        "user_id":12443037,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/67c80c3efa11d89a060f01f322c63bf6?s=128&d=identicon&r=PG&f=1",
        "display_name":"Sarathy",
        "link":"https://stackoverflow.com/users/12443037/sarathy"
      },
      "last_editor":{
        "reputation":5845,
        "user_id":2266,
        "user_type":"registered",
        "accept_rate":90,
        "profile_image":"https://www.gravatar.com/avatar/aa64f5e61bb8cbcc9d10372256580364?s=128&d=identicon&r=PG",
        "display_name":"Chris Skardon",
        "link":"https://stackoverflow.com/users/2266/chris-skardon"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":16,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1603115488,
      "creation_date":1603092208,
      "last_edit_date":1603115488,
      "question_id":64422798,
      "share_link":"https://stackoverflow.com/q/64422798",
      "body_markdown":"While connecting the ***neo4jrestclient*** with neo4j database (docker version) The below error occurs:- ***Failed to create the driver in neo4jrestclient: &#39;relationship_index&#39;*** This doesn&#39;t happen with the community version (which i tried in my local setup), but occurs in docker version of Neo4j (version : &gt; 4.0.x). No error was found with the docker version setup, but still the relationship_index is repeated. **Neo4j**:- 4.0.X **Python**- 3.5.X **Neo4jrestclient**- 1.5.0 (https://pypi.org/project/neo4jrestclient/1.5.0/) Kindly suggest some ways to resolve this issue. ***code*** ``` from neo4jrestclient.client import GraphDatabase gdb = GraphDatabase(&quot;http://host_ip:7474/db/data/&quot;,username=&quot;USER&quot;,password=&quot;PWD&quot;) ```",
      "link":"https://stackoverflow.com/questions/64422798/relationship-index-connection-error-in-neo4jrestclient-python",
      "title":"relationship_index : Connection error in Neo4jrestclient Python"
    },
    {
      "tags":[
        "node.js",
        "mongodb",
        "server",
        "neo4j"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603144468,
          "creation_date":1603144468,
          "answer_id":64435583,
          "question_id":64414124,
          "share_link":"https://stackoverflow.com/a/64435583",
          "body_markdown":"1. The neo4j driver automatically maintains DB connections for your client. 2. There is no need to perform each query in a separate session. A single neo4j driver session can perform multiple transactions. ",
          "link":"https://stackoverflow.com/questions/64414124/am-i-supposed-to-always-start-new-session-on-neo4j-driver-to-for-running-every-q/64435583#64435583",
          "title":"Am I supposed to always start new session on Neo4j driver to for running every query? Is there any auto reconnect feature like MongoDB?"
        }
      ],
      "owner":{
        "reputation":25,
        "user_id":8956383,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/ce2f0818dca04dafa33b8c2e8f0ac696?s=128&d=identicon&r=PG&f=1",
        "display_name":"Rishav Bhowmik",
        "link":"https://stackoverflow.com/users/8956383/rishav-bhowmik"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":20,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603144468,
      "creation_date":1603029220,
      "question_id":64414124,
      "share_link":"https://stackoverflow.com/q/64414124",
      "body_markdown":"I am new to Neo4j. I am using [neo4j-driver from npm](https://www.npmjs.com/package/neo4j-driver) on NodeJS application. As I went through the examples for different kinds of sessions such as :- `var session = driver.session()` `var rxSession = driver.rxSession()` It always notes:- ``` // Note: Always make sure to close sessions when you are done using them! ``` I a have used mysql &amp; mongodb before, mysql requires new connection for every end point, since there is not endpoint or caching system to handle events when server is disconnected from the mysql server. Whereas in MongoDB, once the connection established, MongoDB driver manages connection loss events, and reconnects to DB on its own. So should treat neo4j-driver like MongoDB driver or mysql driver? Or is there some way to use neo4j-driver in which I can do everything inside a same session, or lets say every read operation &amp; every write operation in particular sessions. Since keeping continuous connection with server so will drastically reduce response time of the server.",
      "link":"https://stackoverflow.com/questions/64414124/am-i-supposed-to-always-start-new-session-on-neo4j-driver-to-for-running-every-q",
      "title":"Am I supposed to always start new session on Neo4j driver to for running every query? Is there any auto reconnect feature like MongoDB?"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "comments":[
        {
          "owner":{
            "reputation":1012,
            "user_id":2185630,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/798165e76261cc1d73e033d815effdf9?s=128&d=identicon&r=PG",
            "display_name":"dbl",
            "link":"https://stackoverflow.com/users/2185630/dbl"
          },
          "edited":false,
          "score":0,
          "creation_date":1603018396,
          "post_id":64412381,
          "comment_id":113898006,
          "link":"https://stackoverflow.com/questions/64412381/find-max-depth-with-bidiretional-graph#comment113898006_64412381"
        },
        {
          "owner":{
            "reputation":298,
            "user_id":9883469,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/AQunE.jpg?s=128&g=1",
            "display_name":"Francesco Bocci",
            "link":"https://stackoverflow.com/users/9883469/francesco-bocci"
          },
          "reply_to_user":{
            "reputation":1012,
            "user_id":2185630,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/798165e76261cc1d73e033d815effdf9?s=128&d=identicon&r=PG",
            "display_name":"dbl",
            "link":"https://stackoverflow.com/users/2185630/dbl"
          },
          "edited":false,
          "score":0,
          "creation_date":1603019288,
          "post_id":64412381,
          "comment_id":113898227,
          "link":"https://stackoverflow.com/questions/64412381/find-max-depth-with-bidiretional-graph#comment113898227_64412381"
        },
        {
          "owner":{
            "reputation":1012,
            "user_id":2185630,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/798165e76261cc1d73e033d815effdf9?s=128&d=identicon&r=PG",
            "display_name":"dbl",
            "link":"https://stackoverflow.com/users/2185630/dbl"
          },
          "edited":false,
          "score":0,
          "creation_date":1603019979,
          "post_id":64412381,
          "comment_id":113898371,
          "link":"https://stackoverflow.com/questions/64412381/find-max-depth-with-bidiretional-graph#comment113898371_64412381"
        },
        {
          "owner":{
            "reputation":1012,
            "user_id":2185630,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/798165e76261cc1d73e033d815effdf9?s=128&d=identicon&r=PG",
            "display_name":"dbl",
            "link":"https://stackoverflow.com/users/2185630/dbl"
          },
          "edited":false,
          "score":0,
          "creation_date":1603020993,
          "post_id":64412381,
          "comment_id":113898623,
          "link":"https://stackoverflow.com/questions/64412381/find-max-depth-with-bidiretional-graph#comment113898623_64412381"
        },
        {
          "owner":{
            "reputation":1012,
            "user_id":2185630,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/798165e76261cc1d73e033d815effdf9?s=128&d=identicon&r=PG",
            "display_name":"dbl",
            "link":"https://stackoverflow.com/users/2185630/dbl"
          },
          "edited":false,
          "score":0,
          "creation_date":1603021332,
          "post_id":64412381,
          "comment_id":113898696,
          "link":"https://stackoverflow.com/questions/64412381/find-max-depth-with-bidiretional-graph#comment113898696_64412381"
        },
        {
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":1,
          "creation_date":1603133060,
          "post_id":64412381,
          "comment_id":113934333,
          "link":"https://stackoverflow.com/questions/64412381/find-max-depth-with-bidiretional-graph#comment113934333_64412381"
        }
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":2070,
            "user_id":1734996,
            "user_type":"registered",
            "accept_rate":85,
            "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name":"Graphileon",
            "link":"https://stackoverflow.com/users/1734996/graphileon"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603053943,
          "creation_date":1603053943,
          "answer_id":64418190,
          "question_id":64412381,
          "share_link":"https://stackoverflow.com/a/64418190",
          "body_markdown":"I guess you could solve it by only considering paths in which each node only appears once. Neo4j&#39;s apoc library offers a function for that: MATCH p=(u:User)-[:Amico*]-&gt;(f:User) WHERE NOT apoc.coll.containsDuplicates(nodes(p)) RETURN p, length(p) order by length(p) desc limit 1",
          "link":"https://stackoverflow.com/questions/64412381/find-max-depth-with-bidiretional-graph/64418190#64418190",
          "title":"Find max depth with bidiretional graph"
        }
      ],
      "owner":{
        "reputation":298,
        "user_id":9883469,
        "user_type":"registered",
        "profile_image":"https://i.stack.imgur.com/AQunE.jpg?s=128&g=1",
        "display_name":"Francesco Bocci",
        "link":"https://stackoverflow.com/users/9883469/francesco-bocci"
      },
      "comment_count":6,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":35,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64418190,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603053943,
      "creation_date":1603018026,
      "question_id":64412381,
      "share_link":"https://stackoverflow.com/q/64412381",
      "body_markdown":"using neo4j I&#39;m trying to find max depth in this graph: [![graph][1]][1] Using this query I find deph value 20 (because I have this bidirectional relationship): MATCH p=(u:User)-[:Amico*]-&gt;(f:User) RETURN p, length(p) order by length(p) desc limit 1 How can I have the true value of this depth? [1]: https://i.stack.imgur.com/GIxzm.png",
      "link":"https://stackoverflow.com/questions/64412381/find-max-depth-with-bidiretional-graph",
      "title":"Find max depth with bidiretional graph"
    },
    {
      "tags":[
        "apache-spark",
        "neo4j"
      ],
      "comments":[
        {
          "owner":{
            "reputation":231,
            "user_id":10954302,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/JomWB.jpg?s=128&g=1",
            "display_name":"G. Pillai",
            "link":"https://stackoverflow.com/users/10954302/g-pillai"
          },
          "edited":false,
          "score":0,
          "creation_date":1603359505,
          "post_id":64406826,
          "comment_id":114014719,
          "link":"https://stackoverflow.com/questions/64406826/neo4j-thinks-that-password-is-database#comment114014719_64406826"
        },
        {
          "owner":{
            "reputation":13,
            "user_id":12387282,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/09f535a38ddcfb6a12014795b9d2c91b?s=128&d=identicon&r=PG&f=1",
            "display_name":"JoukoVirtanen",
            "link":"https://stackoverflow.com/users/12387282/joukovirtanen"
          },
          "reply_to_user":{
            "reputation":231,
            "user_id":10954302,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/JomWB.jpg?s=128&g=1",
            "display_name":"G. Pillai",
            "link":"https://stackoverflow.com/users/10954302/g-pillai"
          },
          "edited":false,
          "score":1,
          "creation_date":1603757185,
          "post_id":64406826,
          "comment_id":114132277,
          "link":"https://stackoverflow.com/questions/64406826/neo4j-thinks-that-password-is-database#comment114132277_64406826"
        }
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":13,
            "user_id":12387282,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/09f535a38ddcfb6a12014795b9d2c91b?s=128&d=identicon&r=PG&f=1",
            "display_name":"JoukoVirtanen",
            "link":"https://stackoverflow.com/users/12387282/joukovirtanen"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603757571,
          "creation_date":1603757571,
          "answer_id":64546655,
          "question_id":64406826,
          "share_link":"https://stackoverflow.com/a/64546655",
          "body_markdown":"With this code I am able to get data from a DataFrame into Neo4j, which is what I really wanted to do. This does not seem to be the ideal solution as it uses foreach. I am open to improvements. ``` import com.typesafe.config._ import org.apache.spark.sql.SparkSession import org.neo4j.driver.{AuthTokens, GraphDatabase, Session} import org.neo4j.spark._ object StackoverflowAnswer { def main(args: Array[String]): Unit = { val spark = getSparkSession() val sc = spark.sparkContext import spark.implicits._ val df = sc.parallelize(List(1, 2, 3)).toDF df.foreach( row =&gt; { val query = &quot;CREATE (n:NumLable {num: &quot; + row.get(0).toString +&quot;})&quot; Neo4jSess.session.run(query) () } ) } def getSparkSession(): SparkSession = { SparkSession .builder .appName(&quot;SparkNeo4j&quot;) .getOrCreate() } } object Neo4jSess { /** * Store a Neo4j session in a object so that it can be used by Spark */ var conf :Config = null this.conf = ConfigFactory.load().getConfig(&quot;DeltaStorer&quot;) val neo4jUrl: String = &quot;bolt://127.0.0.1:7687&quot; val neo4jUser: String = &quot;neo4j&quot; val neo4jPassword: String = &quot;FakePassword&quot; val driver = GraphDatabase.driver(neo4jUrl, AuthTokens.basic(neo4jUser, neo4jPassword)) val session: Session = driver.session() } ```",
          "link":"https://stackoverflow.com/questions/64406826/neo4j-thinks-that-password-is-database/64546655#64546655",
          "title":"Neo4j thinks that password is database"
        },
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":1905,
            "user_id":2281101,
            "user_type":"registered",
            "accept_rate":82,
            "profile_image":"https://www.gravatar.com/avatar/1f08c7dfb35a32ffd718479dd29660d0?s=128&d=identicon&r=PG&f=1",
            "display_name":"Ivan Lee",
            "link":"https://stackoverflow.com/users/2281101/ivan-lee"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1603873366,
          "creation_date":1603873366,
          "answer_id":64568937,
          "question_id":64406826,
          "share_link":"https://stackoverflow.com/a/64568937",
          "body_markdown":"Please try to update spark-defaults.conf: spark.jars.packages neo4j-contrib:neo4j-spark-connector:2.4.5-M2 spark.neo4j.url bolt://XX.XXX.X.XXX:7687 spark.neo4j.user neo4j spark.neo4j.password test ",
          "link":"https://stackoverflow.com/questions/64406826/neo4j-thinks-that-password-is-database/64568937#64568937",
          "title":"Neo4j thinks that password is database"
        }
      ],
      "owner":{
        "reputation":13,
        "user_id":12387282,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/09f535a38ddcfb6a12014795b9d2c91b?s=128&d=identicon&r=PG&f=1",
        "display_name":"JoukoVirtanen",
        "link":"https://stackoverflow.com/users/12387282/joukovirtanen"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":37,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":1,
      "answer_count":2,
      "score":1,
      "last_activity_date":1603873366,
      "creation_date":1602965222,
      "question_id":64406826,
      "share_link":"https://stackoverflow.com/q/64406826",
      "body_markdown":"I am trying to integrate Spark and Neo4j. I am new to Neo4j. I have the following short Spark app ``` import com.typesafe.config._ import org.apache.spark.sql.SparkSession import org.neo4j.spark._ object Neo4jStorer { var conf :Config = null def main(args: Array[String]): Unit = { val spark = getSparkSession() val sc = spark.sparkContext val g = Neo4jGraph.loadGraph(sc, label1=&quot;a&quot;, relTypes=Seq(&quot;rel&quot;), label2 = &quot;b&quot;) val vCount = g.toString println(&quot;Count= &quot; + vCount) } def getSparkSession(): SparkSession = { SparkSession .builder .appName(&quot;SparkNeo4j&quot;) .config(&quot;spark.neo4j.bolt.url&quot;, &quot;neo4j://127.0.0.1:7687&quot;) .config(&quot;spark.neo4j.bolt.user&quot;, &quot;neo4j&quot;) .config(&quot;spark.neo4j.bolt.password&quot;, &quot;FakePassword&quot;) .getOrCreate() } } ``` I used https://neo4j.com/blog/neo4j-3-0-apache-spark-connector/ as an example for this code as I am using Spark 3.0. When I run this I get the following ``` 20/10/17 14:36:36 ERROR LoadBalancer: Failed to update routing table for database &#39;FakePassword&#39;. Current routing table: Ttl 1602963396190, currentTime 1602963396527, routers AddressSet=[], writers AddressSet=[], readers AddressSet=[], database &#39;FakePassword&#39;. org.neo4j.driver.exceptions.FatalDiscoveryException: Unable to get a routing table for database &#39;FakePassword&#39; because this database does not exist ``` If I change the password I get an authentication error and I see that again the incorrect password is shown as being a database. I created a database with the name FakePassword and I still got the same error. Why is this happening and how can I fix it? Also when I tried to get g.vertices.count as is shown in the example I am following I get a compilation error.",
      "link":"https://stackoverflow.com/questions/64406826/neo4j-thinks-that-password-is-database",
      "title":"Neo4j thinks that password is database"
    },
    {
      "tags":[
        "neo4j",
        "spring-data",
        "rx-java",
        "reactive"
      ],
      "owner":{
        "reputation":140,
        "user_id":4262710,
        "user_type":"registered",
        "accept_rate":100,
        "profile_image":"https://www.gravatar.com/avatar/7181d14041d17ea0d17cd08ed030653c?s=128&d=identicon&r=PG&f=1",
        "display_name":"Freewister",
        "link":"https://stackoverflow.com/users/4262710/freewister"
      },
      "last_editor":{
        "reputation":140,
        "user_id":4262710,
        "user_type":"registered",
        "accept_rate":100,
        "profile_image":"https://www.gravatar.com/avatar/7181d14041d17ea0d17cd08ed030653c?s=128&d=identicon&r=PG&f=1",
        "display_name":"Freewister",
        "link":"https://stackoverflow.com/users/4262710/freewister"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":20,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602960314,
      "creation_date":1602938067,
      "last_edit_date":1602960314,
      "question_id":64402502,
      "share_link":"https://stackoverflow.com/q/64402502",
      "body_markdown":"I have the following repository: ``` public interface MessageRepository extends ReactiveNeo4jRepository&lt;Message, Long&gt;, ExtendedMessageRepository { @Query(&quot;MATCH(m:Message) WHERE id(m)=$start MATCH(m)-[:PREDECESSOR*1..11]-&gt;(message:Message)&lt;-[:SENT]-(user:User) MATCH(m)-[:PREDECESSOR]-&gt;(predecessor:Message) RETURN message, user AS sender, predecessor AS predecessor ORDER BY message.timestamp&quot;) Flux&lt;Message&gt; findPredecessors(long start); } ``` Basically this repository works and I get the correct amount of message objects. The only problem is that sender and predecessor inside the message objects are null. Am I missing something or is this feature currently not supported for the neo4j-rx repositories? ``` public class Message extends AbstractEntity { private String content; private LocalDateTime timestamp; @Relationship(type = &quot;SENT&quot;, direction = Relationship.Direction.INCOMING) private User sender; @Relationship(type = &quot;PREDECESSOR&quot;, direction = Relationship.Direction.OUTGOING) private Message predecessor; // getter, setter }",
      "link":"https://stackoverflow.com/questions/64402502/usage-of-queryresult-inside-reactive-neo4j-spring-repository",
      "title":"Usage of QueryResult inside reactive neo4j Spring repository"
    },
    {
      "tags":[
        "neo4j",
        "omnet++",
        "veins",
        "sumo"
      ],
      "owner":{
        "reputation":11,
        "user_id":14408494,
        "user_type":"registered",
        "profile_image":"https://graph.facebook.com/1325963314414131/picture?type=large",
        "display_name":"Saf&#233; Batita",
        "link":"https://stackoverflow.com/users/14408494/saf%c3%a9-batita"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":24,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602931026,
      "creation_date":1602931026,
      "question_id":64401502,
      "share_link":"https://stackoverflow.com/q/64401502",
      "body_markdown":"i asked about the integration of neo4j with omnet++ . I am using the omnet++ , veins and sumo and i want to insert the coordinates of vehicles in a graph database ( Neo4j ). it&#39;s possible to do this ? if yes, how . pls help me . ",
      "link":"https://stackoverflow.com/questions/64401502/integrate-coordinates-vehicles-using-neo4j-and-omnet",
      "title":"integrate coordinates vehicles using neo4j and omnet++"
    },
    {
      "tags":[
        "spring",
        "neo4j"
      ],
      "comments":[
        {
          "owner":{
            "reputation":555,
            "user_id":12194805,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/y9plV.jpg?s=128&g=1",
            "display_name":"Oozeerally",
            "link":"https://stackoverflow.com/users/12194805/oozeerally"
          },
          "edited":false,
          "score":1,
          "creation_date":1603111372,
          "post_id":64399889,
          "comment_id":113924115,
          "link":"https://stackoverflow.com/questions/64399889/getting-this-error-for-neo4j-spring-transaction-cannot-run-more-statements-in-t#comment113924115_64399889"
        }
      ],
      "owner":{
        "reputation":1,
        "user_id":14466637,
        "user_type":"registered",
        "profile_image":"https://lh3.googleusercontent.com/a-/AOh14Gi-B86F8tEr3TGlW0NloQ9CAonRb_ibGqNo2xw_OA=s96-c=k-s128",
        "display_name":"Pavan",
        "link":"https://stackoverflow.com/users/14466637/pavan"
      },
      "comment_count":1,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":10,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602918493,
      "creation_date":1602918493,
      "question_id":64399889,
      "share_link":"https://stackoverflow.com/q/64399889",
      "body_markdown":"This happens after getting a Neo4j Constraint Violation exception (mandatory field) in the previous transaction. Some how the previous transaction is not closed after getting that exception. For other Neo4j exceptions I do not see this behavior. Neo4j version: 3.5.2",
      "link":"https://stackoverflow.com/questions/64399889/getting-this-error-for-neo4j-spring-transaction-cannot-run-more-statements-in-t",
      "title":"Getting this error for neo4j spring transaction: Cannot run more statements in this transaction, transaction has been already committed"
    },
    {
      "tags":[
        "java",
        "neo4j",
        "cypher"
      ],
      "comments":[
        {
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1602893127,
          "post_id":64396370,
          "comment_id":113873301,
          "link":"https://stackoverflow.com/questions/64396370/java-neo4j-reduce-the-number-of-transactions-to-improve-the-performance#comment113873301_64396370"
        },
        {
          "owner":{
            "reputation":17,
            "user_id":14211880,
            "user_type":"registered",
            "profile_image":"https://lh3.googleusercontent.com/a-/AOh14GgZXAq3SjmzgPJraG8wU93AKUhNqhkBJVLdx7iz=k-s128",
            "display_name":"BrandNewStory",
            "link":"https://stackoverflow.com/users/14211880/brandnewstory"
          },
          "reply_to_user":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1602895052,
          "post_id":64396370,
          "comment_id":113873572,
          "link":"https://stackoverflow.com/questions/64396370/java-neo4j-reduce-the-number-of-transactions-to-improve-the-performance#comment113873572_64396370"
        }
      ],
      "owner":{
        "reputation":17,
        "user_id":14211880,
        "user_type":"registered",
        "profile_image":"https://lh3.googleusercontent.com/a-/AOh14GgZXAq3SjmzgPJraG8wU93AKUhNqhkBJVLdx7iz=k-s128",
        "display_name":"BrandNewStory",
        "link":"https://stackoverflow.com/users/14211880/brandnewstory"
      },
      "last_editor":{
        "reputation":17,
        "user_id":14211880,
        "user_type":"registered",
        "profile_image":"https://lh3.googleusercontent.com/a-/AOh14GgZXAq3SjmzgPJraG8wU93AKUhNqhkBJVLdx7iz=k-s128",
        "display_name":"BrandNewStory",
        "link":"https://stackoverflow.com/users/14211880/brandnewstory"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":28,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1603131338,
      "creation_date":1602882272,
      "last_edit_date":1603131338,
      "question_id":64396370,
      "share_link":"https://stackoverflow.com/q/64396370",
      "body_markdown":"I&#39;m trying to generate a Neo4j database using Java based on the computation of Kleene matrix. To simplify, each node has an id with the form ```m&amp;n``` where m and n are integers, and for each level ```i``` in this graph, I want to find all nodes with id&#39;s as ```*&amp;i``` and ```i&amp;*``` so I can combine them to get new nodes with ```i``` as an intermediate node. For example, the current level is 2, then from nodes whose id&#39;s are ```1&amp;2``` and ```2&amp;3```, it can create a new node with id ```1&amp;3```. And it also connects the new nodes to its parent nodes. And my codes look like this: ``` foreach(level i){ foreach(nodeid id_m ends with i){// foreach(nodeid id_n starts with i){ try(Transaction tx = graph.beginTx()){ Node m = tx.findNode(id_m); Node n = tx.findNode(id_n); Node newNode = tx.createNode(); newNode.setProperties(...); newNode.createRelationshipTo(m); newNode.createRelationshipTo(n); tx.commit(); } } } } ``` Both ```id_m``` and ```id_n``` are searched and put in lists by Java function in the outer loop. Each time when the code creates a new node, it commits the transaction once. However when there are a huge number of new nodes created(approximately millions of new nodes), it gets incredibly slow(more than 4 hours, which is not acceptable). I was thinking about the following solutions: 1) using multithreads to create these nodes, but it might not suit my case since each time creating a relationship between two nodes, both nodes will be locked until it&#39;s committed, and the same nodes might appear in different threads. 2) saving the new node information to a queue and commit it to Neo4j database when its size is too large. However without new nodes created to the database, it&#39;s not able to connect them with their parents. So it seems like impossible to reduce the number of transactions. So is there any other possible ways to improve the performance of this code? Or is it possible to implement this by Neo4j clauses? Any help would be much appreciated.",
      "link":"https://stackoverflow.com/questions/64396370/java-neo4j-reduce-the-number-of-transactions-to-improve-the-performance",
      "title":"Java Neo4j reduce the number of transactions to improve the performance"
    },
    {
      "tags":[
        "neo4j",
        "cql",
        "cypher-shell"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":105,
                "user_id":1167338,
                "user_type":"registered",
                "profile_image":"https://i.stack.imgur.com/3XFe6.png?s=128&g=1",
                "display_name":"Sharwan Kami",
                "link":"https://stackoverflow.com/users/1167338/sharwan-kami"
              },
              "edited":false,
              "score":0,
              "creation_date":1602909469,
              "post_id":64397124,
              "comment_id":113875299,
              "link":"https://stackoverflow.com/questions/64395630/unable-to-use-created-neo4j-database/64397124#comment113875299_64397124"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602886900,
          "creation_date":1602886900,
          "answer_id":64397124,
          "question_id":64395630,
          "share_link":"https://stackoverflow.com/a/64397124",
          "body_markdown":"Try CREATE DATABASE foo And then start it",
          "link":"https://stackoverflow.com/questions/64395630/unable-to-use-created-neo4j-database/64397124#64397124",
          "title":"Unable to use created neo4j database"
        },
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":105,
            "user_id":1167338,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/3XFe6.png?s=128&g=1",
            "display_name":"Sharwan Kami",
            "link":"https://stackoverflow.com/users/1167338/sharwan-kami"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602960081,
          "creation_date":1602960081,
          "answer_id":64406059,
          "question_id":64395630,
          "share_link":"https://stackoverflow.com/a/64406059",
          "body_markdown":"I have finally managed to solve the issue. It was because of file permission of a file ``` /var/lib/neo4j/data/transactions/foo/neostore.transaction.db.26 ```. May be somehow the user neo4j lost access to this file. I looked into the debug log file, ``` /var/log/neo4j/debug.log ``` and found exception message ``` java.nio.file.AccessDeniedException: /var/lib/neo4j/data/transactions/foo/neostore.transaction.db.26 ``` then I changed the file permission for neo4j user using command: ``` chown neo4j /var/lib/neo4j/data/transactions/foo//neostore.transaction.db.26 ``` After this, i started the database and it worked",
          "link":"https://stackoverflow.com/questions/64395630/unable-to-use-created-neo4j-database/64406059#64406059",
          "title":"Unable to use created neo4j database"
        }
      ],
      "owner":{
        "reputation":105,
        "user_id":1167338,
        "user_type":"registered",
        "profile_image":"https://i.stack.imgur.com/3XFe6.png?s=128&g=1",
        "display_name":"Sharwan Kami",
        "link":"https://stackoverflow.com/users/1167338/sharwan-kami"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":26,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":2,
      "score":0,
      "last_activity_date":1602960081,
      "creation_date":1602878206,
      "question_id":64395630,
      "share_link":"https://stackoverflow.com/q/64395630",
      "body_markdown":"I had created a **neo4j** database, which was working perfectly. But now, when i try to use the database created by me, using following command: ``` :USE foo; ``` it gives error: ``` Unable to get a routing table for database &#39;foo&#39; because this database is unavailable ``` I tried checking the status of database using command : ``` SHOW DATABASE foo; ``` It shows the currentStatus of foo as &quot;offline&quot;. I have tried starting the database using ``` START DATABASE foo; ``` but no luck! Although, I can use default &quot;neo4j&quot; and &quot;system&quot; databases. Only the new database which I have created, dose not work now. If someone knows the solution, please help.",
      "link":"https://stackoverflow.com/questions/64395630/unable-to-use-created-neo4j-database",
      "title":"Unable to use created neo4j database"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":65,
                "user_id":11927998,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/7279c169eecbc74476a20133805b6f02?s=128&d=identicon&r=PG&f=1",
                "display_name":"billDickens",
                "link":"https://stackoverflow.com/users/11927998/billdickens"
              },
              "edited":false,
              "score":0,
              "creation_date":1602961064,
              "post_id":64395603,
              "comment_id":113887248,
              "link":"https://stackoverflow.com/questions/64395026/how-do-i-get-a-list-of-neo4j-nodes-in-a-directed-graph-starting-from-a-subnode/64395603#comment113887248_64395603"
            },
            {
              "owner":{
                "reputation":65,
                "user_id":11927998,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/7279c169eecbc74476a20133805b6f02?s=128&d=identicon&r=PG&f=1",
                "display_name":"billDickens",
                "link":"https://stackoverflow.com/users/11927998/billdickens"
              },
              "edited":false,
              "score":0,
              "creation_date":1602962041,
              "post_id":64395603,
              "comment_id":113887520,
              "link":"https://stackoverflow.com/questions/64395026/how-do-i-get-a-list-of-neo4j-nodes-in-a-directed-graph-starting-from-a-subnode/64395603#comment113887520_64395603"
            },
            {
              "owner":{
                "reputation":65,
                "user_id":11927998,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/7279c169eecbc74476a20133805b6f02?s=128&d=identicon&r=PG&f=1",
                "display_name":"billDickens",
                "link":"https://stackoverflow.com/users/11927998/billdickens"
              },
              "edited":false,
              "score":0,
              "creation_date":1602971616,
              "post_id":64395603,
              "comment_id":113889917,
              "link":"https://stackoverflow.com/questions/64395026/how-do-i-get-a-list-of-neo4j-nodes-in-a-directed-graph-starting-from-a-subnode/64395603#comment113889917_64395603"
            },
            {
              "owner":{
                "reputation":56013,
                "user_id":974731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name":"cybersam",
                "link":"https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user":{
                "reputation":65,
                "user_id":11927998,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/7279c169eecbc74476a20133805b6f02?s=128&d=identicon&r=PG&f=1",
                "display_name":"billDickens",
                "link":"https://stackoverflow.com/users/11927998/billdickens"
              },
              "edited":false,
              "score":0,
              "creation_date":1602975501,
              "post_id":64395603,
              "comment_id":113890646,
              "link":"https://stackoverflow.com/questions/64395026/how-do-i-get-a-list-of-neo4j-nodes-in-a-directed-graph-starting-from-a-subnode/64395603#comment113890646_64395603"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":4,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1602878065,
          "creation_date":1602878065,
          "answer_id":64395603,
          "question_id":64395026,
          "share_link":"https://stackoverflow.com/a/64395603",
          "body_markdown":"Something like this should get all the nodes in the `B` subtree (including the `B` node). MATCH p=(:Foo {label: &#39;B&#39;})-[*0..]-&gt;(n) RETURN n *Warning: [Variable length relationships](https://neo4j.com/docs/developer-manual/3.4/cypher/clauses/match/#varlength-rels) without a reasonable upper bound can run for a very long time and/or run out of memory.*",
          "link":"https://stackoverflow.com/questions/64395026/how-do-i-get-a-list-of-neo4j-nodes-in-a-directed-graph-starting-from-a-subnode/64395603#64395603",
          "title":"How do I get a list of Neo4j nodes in a directed graph starting from a subnode?"
        }
      ],
      "owner":{
        "reputation":65,
        "user_id":11927998,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/7279c169eecbc74476a20133805b6f02?s=128&d=identicon&r=PG&f=1",
        "display_name":"billDickens",
        "link":"https://stackoverflow.com/users/11927998/billdickens"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":20,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64395603,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602878065,
      "creation_date":1602875244,
      "question_id":64395026,
      "share_link":"https://stackoverflow.com/q/64395026",
      "body_markdown":"I have a very large graph that has one root node that fans out into multiple nodes. I need to get a list of ALL of the nodes in the subgraph. Other than label, they don&#39;t have a common attribute. They are only connected by the &quot;connections&quot; [![enter image description here][1]][1] [1]: https://i.stack.imgur.com/lwZiR.png Looking at my very simplified graph, I wanted to start from B MATCH (n: {label:&#39;B&#39;}) and get a list of all the subnodes [E,C,H,F] or Start with D and get [G] or start with C and get [H,F] I though this would get me where I needed to go https://neo4j.com/labs/apoc/4.1/graph-querying/expand-subgraph/ But i can&#39;t get the results. ",
      "link":"https://stackoverflow.com/questions/64395026/how-do-i-get-a-list-of-neo4j-nodes-in-a-directed-graph-starting-from-a-subnode",
      "title":"How do I get a list of Neo4j nodes in a directed graph starting from a subnode?"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":885,
                "user_id":7986942,
                "user_type":"registered",
                "accept_rate":62,
                "profile_image":"https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
                "display_name":"Matt Larson",
                "link":"https://stackoverflow.com/users/7986942/matt-larson"
              },
              "edited":false,
              "score":0,
              "creation_date":1602867634,
              "post_id":64393107,
              "comment_id":113865696,
              "link":"https://stackoverflow.com/questions/64390987/neo4j-cypher-query-for-a-linked-list-to-conditionally-create-a-newest-reply-vs-m/64393107#comment113865696_64393107"
            },
            {
              "owner":{
                "reputation":885,
                "user_id":7986942,
                "user_type":"registered",
                "accept_rate":62,
                "profile_image":"https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
                "display_name":"Matt Larson",
                "link":"https://stackoverflow.com/users/7986942/matt-larson"
              },
              "edited":false,
              "score":0,
              "creation_date":1602869193,
              "post_id":64393107,
              "comment_id":113866305,
              "link":"https://stackoverflow.com/questions/64390987/neo4j-cypher-query-for-a-linked-list-to-conditionally-create-a-newest-reply-vs-m/64393107#comment113866305_64393107"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":2070,
            "user_id":1734996,
            "user_type":"registered",
            "accept_rate":85,
            "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name":"Graphileon",
            "link":"https://stackoverflow.com/users/1734996/graphileon"
          },
          "comment_count":2,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602866049,
          "creation_date":1602866049,
          "answer_id":64393107,
          "question_id":64390987,
          "share_link":"https://stackoverflow.com/a/64393107",
          "body_markdown":"You can do this to delete any existing `[:NEWEST_REPLY]` rels: MATCH (p:Post {id: $postId}) OPTIONAL MATCH (p)-[rel:NEWEST_REPLY]-&gt;(previousNewestReply:Reply) WITH p,previousNewestReply, // create a collection of size 1 or 0 CASE WHEN NOT rel IS NULL THEN [rel] ELSE [] END AS toBeDeleted // loop through the collection FOREACH( tbd IN toBeDeleted | DELETE tbd ) WITH p,previousNewestReply ..... ",
          "link":"https://stackoverflow.com/questions/64390987/neo4j-cypher-query-for-a-linked-list-to-conditionally-create-a-newest-reply-vs-m/64393107#64393107",
          "title":"Neo4j Cypher query for a linked list to conditionally create a NEWEST_REPLY vs modifying NEWEST_REPLY to NEXT_REPLY"
        },
        {
          "comments":[
            {
              "owner":{
                "reputation":885,
                "user_id":7986942,
                "user_type":"registered",
                "accept_rate":62,
                "profile_image":"https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
                "display_name":"Matt Larson",
                "link":"https://stackoverflow.com/users/7986942/matt-larson"
              },
              "edited":false,
              "score":0,
              "creation_date":1603115229,
              "post_id":64395505,
              "comment_id":113926139,
              "link":"https://stackoverflow.com/questions/64390987/neo4j-cypher-query-for-a-linked-list-to-conditionally-create-a-newest-reply-vs-m/64395505#comment113926139_64395505"
            },
            {
              "owner":{
                "reputation":885,
                "user_id":7986942,
                "user_type":"registered",
                "accept_rate":62,
                "profile_image":"https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
                "display_name":"Matt Larson",
                "link":"https://stackoverflow.com/users/7986942/matt-larson"
              },
              "edited":false,
              "score":0,
              "creation_date":1603115754,
              "post_id":64395505,
              "comment_id":113926415,
              "link":"https://stackoverflow.com/questions/64390987/neo4j-cypher-query-for-a-linked-list-to-conditionally-create-a-newest-reply-vs-m/64395505#comment113926415_64395505"
            },
            {
              "owner":{
                "reputation":56013,
                "user_id":974731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name":"cybersam",
                "link":"https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user":{
                "reputation":885,
                "user_id":7986942,
                "user_type":"registered",
                "accept_rate":62,
                "profile_image":"https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
                "display_name":"Matt Larson",
                "link":"https://stackoverflow.com/users/7986942/matt-larson"
              },
              "edited":false,
              "score":0,
              "creation_date":1603126171,
              "post_id":64395505,
              "comment_id":113931506,
              "link":"https://stackoverflow.com/questions/64390987/neo4j-cypher-query-for-a-linked-list-to-conditionally-create-a-newest-reply-vs-m/64395505#comment113931506_64395505"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":3,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1603126157,
          "last_edit_date":1603126157,
          "creation_date":1602877568,
          "answer_id":64395505,
          "question_id":64390987,
          "share_link":"https://stackoverflow.com/a/64395505",
          "body_markdown":"[UPDATED] This query should work for you: MATCH (p:Post), (u:User) WHERE p.id = $postId AND u.id = $userId OPTIONAL MATCH (p)-[rel:NEWEST_REPLY]-&gt;(prevNewest:Reply) CREATE (u)-[:WROTE]-&gt;(r:Reply {id: apoc.create.uuid(), body: &quot;foo&quot;, createdAt: datetime(), updatedAt: datetime()})&lt;-[:NEWEST_REPLY]-(p) FOREACH(_ IN CASE WHEN rel IS NOT NULL THEN [1] END | DELETE rel CREATE (r)-[:NEXT_REPLY]-&gt;(prevNewest)) I asssume `postId` and `userId` are passed as [parameters](https://neo4j.com/docs/cypher-manual/current/syntax/parameters/). Also, you should create [indexes](https://neo4j.com/docs/cypher-manual/current/administration/indexes-for-search-performance/) on `:Post(di)` and `:User(id)` to speed up the query.",
          "link":"https://stackoverflow.com/questions/64390987/neo4j-cypher-query-for-a-linked-list-to-conditionally-create-a-newest-reply-vs-m/64395505#64395505",
          "title":"Neo4j Cypher query for a linked list to conditionally create a NEWEST_REPLY vs modifying NEWEST_REPLY to NEXT_REPLY"
        }
      ],
      "owner":{
        "reputation":885,
        "user_id":7986942,
        "user_type":"registered",
        "accept_rate":62,
        "profile_image":"https://www.gravatar.com/avatar/5bb5253edc295dc760be0ade2c2cfcb7?s=128&d=identicon&r=PG",
        "display_name":"Matt Larson",
        "link":"https://stackoverflow.com/users/7986942/matt-larson"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":28,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64395505,
      "answer_count":2,
      "score":0,
      "last_activity_date":1603126157,
      "creation_date":1602857977,
      "last_edit_date":1602877660,
      "question_id":64390987,
      "share_link":"https://stackoverflow.com/q/64390987",
      "body_markdown":"I have a linked list of replies off of a Post that looks like this: [![enter image description here][1]][1] [1]: https://i.stack.imgur.com/355Pp.png With the &quot;first&quot; reply in the list having a NEWEST_REPLY relationship to Post and subsequent replies having a NEXT_REPLY relationship. The query to get the above graph: ``` MATCH (p:Post {id: $postId})-[:NEWEST_REPLY|NEXT_REPLY*]-&gt;(r:Reply) return p, r ``` I want to create a cypher query that either 1. Creates a reply and creates the NEWEST_REPLY relationship when there are no replies OR 2. Creates a reply, deletes the current NEWEST_REPLY relationship, creates a NEXT_REPLY relationship to the previous NEWEST_REPLY and a NEWEST_REPLY relationship to the new Reply. This statement: ``` MATCH (p:Post {id: $postId})-[rel:NEWEST_REPLY]-&gt;(previousNewestReply:Reply) DELETE rel CREATE (r:Reply { id: apoc.create.uuid(), body: $body, createdAt: datetime(), updatedAt: datetime() }) WITH r, p, previousNewestReply MATCH (u:User) WHERE u.id = $userId CREATE (r)&lt;-[:WROTE]-(u) CREATE (r)&lt;-[:NEWEST_REPLY]-(p) CREATE (r)-[:NEXT_REPLY]-&gt;(previousNewestReply) RETURN u, p ``` achieves number 2. What I now need to do is conditionally run this statement if the `rel` in `MATCH (p:Post {id: $postId})-[rel:NEWEST_REPLY]-&gt;(previousNewestReply:Reply)` exists, but if it does not exist, just create NEWEST_REPLY for the first time as well as creating the reply and the `User-[:WROTE]-&gt;Reply` relationship. I&#39;m new to cypher and digging into MERGE, CASE, predicate functions and apoc.when() and not sure which would be the simplest and most appropriate. Here&#39;s an attempt at using CASE: ``` MATCH (p:Post {id: &quot;db7ee38c-fe60-430e-a7c7-0b2514401343&quot;}) RETURN CASE EXISTS( (p)-[rel:NEWEST_REPLY]-&gt;(replies:Reply) ) WHEN true THEN DELETE rel CREATE (r:Reply { id: apoc.create.uuid(), body: &quot;new with CASE1&quot;, createdAt: datetime(), updatedAt: datetime() }) WITH r, p, replies MATCH (u:User) WHERE u.id = &quot;e14d409e-d970-4c5c-9cc7-3b224c774835&quot; CREATE (r)&lt;-[:WROTE]-(u) CREATE (r)&lt;-[:NEWEST_REPLY]-(p) CREATE (r)-[:NEXT_REPLY]-&gt;(replies) WHEN false THEN CREATE (r:Reply { id: apoc.create.uuid(), body: &quot;new with CASE2&quot;, createdAt: datetime(), updatedAt: datetime() }) WITH r, p, previousNewestReply MATCH (u:User) WHERE u.id = &quot;e14d409e-d970-4c5c-9cc7-3b224c774835&quot; CREATE (r)&lt;-[:WROTE]-(u) CREATE (r)&lt;-[:NEWEST_REPLY]-(p) END AS result; ``` And running into the following SyntaxError: ``` Invalid input &#39;r&#39;: expected whitespace, comment, &#39;{&#39;, node labels, MapLiteral, a parameter, a parameter (old syntax), a relationship pattern, &#39;(&#39;, &#39;.&#39;, &#39;[&#39;, &#39;^&#39;, &#39;*&#39;, &#39;/&#39;, &#39;%&#39;, &#39;+&#39;, &#39;-&#39;, &quot;=~&quot;, IN, STARTS, ENDS, CONTAINS, IS, &#39;=&#39;, &#39;~&#39;, &quot;&lt;&gt;&quot;, &quot;!=&quot;, &#39;&lt;&#39;, &#39;&gt;&#39;, &quot;&lt;=&quot;, &quot;&gt;=&quot;, AND, XOR, OR, WHEN, ELSE or END (line 4, column 24 (offset: 145)) &quot;WHEN true THEN DELETE rel CREATE (r:Reply { id: apoc.create.uuid(), body: &quot;new with CASE1&quot;, createdAt: datetime(), updatedAt: datetime() }) WITH r, p, replies MATCH (u:User) WHERE u.id = &quot;e14d409e-d970-4c5c-9cc7-3b224c774835&quot; CREATE (r)&lt;-[:WROTE]-(u) CREATE (r)&lt;-[:NEWEST_REPLY]-(p) CREATE (r)-[:NEXT_REPLY]-&gt;(replies)&quot; ``` My sense is that the logic I am attempting in either THEN statements is too complex for a CASE. Is there a more appropriate with to essentially do an if/else off of whether or not the NEWEST_REPLY relationship exists off of a specific Post?",
      "link":"https://stackoverflow.com/questions/64390987/neo4j-cypher-query-for-a-linked-list-to-conditionally-create-a-newest-reply-vs-m",
      "title":"Neo4j Cypher query for a linked list to conditionally create a NEWEST_REPLY vs modifying NEWEST_REPLY to NEXT_REPLY"
    },
    {
      "tags":[
        "neo4j",
        "parallel-processing",
        "neo4j-apoc"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602887310,
          "creation_date":1602887310,
          "answer_id":64397195,
          "question_id":64386338,
          "share_link":"https://stackoverflow.com/a/64397195",
          "body_markdown":"If you are interested in only the number of relationships of your nodes you can use relationship store with the following query: MATCH (c:Cell) WHERE c.id &gt;= 0 AND c.id &lt; 6000 RETURN sum(size( (c)-[:EXPRESSED_IN]-&gt;()) as count",
          "link":"https://stackoverflow.com/questions/64386338/failed-to-invoke-procedure-apoc-cypher-mapparallel2-caused-by-java-lang-runt/64397195#64397195",
          "title":"Failed to invoke procedure `apoc.cypher.mapParallel2`: Caused by: java.lang.RuntimeException: Error polling, timeout of 10 seconds reached"
        }
      ],
      "owner":{
        "reputation":95,
        "user_id":6658100,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/4f960685922a3ebe397c482886d3ddf3?s=128&d=identicon&r=PG&f=1",
        "display_name":"AnhHao Trần",
        "link":"https://stackoverflow.com/users/6658100/anhhao-tr%e1%ba%a7n"
      },
      "last_editor":{
        "reputation":95,
        "user_id":6658100,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/4f960685922a3ebe397c482886d3ddf3?s=128&d=identicon&r=PG&f=1",
        "display_name":"AnhHao Trần",
        "link":"https://stackoverflow.com/users/6658100/anhhao-tr%e1%ba%a7n"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":22,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602887310,
      "creation_date":1602839943,
      "last_edit_date":1602844449,
      "question_id":64386338,
      "share_link":"https://stackoverflow.com/q/64386338",
      "body_markdown":"I am trying to count the number of relationships (c:Cell)-[:EXPRSSED_IN]-&gt;(g:Gene) by using the query: ``` CYPHER runtime=pipelined MATCH (c:Cell)-[r:EXPRESSED_IN]-&gt;(g:Gene) WHERE c.id &gt;= 0 AND c.id &lt; 6000 RETURN count(*) AS count; ``` The query executed successfully. However, it was slower than what I expected. It took around 6 seconds to count a list of around 45 million rows. I&#39;m not sure if it&#39;s the &quot;common case&quot;. Despite that, I want to speed it up furthermore by using parallel processing. Below is the query that I&#39;m trying to execute: ``` MATCH (c:Cell) WHERE c.id &gt;= 0 AND c.id &lt; 6000 WITH COLLECT(c) AS cells CALL apoc.cypher.mapParallel2(&quot;MATCH (_)-[:EXPRESSED_IN]-&gt;(g:Gene) RETURN _.id AS cell_id, g.id AS gene_id&quot;, {parallel:True, batchSize:1000, concurrency:20}, cells, 20) yield value return COUNT(*) as count; ``` It gives me the error `Failed to invoke procedure &quot;apoc.cypher.mapParallel2&quot;: Caused by: java.lang.RuntimeException: Error polling, timeout of 10 seconds reached.` My guess is that it has something to do with the sockets and ports as the server will probably open some sockets to communicate with its workers. Could anyone provide me a solution? Thanks in advance. **UPDATE 1:** I use neo4j enterprise version 4.1.3 **UPDATE 2:** My query is actually incorrect. I have fixed it and it executed successfully. However, now it&#39;s taking even more time than without doing any parallel processing ",
      "link":"https://stackoverflow.com/questions/64386338/failed-to-invoke-procedure-apoc-cypher-mapparallel2-caused-by-java-lang-runt",
      "title":"Failed to invoke procedure `apoc.cypher.mapParallel2`: Caused by: java.lang.RuntimeException: Error polling, timeout of 10 seconds reached"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":17,
                "user_id":14211880,
                "user_type":"registered",
                "profile_image":"https://lh3.googleusercontent.com/a-/AOh14GgZXAq3SjmzgPJraG8wU93AKUhNqhkBJVLdx7iz=k-s128",
                "display_name":"BrandNewStory",
                "link":"https://stackoverflow.com/users/14211880/brandnewstory"
              },
              "edited":false,
              "score":0,
              "creation_date":1602813719,
              "post_id":64381095,
              "comment_id":113845222,
              "link":"https://stackoverflow.com/questions/64378773/neo4j-get-the-biggest-node-whose-property-is-smaller-than-a-specific-value/64381095#comment113845222_64381095"
            },
            {
              "owner":{
                "reputation":56013,
                "user_id":974731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name":"cybersam",
                "link":"https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user":{
                "reputation":17,
                "user_id":14211880,
                "user_type":"registered",
                "profile_image":"https://lh3.googleusercontent.com/a-/AOh14GgZXAq3SjmzgPJraG8wU93AKUhNqhkBJVLdx7iz=k-s128",
                "display_name":"BrandNewStory",
                "link":"https://stackoverflow.com/users/14211880/brandnewstory"
              },
              "edited":false,
              "score":0,
              "creation_date":1602874552,
              "post_id":64381095,
              "comment_id":113868238,
              "link":"https://stackoverflow.com/questions/64378773/neo4j-get-the-biggest-node-whose-property-is-smaller-than-a-specific-value/64381095#comment113868238_64381095"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":2,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":true,
          "score":0,
          "last_activity_date":1602874479,
          "last_edit_date":1602874479,
          "creation_date":1602805561,
          "answer_id":64381095,
          "question_id":64378773,
          "share_link":"https://stackoverflow.com/a/64381095",
          "body_markdown":"Assuming all `Node`s with the same `NodeID` are in a `type` path rooted at the `Current` node with the same `NodeID`, then the following query should be logically equivalent but faster: MATCH (m:Node) WHERE m.NodeID = $id AND m.Level &lt; $n RETURN m ORDER BY m.Level DESC LIMIT 1 This query assumes `id` and `n` are query [parameters](https://neo4j.com/docs/cypher-manual/current/syntax/parameters/).",
          "link":"https://stackoverflow.com/questions/64378773/neo4j-get-the-biggest-node-whose-property-is-smaller-than-a-specific-value/64381095#64381095",
          "title":"Neo4j get the biggest node whose property is smaller than a specific value"
        }
      ],
      "owner":{
        "reputation":17,
        "user_id":14211880,
        "user_type":"registered",
        "profile_image":"https://lh3.googleusercontent.com/a-/AOh14GgZXAq3SjmzgPJraG8wU93AKUhNqhkBJVLdx7iz=k-s128",
        "display_name":"BrandNewStory",
        "link":"https://stackoverflow.com/users/14211880/brandnewstory"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":27,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64381095,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602874479,
      "creation_date":1602791532,
      "question_id":64378773,
      "share_link":"https://stackoverflow.com/q/64378773",
      "body_markdown":"In my Neo4j database, there are many nodes with the same nodeID and different levels, and they are connected through a path. Each time I&#39;m trying to find the node that has the biggest level which is smaller than a specific level ```n```. I use the following Cypher query, which starts searching from the most current node with the nodeID ```id```. ``` MATCH (:Node{NodeID:id,Current:&#39;true&#39;})-[:type*0..]-&gt;(m:Node{NodeID:id}) WHERE m.Level &lt; n RETURN m ORDER BY m.Level DESC LIMIT 1 ``` And the index I create for this database is as following: ``` CREATE INDEX Nodes FOR(n:Node) ON (n.NodeID, n.Level) ``` However, it&#39;s kind of slow especially when the path is long and I need to repeat this process thousands of times. So my question is, is there any better way of implementation and do I need to modify my index to improve the performance? Thanks in advance for your help!",
      "link":"https://stackoverflow.com/questions/64378773/neo4j-get-the-biggest-node-whose-property-is-smaller-than-a-specific-value",
      "title":"Neo4j get the biggest node whose property is smaller than a specific value"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1602878369,
          "creation_date":1602878369,
          "answer_id":64395656,
          "question_id":64375493,
          "share_link":"https://stackoverflow.com/a/64395656",
          "body_markdown":"`(a:ARTICLE)-[:SIMILAR]-(a:ARTICLE)` incorrectly requires both nodes to be the same (since both use the `a` variable). In any case, there is no need to even match the relationship. This should work: MATCH (a:ARTICLE) RETURN a.community as id, COLLECT(a) AS articles ",
          "link":"https://stackoverflow.com/questions/64375493/cypher-group-by-community-id/64395656#64395656",
          "title":"Cypher: Group by community id"
        }
      ],
      "owner":{
        "reputation":137,
        "user_id":13469785,
        "user_type":"registered",
        "profile_image":"https://lh4.googleusercontent.com/-dp9W1Yp-80o/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPbisubeRcptofQobH94W8miEvmcg/photo.jpg?sz=128",
        "display_name":"LJRB",
        "link":"https://stackoverflow.com/users/13469785/ljrb"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":24,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64395656,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602878369,
      "creation_date":1602777768,
      "question_id":64375493,
      "share_link":"https://stackoverflow.com/q/64375493",
      "body_markdown":"My database in Neo4j looks like this: (a:ARTICLE)-[:SIMILAR]-(a:ARTICLE) ARTICLES nodes have the community property, it is the id of cluster. I would like to group articles by community_id, I tried this but nothing happened: MATCH (a:ARTICLE)-[:SIMILAR]-(a:ARTICLE) WITH a, collect(a.community) as community RETURN a Where am I wrong ? ",
      "link":"https://stackoverflow.com/questions/64375493/cypher-group-by-community-id",
      "title":"Cypher: Group by community id"
    },
    {
      "tags":[
        "spring-boot",
        "kubernetes",
        "neo4j"
      ],
      "comments":[
        {
          "owner":{
            "reputation":308,
            "user_id":1927781,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/OXKf1.jpg?s=128&g=1",
            "display_name":"Saurabh",
            "link":"https://stackoverflow.com/users/1927781/saurabh"
          },
          "edited":false,
          "score":0,
          "creation_date":1602776562,
          "post_id":64374574,
          "comment_id":113833511,
          "link":"https://stackoverflow.com/questions/64374574/kubernetes-springboot-neo4j-error-at-startup#comment113833511_64374574"
        },
        {
          "owner":{
            "reputation":687,
            "user_id":2661292,
            "user_type":"registered",
            "accept_rate":42,
            "profile_image":"https://www.gravatar.com/avatar/737add765f6fa5dbd5101d1d9cf85615?s=128&d=identicon&r=PG",
            "display_name":"Sebastien Dionne",
            "link":"https://stackoverflow.com/users/2661292/sebastien-dionne"
          },
          "reply_to_user":{
            "reputation":308,
            "user_id":1927781,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/OXKf1.jpg?s=128&g=1",
            "display_name":"Saurabh",
            "link":"https://stackoverflow.com/users/1927781/saurabh"
          },
          "edited":false,
          "score":0,
          "creation_date":1602872996,
          "post_id":64374574,
          "comment_id":113867645,
          "link":"https://stackoverflow.com/questions/64374574/kubernetes-springboot-neo4j-error-at-startup#comment113867645_64374574"
        }
      ],
      "owner":{
        "reputation":687,
        "user_id":2661292,
        "user_type":"registered",
        "accept_rate":42,
        "profile_image":"https://www.gravatar.com/avatar/737add765f6fa5dbd5101d1d9cf85615?s=128&d=identicon&r=PG",
        "display_name":"Sebastien Dionne",
        "link":"https://stackoverflow.com/users/2661292/sebastien-dionne"
      },
      "last_editor":{
        "reputation":687,
        "user_id":2661292,
        "user_type":"registered",
        "accept_rate":42,
        "profile_image":"https://www.gravatar.com/avatar/737add765f6fa5dbd5101d1d9cf85615?s=128&d=identicon&r=PG",
        "display_name":"Sebastien Dionne",
        "link":"https://stackoverflow.com/users/2661292/sebastien-dionne"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":24,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602872851,
      "creation_date":1602774462,
      "last_edit_date":1602872851,
      "question_id":64374574,
      "share_link":"https://stackoverflow.com/q/64374574",
      "body_markdown":"I have a SpringBoot application that connect to Neo4j at startup using the code below We deploy a pod for Neo4j and one for this application. When the service port of Neo4j are UP, our application pod starts, but we get those errors when the pod start too soon. There is a way to configure Spring to reconnect to Neo4j until it&#39;s available ? ``` @Configuration @EnableNeo4jRepositories(basePackages = &quot;com.repository&quot;) @EnableTransactionManagement public class Neo4jConfig { private final Environment env; @Autowired public Neo4jConfig(Environment env) { this.env = env; } @Bean public SessionFactory sessionFactory() { return new SessionFactory(configuration(), &quot;com.model&quot;); } @Bean public org.neo4j.ogm.config.Configuration configuration() { return new Builder() .uri(env.getProperty(&quot;db.uri&quot;)) .credentials(env.getProperty(&quot;db.username&quot;), env.getProperty(&quot;db.password&quot;)) .autoIndex(&quot;update&quot;) .build(); } @Bean public Neo4jTransactionManager transactionManager() { return new Neo4jTransactionManager(sessionFactory()); } } ``` ``` . ____ _ __ _ _ /\\ / ___&#39;_ __ _ _(_)_ __ __ _ \\ \\ \\ \\ ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \/ _` | \\ \\ \\ \\ \\/ ___)| |_)| | | | | || (_| | ) ) ) ) &#39; |____| .__|_| |_|_| |_\\__, | / / / / =========|_|==============|___/=/_/_/_/ :: Spring Boot :: (v2.2.4.RELEASE) 2020-10-15 14:26:32.319 INFO 1 --- [ main] com.comact.App : Starting App v1.0.0-SNAPSHOT on twin-api-service-5b74974d84-pngvs with PID 1 (/app/app.jar started by root in /app) 2020-10-15 14:26:32.323 INFO 1 --- [ main] com.comact.App : The following profiles are active: kubernetes,production 2020-10-15 14:26:33.713 INFO 1 --- [ main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode. 2020-10-15 14:26:33.797 INFO 1 --- [ main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71ms. Found 2 Neo4j repository interfaces. 2020-10-15 14:26:34.843 INFO 1 --- [ main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) 2020-10-15 14:26:35.255 INFO 1 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http) 2020-10-15 14:26:35.271 INFO 1 --- [ main] o.apache.catalina.core.StandardService : Starting service [Tomcat] 2020-10-15 14:26:35.272 INFO 1 --- [ main] org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.30] 2020-10-15 14:26:35.363 INFO 1 --- [ main] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext 2020-10-15 14:26:35.363 INFO 1 --- [ main] o.s.web.context.ContextLoader : Root WebApplicationContext: initialization completed in 2952 ms 2020-10-15 14:26:36.310 INFO 1 --- [ main] org.neo4j.ogm.metadata.DomainInfo : Starting Post-processing phase 2020-10-15 14:26:36.310 INFO 1 --- [ main] org.neo4j.ogm.metadata.DomainInfo : Building byLabel lookup maps 2020-10-15 14:26:36.310 INFO 1 --- [ main] org.neo4j.ogm.metadata.DomainInfo : Building interface class map for 19 classes 2020-10-15 14:26:36.333 INFO 1 --- [ main] org.neo4j.ogm.metadata.DomainInfo : Post-processing complete 2020-10-15 14:26:36.526 INFO 1 --- [ main] Driver : Direct driver instance 550572371 created for server address twin-neo4j:7687 2020-10-15 14:26:36.671 ERROR 1 --- [ main] o.s.b.web.embedded.tomcat.TomcatStarter : Error starting Tomcat context. Exception: org.springframework.beans.factory.BeanCreationException. Message: Error creating bean with name &#39;servletEndpointRegistrar&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method &#39;servletEndpointRegistrar&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;healthEndpoint&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &#39;healthEndpoint&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;healthContributorRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthContributorRegistry]: Factory method &#39;healthContributorRegistry&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;neo4jHealthContributor&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/neo4j/Neo4jHealthContributorAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;neo4jHealthContributor&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [com/comact/twin/config/Neo4jConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method &#39;sessionFactory&#39; threw exception; nested exception is org.neo4j.ogm.exception.ConnectionException: Could not create driver instance 2020-10-15 14:26:36.705 INFO 1 --- [ main] o.apache.catalina.core.StandardService : Stopping service [Tomcat] 2020-10-15 14:26:36.713 WARN 1 --- [ main] o.a.c.loader.WebappClassLoaderBase : The web application [ROOT] appears to have started a thread named [Neo4jDriverIO-2-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread: java.base@11.0.8/sun.nio.ch.EPoll.wait(Native Method) java.base@11.0.8/sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:120) java.base@11.0.8/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124) java.base@11.0.8/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:136) org.neo4j.driver.internal.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62) org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:824) org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:457) org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044) org.neo4j.driver.internal.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) org.neo4j.driver.internal.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) java.base@11.0.8/java.lang.Thread.run(Thread.java:834) 2020-10-15 14:26:36.713 WARN 1 --- [ main] o.a.c.loader.WebappClassLoaderBase : The web application [ROOT] appears to have started a thread named [Neo4jDriverIO-2-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread: java.base@11.0.8/sun.nio.ch.EPoll.wait(Native Method) java.base@11.0.8/sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:120) java.base@11.0.8/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124) java.base@11.0.8/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:136) org.neo4j.driver.internal.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62) org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:824) org.neo4j.driver.internal.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:457) org.neo4j.driver.internal.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044) org.neo4j.driver.internal.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) org.neo4j.driver.internal.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) java.base@11.0.8/java.lang.Thread.run(Thread.java:834) 2020-10-15 14:26:36.716 WARN 1 --- [ main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat 2020-10-15 14:26:36.735 INFO 1 --- [ main] ConditionEvaluationReportLoggingListener : Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled. 2020-10-15 14:26:36.744 ERROR 1 --- [ main] o.s.boot.SpringApplication : Application run failed org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:156) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544) ~[spring-context-5.2.3.RELEASE.jar!/:5.2.3.RELEASE] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at com.comact.App.main(App.java:9) ~[classes!/:1.0.0-SNAPSHOT] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) ~[app.jar:1.0.0-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) ~[app.jar:1.0.0-SNAPSHOT] at org.springframework.boot.loader.Launcher.launch(Launcher.java:51) ~[app.jar:1.0.0-SNAPSHOT] at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52) ~[app.jar:1.0.0-SNAPSHOT] Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:88) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:438) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:191) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:180) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:153) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] ... 16 common frames omitted Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;servletEndpointRegistrar&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method &#39;servletEndpointRegistrar&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;healthEndpoint&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &#39;healthEndpoint&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;healthContributorRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthContributorRegistry]: Factory method &#39;healthContributorRegistry&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;neo4jHealthContributor&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/neo4j/Neo4jHealthContributorAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;neo4jHealthContributor&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [com/comact/twin/config/Neo4jConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method &#39;sessionFactory&#39; threw exception; nested exception is org.neo4j.ogm.exception.ConnectionException: Could not create driver instance at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.2.3.RELEASE.jar!/:5.2.3.RELEASE] at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636) ~[spring-beans-5.2.3.RELEASE.jar!/:5.2.3.RELEASE] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.3.RELEASE.jar!/:5.2.3.RELEASE] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.3.RELEASE.jar!/:5.2.3.RELEASE] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.3.RELEASE.jar!/:5.2.3.RELEASE] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.3.RELEASE.jar!/:5.2.3.RELEASE] at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.3.RELEASE.jar!/:5.2.3.RELEASE] at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.3.RELEASE.jar!/:5.2.3.RELEASE] at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.3.RELEASE.jar!/:5.2.3.RELEASE] at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207) ~[spring-beans-5.2.3.RELEASE.jar!/:5.2.3.RELEASE] at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:202) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:96) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:85) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:253) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:227) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na] at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na] at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na] at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na] at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.apache.catalina.startup.Tomcat.start(Tomcat.java:459) ~[tomcat-embed-core-9.0.30.jar!/:9.0.30] at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:107) ~[spring-boot-2.2.4.RELEASE.jar!/:2.2.4.RELEASE] ... 21 common frames omitted Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method &#39;servletEndpointRegistrar&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;healthEndpoint&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &#39;healthEndpoint&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;healthContributorRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthContributorRegistry]: Factory method &#39;healthContributorRegistry&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;neo4jHealthContributor&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/neo4j/Neo4jHealthContributorAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;neo4jHealthContributor&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [com/comact/twin/config/Neo4jConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method &#39;sessionFactory&#39; threw exception; nested exception is org.neo4j.ogm.exception.ConnectionException: Could not create driver instance at ... Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;neo4jHealthContributor&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/neo4j/Neo4jHealthContributorAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;neo4jHealthContributor&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [com/comact/twin/config/Neo4jConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.neo4j.ogm.session.SessionFactory]: Factory method &#39;sessionFactory&#39; threw exception; nested exception is org.neo4j.ogm.exception.ConnectionException: Could not create driver instance .... Caused by: org.neo4j.driver.internal.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: twin-neo4j/10.104.227.154:7687 Caused by: java.net.ConnectException: Connection refused at java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:na] at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779) ~[na:na] ... ``` I opened a issue here to do a follow up : https://github.com/spring-projects/spring-boot/issues/23707#issuecomment-709483144",
      "link":"https://stackoverflow.com/questions/64374574/kubernetes-springboot-neo4j-error-at-startup",
      "title":"Kubernetes - SpringBoot - Neo4j - error at startup"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":65,
                "user_id":11927998,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/7279c169eecbc74476a20133805b6f02?s=128&d=identicon&r=PG&f=1",
                "display_name":"billDickens",
                "link":"https://stackoverflow.com/users/11927998/billdickens"
              },
              "edited":false,
              "score":0,
              "creation_date":1602862038,
              "post_id":64388179,
              "comment_id":113863346,
              "link":"https://stackoverflow.com/questions/64373442/is-there-a-simple-way-to-unpack-a-list-in-neo4j/64388179#comment113863346_64388179"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":2070,
            "user_id":1734996,
            "user_type":"registered",
            "accept_rate":85,
            "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name":"Graphileon",
            "link":"https://stackoverflow.com/users/1734996/graphileon"
          },
          "last_editor":{
            "reputation":2070,
            "user_id":1734996,
            "user_type":"registered",
            "accept_rate":85,
            "profile_image":"https://i.stack.imgur.com/MaqL4.png?s=128&g=1",
            "display_name":"Graphileon",
            "link":"https://stackoverflow.com/users/1734996/graphileon"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1602861286,
          "last_edit_date":1602861286,
          "creation_date":1602847290,
          "answer_id":64388179,
          "question_id":64373442,
          "share_link":"https://stackoverflow.com/a/64388179",
          "body_markdown":"Easiest to use the apoc library for that. Depending on what you would like as an outcome: A collection WITH &quot;[1,1,3,10]&quot; AS string UNWIND apoc.convert.fromJsonList(string) AS elements RETURN elements or a map WITH &quot;[1,1,3,10]&quot; AS string WITH apoc.convert.fromJsonList(string) AS collection RETURN apoc.map.fromPairs( REDUCE(arr=[],i IN collection | arr +[[&#39;elem&#39;+toString(size(arr)),i]] ) ) AS map ",
          "link":"https://stackoverflow.com/questions/64373442/is-there-a-simple-way-to-unpack-a-list-in-neo4j/64388179#64388179",
          "title":"Is there a simple way to &quot;unpack&quot; a list in Neo4j?"
        }
      ],
      "owner":{
        "reputation":65,
        "user_id":11927998,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/7279c169eecbc74476a20133805b6f02?s=128&d=identicon&r=PG&f=1",
        "display_name":"billDickens",
        "link":"https://stackoverflow.com/users/11927998/billdickens"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":23,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64388179,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602861286,
      "creation_date":1602771036,
      "question_id":64373442,
      "share_link":"https://stackoverflow.com/q/64373442",
      "body_markdown":"I have a string attribute in my Neo4j database that is actually a list cast as string (e.g. &quot;[1,1,3,10]&quot;). I realize I can alter the load program to make those separate fields (e.g. elem1 = 1, elem2 = 1, elem3 = 3, elem4 = 10) but I want to be able to recast the ones already loaded. I could write a python but hoping that someone has a &quot;in cypher&quot; way to do this. ",
      "link":"https://stackoverflow.com/questions/64373442/is-there-a-simple-way-to-unpack-a-list-in-neo4j",
      "title":"Is there a simple way to &quot;unpack&quot; a list in Neo4j?"
    },
    {
      "tags":[
        "neo4j",
        "neo4j-apoc"
      ],
      "owner":{
        "reputation":502,
        "user_id":9162463,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/2be19c22ec95b35ae80ae6a901ecb6b5?s=128&d=identicon&r=PG&f=1",
        "display_name":"Raj Chaudhary",
        "link":"https://stackoverflow.com/users/9162463/raj-chaudhary"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":8,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602765186,
      "creation_date":1602765186,
      "question_id":64371648,
      "share_link":"https://stackoverflow.com/q/64371648",
      "body_markdown":"I want to invoke a HTTP URL via POST each time data changes in Neo4j db. What&#39;s the best way to implement this?",
      "link":"https://stackoverflow.com/questions/64371648/invoke-http-url-from-neo4j-trigger",
      "title":"Invoke HTTP URL from Neo4j Trigger"
    },
    {
      "tags":[
        "neo4j"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":104,
            "user_id":7622277,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/3peeg.jpg?s=128&g=1",
            "display_name":"Ruben Rosemary",
            "link":"https://stackoverflow.com/users/7622277/ruben-rosemary"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602774472,
          "creation_date":1602774472,
          "answer_id":64374578,
          "question_id":64370293,
          "share_link":"https://stackoverflow.com/a/64374578",
          "body_markdown":"I discovered the problem. It was nothing related to the Neo4j setup or with the configuration. The problem is produced by an ORM I am using in JavaScript,[Neode][1]. I was using the function query, and it seems for some reason I had to use writeCipher after version 4.1.0 of Neo4j. [1]: https://github.com/adam-cowley/neode",
          "link":"https://stackoverflow.com/questions/64370293/neo4j-enterprise-does-not-allow-deletions/64374578#64374578",
          "title":"Neo4j-enterprise does not allow deletions"
        }
      ],
      "owner":{
        "reputation":104,
        "user_id":7622277,
        "user_type":"registered",
        "profile_image":"https://i.stack.imgur.com/3peeg.jpg?s=128&g=1",
        "display_name":"Ruben Rosemary",
        "link":"https://stackoverflow.com/users/7622277/ruben-rosemary"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":13,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602774472,
      "creation_date":1602760266,
      "question_id":64370293,
      "share_link":"https://stackoverflow.com/q/64370293",
      "body_markdown":"I have been having this error for a while: The environment I am using is: - Neo4j-enterprise 4.1.0 (AWS Ami ami-02a68ff704cf9a737) I am trying to do a DETACH DELETE for cleaning up some nodes and I keep getting this error: ``` Neo4jError: Writing in reading access mode not allowed. Attempted to write to internal graph 0 (neo4j) ``` I have tried several things: 1. set flag dbms.read_only=false 2. create new users with permissions. 3. Signup for the startup program of neo4j with the same email I am using in AWS. At this point, I am quite lost. I have to check many resources but I do not find the reason of this error. Do you have any clue about this problem? Thanks in advance!",
      "link":"https://stackoverflow.com/questions/64370293/neo4j-enterprise-does-not-allow-deletions",
      "title":"Neo4j-enterprise does not allow deletions"
    },
    {
      "tags":[
        "search",
        "graph",
        "neo4j",
        "cypher",
        "nodes"
      ],
      "owner":{
        "reputation":735,
        "user_id":1967693,
        "user_type":"registered",
        "accept_rate":62,
        "profile_image":"https://www.gravatar.com/avatar/91a12c6019aaf3d7635e9d4b09522322?s=128&d=identicon&r=PG",
        "display_name":"zrkl",
        "link":"https://stackoverflow.com/users/1967693/zrkl"
      },
      "last_editor":{
        "reputation":735,
        "user_id":1967693,
        "user_type":"registered",
        "accept_rate":62,
        "profile_image":"https://www.gravatar.com/avatar/91a12c6019aaf3d7635e9d4b09522322?s=128&d=identicon&r=PG",
        "display_name":"zrkl",
        "link":"https://stackoverflow.com/users/1967693/zrkl"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":15,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602826231,
      "creation_date":1602754188,
      "last_edit_date":1602826231,
      "question_id":64368615,
      "share_link":"https://stackoverflow.com/q/64368615",
      "body_markdown":"I&#39;m building a search function in Cypher with a single input field for a graph search. The tricky part is, I don&#39;t know the labels and properties and the search query could consist of multiple words. The search should return the most relevant nodes, which can be direct-matching nodes and indirect-matching nodes, which means a node is connected to one or many direct-matching nodes. A sample search query could be: ***iphone john doe***. My first iteration was matching all nodes, iterating over all properties and doing a simple case-insensitive string comparison of the property value with list of search strings aka `$queries`: MATCH (n) WITH n, [k in KEYS(n) WHERE any(q IN $queries WHERE toLower(toString(n[k])) CONTAINS q) | k] AS keys UNWIND keys AS key RETURN DISTINCT n That works quite nice, but simply returns too many matches. For my sample query, it would return all `Product` nodes which contain the word ***iPhone*** and all `Customer` nodes which contain partly the name ***John*** or ***Doe***. What I would like to get as a result is a path of nodes with the most matches, for example: (p:Product {name: iPhone 11 64GB})&lt;-[:CONTAINS]-(o:Order)&lt;-[:ORDERED]-(c:Customer {firstName: John, lastName: Doe}) That means my search algo should not only consider the matches on properties of each node, but the total number of matches for a path of connected nodes. My first assumption is that I have break the search process down into two steps: 1. search all nodes that match on one or more properties with the search strings in the query (the more matches the higher the relevance). the result is basically a subgraph. 2. find connections betweens the nodes of the subgraph and count the number of matches of a path of connected nodes (the distance between the nodes of a path should also be a criteria for the relevance, but is not important at the moment). the result is a path of nodes. Here&#39;s where I got stuck. Does my assumption make sense or is there another way (maybe better) to do it? Is it even possible to do it with Cypher and Neo4j (not considering the performance as a factor)? I would be very happy about some opinions or sample queries how it could be done.",
      "link":"https://stackoverflow.com/questions/64368615/search-through-all-properties-of-nodes-of-an-unknown-path-and-return-nodes-with",
      "title":"Search through all properties of nodes of an unknown path and return nodes with highest matching rate"
    },
    {
      "tags":[
        "optimization",
        "neo4j",
        "cypher",
        "neo4j-apoc"
      ],
      "owner":{
        "reputation":111,
        "user_id":13897549,
        "user_type":"registered",
        "profile_image":"https://graph.facebook.com/314302186273358/picture?type=large",
        "display_name":"Mubeen Mubarik",
        "link":"https://stackoverflow.com/users/13897549/mubeen-mubarik"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":11,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602745864,
      "creation_date":1602745864,
      "question_id":64366534,
      "share_link":"https://stackoverflow.com/q/64366534",
      "body_markdown":"I am having a json array of user detail nodes and I do loop over it and check if a **node** already exists with the specific numeric id property; if it exists then check the &#39;id&#39; property of the node, if the &#39;id&#39; is numeric(**isdigit**) then do nothing but if &#39;id&#39; is not property then update the &#39;**id**&#39; property and set it to the &#39;**numeric_id**&#39;. for x in all_json: f_id = x.get(&quot;id&quot;,&#39;&#39;) f_num_id = x.get(&#39;numaric_id&#39;,&#39;&#39;) tnode = self.find_user_friend(f_num_id, uid) if tnode is not None: #### Update id to numeric id ##### if tnode[&#39;n&#39;][&#39;id&#39;].isdigit(): pass else: tnode[&#39;n&#39;][&#39;id&#39;] = f_num_id tnode[&#39;n&#39;].push() The current process takes time as it searches for every individual node then checks and then update the node. I am looking for the optimized solution. I am beginner in neo4j and familiar with **UNWIND** and **FOREACH** in neo4j but can&#39;t really implement it for now. Help will be appreciated",
      "link":"https://stackoverflow.com/questions/64366534/check-and-update-nodes-in-neo4j-python-loopover",
      "title":"Check and update nodes in neo4j python-loopover"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":true,
          "score":0,
          "last_activity_date":1602720346,
          "creation_date":1602720346,
          "answer_id":64363062,
          "question_id":64361712,
          "share_link":"https://stackoverflow.com/a/64363062",
          "body_markdown":"1. It is bad practice to add redundant data (eg, relationships that duplicate information you can already get from the DB in other ways) unless there is a really good reason for it (eg, you cannot meet a strict performance requirement otherwise). It is easy to get all actors born in the same year without a relationship. For example: MATCH (p:Person) RETURN p.born AS year, COLLECT(p) AS actors So, unless you have a critical need to get the same information a little faster, you should just use the above kind of query instead of storing redundant relationships. 2. However, if you *really* do need to add the relationships, you can do something like this: MATCH (p:Person) WITH p.born AS year, COLLECT(p) AS ps UNWIND apoc.coll.combinations(ps, 2) AS pair WITH pair[0] AS p1, pair[1] AS p2 MERGE (p1)-[:HAS_SAME_AGE]-(p2) The APOC function [apoc.coll.combinations](https://neo4j.com/labs/apoc/4.1/overview/apoc.coll/apoc.coll.combinations/) is used to generate distinct pairs of actors born in the same year. ",
          "link":"https://stackoverflow.com/questions/64361712/neo4j-movie-graph-actors-with-same-age/64363062#64363062",
          "title":"Neo4J Movie-Graph - actors with same age"
        }
      ],
      "owner":{
        "reputation":3,
        "user_id":14451939,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/e84b3728114cb769abed2bce1b62ae7d?s=128&d=identicon&r=PG&f=1",
        "display_name":"Mary1980",
        "link":"https://stackoverflow.com/users/14451939/mary1980"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":26,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64363062,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603122253,
      "creation_date":1602710722,
      "question_id":64361712,
      "share_link":"https://stackoverflow.com/q/64361712",
      "body_markdown":"I want to analyze in Neo4J with the movie data set provided (: play movie-graph) those actors who were born in the same year, and then perform a query that allows me to obtain which actors of the same age have worked together. To do this, I have tried to create a relationship type &quot;HAS_SAME_AGE&quot; in the database between actors who were born in the same year, but it gave me an error and I don&#39;t know how to continue. This is what I have written: `MATCH (a:Person),(b:Person) WHERE a.born=b.born WITH a AS PersonA, b AS PersonB MERGE (PersonA)- [:HAS_SAME_AGE]-(PersonB)` Can someone help me fill in the correct code? Any help would be appreciated! ",
      "link":"https://stackoverflow.com/questions/64361712/neo4j-movie-graph-actors-with-same-age",
      "title":"Neo4J Movie-Graph - actors with same age"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1602698660,
          "last_edit_date":1602698660,
          "creation_date":1602698345,
          "answer_id":64359002,
          "question_id":64357251,
          "share_link":"https://stackoverflow.com/a/64359002",
          "body_markdown":"Temporal instants (like `DateTime`) support many [properties](https://neo4j.com/docs/cypher-manual/current/syntax/temporal/#cypher-temporal-accessing-components-temporal-instants), and among them are `epochMillis` (and `epochSeconds`). For example: RETURN datetime({epochMillis: 1571518672541}).epochMillis will return `1571518672541`.",
          "link":"https://stackoverflow.com/questions/64357251/neo4j-cypher-changing-datetime-to-epoch-timestamp/64359002#64359002",
          "title":"Neo4j Cypher - Changing datetime to epoch timestamp"
        }
      ],
      "owner":{
        "reputation":325,
        "user_id":8701077,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/291b2922ee6f44774f9d91f0ec8d02c9?s=128&d=identicon&r=PG&f=1",
        "display_name":"Simon",
        "link":"https://stackoverflow.com/users/8701077/simon"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":12,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64359002,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602698660,
      "creation_date":1602691288,
      "question_id":64357251,
      "share_link":"https://stackoverflow.com/q/64357251",
      "body_markdown":"I&#39;m looking to convert a `datetime()` (e.g. `&quot;2019-10-19T20:57:52.541000000Z&quot;`) to the same format that would be output by `timestamp()` (e.g. `1571518672541`) I understand to convert it one way you would use something like the following; `RETURN datetime({epochmillis:1571518672541}) AS theDate` However I would actually like to do the reverse of this and am really struggling with understanding the Neo4j documentation. I found this question where the title is labelled for what I believe I want, but the output seems to be wrong so just found that even more confusing; https://stackoverflow.com/questions/51168792/converting-datetime-to-epoch-milliseconds-using-cypher-in-neo4j Any advice is appreciated!",
      "link":"https://stackoverflow.com/questions/64357251/neo4j-cypher-changing-datetime-to-epoch-timestamp",
      "title":"Neo4j Cypher - Changing datetime to epoch timestamp"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "comments":[
        {
          "owner":{
            "reputation":3589,
            "user_id":4709400,
            "user_type":"registered",
            "accept_rate":86,
            "profile_image":"https://i.stack.imgur.com/Oy7HE.jpg?s=128&g=1",
            "display_name":"stellasia",
            "link":"https://stackoverflow.com/users/4709400/stellasia"
          },
          "edited":false,
          "score":0,
          "creation_date":1602680718,
          "post_id":64351401,
          "comment_id":113796764,
          "link":"https://stackoverflow.com/questions/64351401/why-there-is-link-between-parent-node-and-child-node-in-neo4j#comment113796764_64351401"
        },
        {
          "owner":{
            "reputation":191,
            "user_id":13311050,
            "user_type":"registered",
            "profile_image":"https://lh5.googleusercontent.com/-eKyoBGJ_kq8/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPs17MB9fP_XuhkoYefUdGAaBMzQQ/photo.jpg?sz=128",
            "display_name":"Jay Parkkk",
            "link":"https://stackoverflow.com/users/13311050/jay-parkkk"
          },
          "reply_to_user":{
            "reputation":3589,
            "user_id":4709400,
            "user_type":"registered",
            "accept_rate":86,
            "profile_image":"https://i.stack.imgur.com/Oy7HE.jpg?s=128&g=1",
            "display_name":"stellasia",
            "link":"https://stackoverflow.com/users/4709400/stellasia"
          },
          "edited":false,
          "score":0,
          "creation_date":1602681498,
          "post_id":64351401,
          "comment_id":113797146,
          "link":"https://stackoverflow.com/questions/64351401/why-there-is-link-between-parent-node-and-child-node-in-neo4j#comment113797146_64351401"
        }
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602699834,
          "last_edit_date":1602699834,
          "creation_date":1602699472,
          "answer_id":64359292,
          "question_id":64351401,
          "share_link":"https://stackoverflow.com/a/64359292",
          "body_markdown":"The query you used to generate your visualization apparently only returned `TweetLeaf` nodes, so the neo4j Browser only showed those nodes. Instead, try using this query (which returns all paths of length 0 or 1 involving a `TweetLeaf` node): MATCH p=(:TweetLeaf)-[*0..1]-() RETURN p *A path of length 0 would have no relationship, in case there are standalone `TweetLeaf` nodes. If you do not care about that edge case, then you can just use `p=(:TweetLeaf)--()` instead.*",
          "link":"https://stackoverflow.com/questions/64351401/why-there-is-link-between-parent-node-and-child-node-in-neo4j/64359292#64359292",
          "title":"Why there is link between parent node and child node in neo4j"
        }
      ],
      "owner":{
        "reputation":191,
        "user_id":13311050,
        "user_type":"registered",
        "profile_image":"https://lh5.googleusercontent.com/-eKyoBGJ_kq8/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPs17MB9fP_XuhkoYefUdGAaBMzQQ/photo.jpg?sz=128",
        "display_name":"Jay Parkkk",
        "link":"https://stackoverflow.com/users/13311050/jay-parkkk"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":30,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602699834,
      "creation_date":1602671372,
      "last_edit_date":1602699749,
      "question_id":64351401,
      "share_link":"https://stackoverflow.com/q/64351401",
      "body_markdown":"1.I created Tweet and TweetLeaf nodes then create realatioships by using following code MERGE (n:Tweet {id:&#39;13084664&#39;, title:&#39;A&#39;}) MERGE (cl1:TweetLeaf {id:&#39;13085170&#39;, title:&#39;AB&#39;, reply_to:&#39;13084664&#39;}) MERGE (cl2:TweetLeaf {id:&#39;13085179&#39;, title:&#39;TESTING Team&#39;, reply_to:&#39;13085170&#39;}) MERGE (cl2:TweetLeaf {id:&#39;13085352&#39;, title:&#39;TESTING Team&#39;, reply_to:&#39;13085170&#39;}) MERGE (cl4:TweetLeaf {id:&#39;13085443&#39;, title:&#39;TESTING Team&#39;, retweet_to:&#39;13085352&#39;}) MERGE (cl5:TweetLeaf {id:&#39;13085356&#39;, title:&#39;TESTING Team&#39;, retweet_to:&#39;13085352&#39;}) //parent and leaf..... MATCH (parent:Tweet) MATCH (c:TweetLeaf) WHERE NOT (c)-[:reply]-&gt;() AND parent.id = c.reply_to WITH parent, c MERGE (c)-[:reply_to]-&gt;(parent) //RETURN c, parent //leaf to leaf reply_to..... MATCH (c1:TweetLeaf)-[]-() WHERE exists (c1.reply_to) MATCH (d1:TweetLeaf) WHERE NOT (d1)-[]-&gt;() and exists (d1.reply_to) AND c1.id = d1.reply_to WITH c1, d1 MERGE (d1)-[:reply_to]-&gt;(c1) //RETURN c1, d1 //leaf to leaf retweet_to.... MATCH (c2:TweetLeaf) WHERE exists (c2.retweet_to) AND NOT (c2)-[]-&gt;() MATCH (d2:TweetLeaf)-[]-&gt;() WHERE d2.id = c2.retweet_to WITH c2, d2 MERGE (c2)-[:retweet_to]-&gt;(d2) //RETURN c2, d2 2.The final result should be like the screenshot below [![enter image description here][1]][1] However, in my output there is not link between node A and node AB. The screenshot show my output graph [![enter image description here][2]][2] [1]: https://i.stack.imgur.com/2i9aP.png [2]: https://i.stack.imgur.com/RvPLF.png",
      "link":"https://stackoverflow.com/questions/64351401/why-there-is-link-between-parent-node-and-child-node-in-neo4j",
      "title":"Why there is link between parent node and child node in neo4j"
    },
    {
      "tags":[
        "neo4j",
        "cypher",
        "neo4j-apoc"
      ],
      "comments":[
        {
          "owner":{
            "reputation":1598,
            "user_id":3209523,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/yeaZC.jpg?s=128&g=1",
            "display_name":"canbax",
            "link":"https://stackoverflow.com/users/3209523/canbax"
          },
          "edited":false,
          "score":0,
          "creation_date":1602673756,
          "post_id":64349986,
          "comment_id":113793534,
          "link":"https://stackoverflow.com/questions/64349986/how-to-know-if-timeout-occurred-in-cypher-query#comment113793534_64349986"
        }
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":false,
          "score":1,
          "last_activity_date":1602701440,
          "creation_date":1602701440,
          "answer_id":64359750,
          "question_id":64349986,
          "share_link":"https://stackoverflow.com/a/64359750",
          "body_markdown":"An [APOC enhancement request](https://github.com/neo4j-contrib/neo4j-apoc-procedures/issues/1233) was created for this in 2019. And there were a couple of commits addressing this, but they have not been merged for some reason. You may want to add comments to that request.",
          "link":"https://stackoverflow.com/questions/64349986/how-to-know-if-timeout-occurred-in-cypher-query/64359750#64359750",
          "title":"How to know if timeout occurred in cypher query?"
        }
      ],
      "owner":{
        "reputation":1598,
        "user_id":3209523,
        "user_type":"registered",
        "profile_image":"https://i.stack.imgur.com/yeaZC.jpg?s=128&g=1",
        "display_name":"canbax",
        "link":"https://stackoverflow.com/users/3209523/canbax"
      },
      "comment_count":1,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":22,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602701440,
      "creation_date":1602666320,
      "question_id":64349986,
      "share_link":"https://stackoverflow.com/q/64349986",
      "body_markdown":"I&#39;m using `apoc.cypher.runTimeboxed` https://neo4j.com/labs/apoc/4.1/cypher-execution/cypher-timeboxed/ I&#39;m using the HTTP API of neo4j. I&#39;m making HTTP post requests like below. [![HTTP request on developer tools of my browser][1]][1] Here I do **NOT** see any difference if the results are really empty or if the results are empty because **TIMEOUT OCCURRED**. I think there should be a warning or error message. [1]: https://i.stack.imgur.com/B1MBp.png",
      "link":"https://stackoverflow.com/questions/64349986/how-to-know-if-timeout-occurred-in-cypher-query",
      "title":"How to know if timeout occurred in cypher query?"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":1105,
                "user_id":6701496,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
                "display_name":"degath",
                "link":"https://stackoverflow.com/users/6701496/degath"
              },
              "edited":false,
              "score":0,
              "creation_date":1602774904,
              "post_id":64359991,
              "comment_id":113832703,
              "link":"https://stackoverflow.com/questions/64349482/combine-two-cypher-queries-into-single-query-and-single-result/64359991#comment113832703_64359991"
            },
            {
              "owner":{
                "reputation":1105,
                "user_id":6701496,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
                "display_name":"degath",
                "link":"https://stackoverflow.com/users/6701496/degath"
              },
              "edited":false,
              "score":0,
              "creation_date":1602783905,
              "post_id":64359991,
              "comment_id":113836825,
              "link":"https://stackoverflow.com/questions/64349482/combine-two-cypher-queries-into-single-query-and-single-result/64359991#comment113836825_64359991"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "last_editor":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":2,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1602793197,
          "last_edit_date":1602793197,
          "creation_date":1602702476,
          "answer_id":64359991,
          "question_id":64349482,
          "share_link":"https://stackoverflow.com/a/64359991",
          "body_markdown":"Something like this may work for you: MATCH (calc)&lt;-[:SOME]-(p:People)-[:LOCATED_IN]-&gt;(a1:Address) WITH a1.country AS name, COUNT(*) AS count, AVG(calc.value) AS value, COLLECT(DISTINCT p) AS pList UNWIND pList AS p1 OPTIONAL MATCH (p1)-[:FRIEND_WITH]-&gt;(:Person)-[:LOCATED_IN]-&gt;(a2:Address) WHERE name &lt;&gt; a2.country RETURN name, count, value, COLLECT(DISTINCT a2.country) AS knowsAlso",
          "link":"https://stackoverflow.com/questions/64349482/combine-two-cypher-queries-into-single-query-and-single-result/64359991#64359991",
          "title":"Combine two cypher queries into single query and single result"
        }
      ],
      "owner":{
        "reputation":1105,
        "user_id":6701496,
        "user_type":"registered",
        "accept_rate":85,
        "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
        "display_name":"degath",
        "link":"https://stackoverflow.com/users/6701496/degath"
      },
      "last_editor":{
        "reputation":1105,
        "user_id":6701496,
        "user_type":"registered",
        "accept_rate":85,
        "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
        "display_name":"degath",
        "link":"https://stackoverflow.com/users/6701496/degath"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":31,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64359991,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602793197,
      "creation_date":1602664407,
      "last_edit_date":1602665153,
      "question_id":64349482,
      "share_link":"https://stackoverflow.com/q/64349482",
      "body_markdown":"I created the query to get list of people in country &amp; some avg calculation: ``` Match (people:People)-[:LOCATED_IN]-&gt;(address:Address), (people)-[:SOME]-&gt;(calc) RETURN address.country as name, count(*) as count, avg(calc.value) as value ``` Which returns corect values for instance: ``` name, count, value PL , 5 , 10 UK , 3 , 20 US , 6 , 30 DE , 3 , 40 ``` What I&#39;m trying to achive is also get the countries of people that they know, so expected result should look e.g. like this: ``` name, count, value, knowsAlso PL , 5 , 10 , UK,US UK , 3 , 20 , DE US , 6 , 30 , DE , 3 , 40 , ``` I created a separate query to get that information by passing the $country: ``` Match (firstPerson:Person)-[:LOCATED_IN]-&gt;(firstAddress:Address), (firstPerson:Person)-[:FRIEND_WITH]-&gt;(secondPerson:Person), (secondPerson:Person)-[:LOCATED_IN]-&gt;(secondAddress:Address) WHERE firstAddress.country = $country AND firstAddress.country &lt;&gt; secondAddress.country RETURN DISTINCT secondAddress.country ``` but in this scenario I need to invoke it for each record on the result set from first query which doesn&#39;t seem to be effective. Is there a way to invoke my second query directly on the result set of the previous query? Or ideally, make these two queries as a single query?",
      "link":"https://stackoverflow.com/questions/64349482/combine-two-cypher-queries-into-single-query-and-single-result",
      "title":"Combine two cypher queries into single query and single result"
    },
    {
      "tags":[
        "ubuntu",
        "neo4j"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":383,
            "user_id":7412939,
            "user_type":"registered",
            "profile_image":"https://lh4.googleusercontent.com/-uv2TVrsCd30/AAAAAAAAAAI/AAAAAAAALTM/lyg2bLk4sBA/photo.jpg?sz=128",
            "display_name":"Doug",
            "link":"https://stackoverflow.com/users/7412939/doug"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602860559,
          "creation_date":1602860559,
          "answer_id":64391699,
          "question_id":64347825,
          "share_link":"https://stackoverflow.com/a/64391699",
          "body_markdown":"Turns out that I had a cron job that was running every 10 minutes and was leaving the driver instance open each time. Schoolboy error.",
          "link":"https://stackoverflow.com/questions/64347825/neo4j-connection-error-as-more-concurrent-users-connect/64391699#64391699",
          "title":"Neo4j connection error as more concurrent users connect"
        }
      ],
      "owner":{
        "reputation":383,
        "user_id":7412939,
        "user_type":"registered",
        "profile_image":"https://lh4.googleusercontent.com/-uv2TVrsCd30/AAAAAAAAAAI/AAAAAAAALTM/lyg2bLk4sBA/photo.jpg?sz=128",
        "display_name":"Doug",
        "link":"https://stackoverflow.com/users/7412939/doug"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":12,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602860559,
      "creation_date":1602657397,
      "question_id":64347825,
      "share_link":"https://stackoverflow.com/q/64347825",
      "body_markdown":" - Neo4j 3.5.12 Community - Python 3.6.9 - neo4j-driver==1.7.6 - neobolt==1.7.17 - Ubuntu Server 18.04 - Flask 1.1.2 A web server I run has suddenly experienced a 2000% increase in traffic. Everything was working fine before this increase. However, now I&#39;m seeing the following error after a few hours (unsure how long, but within 5 hours) of heavy traffic and then fail constantly after that. Like connections are not being closed or something. ``` db = GraphDatabase.driver(&quot;bolt://localhost:MYPORTNO&quot;, auth=basic_auth(DATABASE_USERNAME, DATABASE_PASSWORD, encrypted=False) File &quot;/home/ubuntu/api/env/lib/python3.6/site-packages/neo4j/__init__.py&quot;, line 120, in driver return Driver(uri, **config) File &quot;/home/ubuntu/api/env/lib/python3.6/site-packages/neo4j/__init__.py&quot;, line 161, in __new__ return subclass(uri, **config) File &quot;/home/ubuntu/api/env/lib/python3.6/site-packages/neo4j/__init__.py&quot;, line 235, in __new__ pool.release(pool.acquire()) File &quot;/home/ubuntu/api/env/lib/python3.6/site-packages/neobolt/direct.py&quot;, line 715, in acquire return self.acquire_direct(self.address) File &quot;/home/ubuntu/api/env/lib/python3.6/site-packages/neobolt/direct.py&quot;, line 608, in acquire_direct connection = self.connector(address, error_handler=self.connection_error_handler) File &quot;/home/ubuntu/api/env/lib/python3.6/site-packages/neo4j/__init__.py&quot;, line 232, in connector return connect(address, **dict(config, **kwargs)) File &quot;/home/ubuntu/api/env/lib/python3.6/site-packages/neobolt/direct.py&quot;, line 972, in connect raise last_error File &quot;/home/ubuntu/api/env/lib/python3.6/site-packages/neobolt/direct.py&quot;, line 962, in connect s = _connect(resolved_address, **config) File &quot;/home/ubuntu/api/env/lib/python3.6/site-packages/neobolt/direct.py&quot;, line 843, in _connect raise ServiceUnavailable(&quot;Failed to establish connection to {!r} (reason {})&quot;.format(resolved_address, error)) neobolt.exceptions.ServiceUnavailable: Failed to establish connection to (&#39;127.0.0.1&#39;, MYPORTNO) (reason [Errno 111] Connection refused) ``` If I restart apache it works again, so currently as a bandaid, I&#39;m doing that on a cron job every few hours, but that only seems to partially work. I increased the page cache and heap calculating according to [this article](https://neo4j.com/developer/guide-performance-tuning/). I increased the Open Files Limit from the default 1024 to 50000. I doubled the server spec. Structurally I create a database driver instance in a config file: Config file: ``` db = None def getDB(): global db if not db: db = GraphDatabase.driver(&quot;bolt://localhost:XXXXXX&quot;, auth=basic_auth(DATABASE_USERNAME, DATABASE_PASSWORD), encrypted=False) return db ``` I can then make queries in my module files as follows. I believe the following syntax properly manages connections being opened and closed due to the `with` statement, and so shouldn&#39;t leave open connections: Module file: ``` db = config.getDB() with db.session() as s: with s.begin_transaction() as tx: tx.run(&quot;the cypher&quot;, {the params}) ``` I am also seeing the following error in the logs, although I&#39;m not sure they are directly related. ``` ValueError: filedescriptor out of range in select() ``` Does anyone know what is causing this or how to fix it please? Thanks!",
      "link":"https://stackoverflow.com/questions/64347825/neo4j-connection-error-as-more-concurrent-users-connect",
      "title":"Neo4j connection error as more concurrent users connect"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":325,
                "user_id":8701077,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/291b2922ee6f44774f9d91f0ec8d02c9?s=128&d=identicon&r=PG&f=1",
                "display_name":"Simon",
                "link":"https://stackoverflow.com/users/8701077/simon"
              },
              "edited":false,
              "score":0,
              "creation_date":1602771776,
              "post_id":64345767,
              "comment_id":113831002,
              "link":"https://stackoverflow.com/questions/64343604/neo4j-cypher-subtract-duration-from-timestamp/64345767#comment113831002_64345767"
            },
            {
              "owner":{
                "reputation":56013,
                "user_id":974731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name":"cybersam",
                "link":"https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user":{
                "reputation":325,
                "user_id":8701077,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/291b2922ee6f44774f9d91f0ec8d02c9?s=128&d=identicon&r=PG&f=1",
                "display_name":"Simon",
                "link":"https://stackoverflow.com/users/8701077/simon"
              },
              "edited":false,
              "score":1,
              "creation_date":1602793031,
              "post_id":64345767,
              "comment_id":113840296,
              "link":"https://stackoverflow.com/questions/64343604/neo4j-cypher-subtract-duration-from-timestamp/64345767#comment113840296_64345767"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":2,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1602642548,
          "creation_date":1602642548,
          "answer_id":64345767,
          "question_id":64343604,
          "share_link":"https://stackoverflow.com/a/64345767",
          "body_markdown":"*Yes, the temporal values and functions are pretty complex, and the documentation is scattered and dense.* The [timestamp](https://neo4j.com/docs/cypher-manual/current/functions/scalar/#functions-timestamp) function returns an integer. But a [Duration](https://neo4j.com/docs/cypher-manual/current/syntax/temporal/#cypher-temporal-durations) (which can be constructed using the [duration](https://neo4j.com/docs/cypher-manual/current/functions/temporal/duration/) function) can only be subtracted from a [temporal instant](https://neo4j.com/docs/cypher-manual/current/syntax/temporal/#cypher-temporal-instants) (for example, a `DateTime`, which can be constructed using the [datetime](https://neo4j.com/docs/cypher-manual/current/functions/temporal/time/#functions-datetime) function). So, for simplicity, the `first_submitted` property value should be something like a `DateTime` (which represents a date and time) instead of an integer. For example: CREATE (:data {id: 123, first_submitted: datetime()}) Assuming that is true, your query could look like this: WITH datetime()-duration(&#39;P14D&#39;) AS threshold MATCH (u:data) WHERE u.first_submitted &gt; threshold RETURN u.first_submitted LIMIT 10 Note: it is not necessary to test that the stored DateTime is *before* the current DateTime, since presumably all `first_submitted` values are in the past. Also, you may want to create an [index](https://neo4j.com/docs/cypher-manual/current/administration/indexes-for-search-performance/) on `:data(first_submitted)` to improve performance.",
          "link":"https://stackoverflow.com/questions/64343604/neo4j-cypher-subtract-duration-from-timestamp/64345767#64345767",
          "title":"Neo4J Cypher - subtract duration from timestamp"
        }
      ],
      "owner":{
        "reputation":325,
        "user_id":8701077,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/291b2922ee6f44774f9d91f0ec8d02c9?s=128&d=identicon&r=PG&f=1",
        "display_name":"Simon",
        "link":"https://stackoverflow.com/users/8701077/simon"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":20,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64345767,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602642557,
      "creation_date":1602625551,
      "last_edit_date":1602642557,
      "question_id":64343604,
      "share_link":"https://stackoverflow.com/q/64343604",
      "body_markdown":"I am trying to create a dynamic query which will get me results from &quot;today&quot; (when submitted) and so many days backwards. Lets say for the sake of the example that I want the last 14 days of data, from today. The field `first_submitted` is recorded by use of `timestamp()` I have tried the following code; match(u:data) WHERE u.first_submitted &gt; timestamp()}-duration(&#39;P14D&#39;) AND u.first_submitted &lt; timestamp() RETURN u.first_submitted LIMIT 10 However I receive the error Neo.ClientError.Statement.TypeError: Cannot subtract `Duration` from `Long` I tried a few different ways of coding this but am turning up very confused with the syntax and Neo4J&#39;s documentation surrounding this. Alternatively, if you can think of a better way to do this that isn&#39;t resource too heavy please let me know. Thanks in advance! P.S. I&#39;m not sure what the &quot;data.apoch&quot; stuff I keep seeing is exactly but when I try to run any of these commands I receive errors so if I can avoid the need of this library please.",
      "link":"https://stackoverflow.com/questions/64343604/neo4j-cypher-subtract-duration-from-timestamp",
      "title":"Neo4J Cypher - subtract duration from timestamp"
    },
    {
      "tags":[
        "graph",
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602622082,
          "creation_date":1602622082,
          "answer_id":64342952,
          "question_id":64342114,
          "share_link":"https://stackoverflow.com/a/64342952",
          "body_markdown":"Your query is putting each `Author` into `export_nodes` multiple times, and each `CO_AUTHORSHIP` relationship into `export_rels` multiple times. This should be faster and use less memory: MATCH path = (a:Author)-[r:CO_AUTHORSHIP]-() WITH COLLECT(DISTINCT a) AS export_nodes, COLLECT(DISTINCT r) AS export_rels CALL apoc.export.cypher.data( export_nodes, export_rels, &#39;/tmp/export.cypher&#39;, {format:&#39;cypher-shell&#39;, cypherFormat: &#39;updateAll&#39;}) YIELD nodes, relationships, time RETURN nodes, relationships, time",
          "link":"https://stackoverflow.com/questions/64342114/how-to-improve-query-efficiency-in-neo4j/64342952#64342952",
          "title":"How to improve query efficiency in Neo4j?"
        }
      ],
      "owner":{
        "reputation":21,
        "user_id":14305979,
        "user_type":"registered",
        "profile_image":"https://graph.facebook.com/3478792285505422/picture?type=large",
        "display_name":"Francesco Binucci",
        "link":"https://stackoverflow.com/users/14305979/francesco-binucci"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":14,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602622082,
      "creation_date":1602618183,
      "question_id":64342114,
      "share_link":"https://stackoverflow.com/q/64342114",
      "body_markdown":"I need to export a portion of database with the function apoc.export.cyphe.data(). Here&#39;s the code which I use to call the function: MATCH path = (p1:Author)-[r:CO_AUTHORSHIP]-(p2:Author) WITH collect(p1)+collect(p2) as export_nodes,collect(r) as export_rels CALL apoc.export.cypher.data(export_nodes,export_rels,&#39;/tmp/export.cypher&#39;,{format:&#39;cypher- shell&#39;,cypherFormat: &#39;updateAll&#39;}) YIELD file, source, format, nodes, relationships, properties,timeRETURN nodes, relationships, time The problem is that the query MATCH path = (p1:Author)-[r:CO_AUTHORSHIP]-(p2:Author) takes more than an hour! I have a database with 467437 CO_AUTHORSHIP relationships. Each node of the database represent an author. For each relationship edge I store data about articles (number of articles, types, venues, titles and years) written by both the authors. I there a way to improve the efficiency of that query?",
      "link":"https://stackoverflow.com/questions/64342114/how-to-improve-query-efficiency-in-neo4j",
      "title":"How to improve query efficiency in Neo4j?"
    },
    {
      "tags":[
        "neo4j",
        "neo4j-ogm"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":3,
                "user_id":14443931,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/187f05da763516d0a1b8201f133984eb?s=128&d=identicon&r=PG&f=1",
                "display_name":"theNorth",
                "link":"https://stackoverflow.com/users/14443931/thenorth"
              },
              "edited":false,
              "score":0,
              "creation_date":1603720824,
              "post_id":64517314,
              "comment_id":114117405,
              "link":"https://stackoverflow.com/questions/64340638/how-to-load-the-next-depth-level-of-referenced-objects-with-neo4j-ogm/64517314#comment114117405_64517314"
            },
            {
              "owner":{
                "reputation":5693,
                "user_id":2650436,
                "user_type":"registered",
                "accept_rate":80,
                "profile_image":"https://www.gravatar.com/avatar/34ecacd077244d141a23c46ea094df5c?s=128&d=identicon&r=PG",
                "display_name":"meistermeier",
                "link":"https://stackoverflow.com/users/2650436/meistermeier"
              },
              "reply_to_user":{
                "reputation":3,
                "user_id":14443931,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/187f05da763516d0a1b8201f133984eb?s=128&d=identicon&r=PG&f=1",
                "display_name":"theNorth",
                "link":"https://stackoverflow.com/users/14443931/thenorth"
              },
              "edited":false,
              "score":0,
              "creation_date":1603721731,
              "post_id":64517314,
              "comment_id":114117889,
              "link":"https://stackoverflow.com/questions/64340638/how-to-load-the-next-depth-level-of-referenced-objects-with-neo4j-ogm/64517314#comment114117889_64517314"
            },
            {
              "owner":{
                "reputation":3,
                "user_id":14443931,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/187f05da763516d0a1b8201f133984eb?s=128&d=identicon&r=PG&f=1",
                "display_name":"theNorth",
                "link":"https://stackoverflow.com/users/14443931/thenorth"
              },
              "edited":false,
              "score":0,
              "creation_date":1603801802,
              "post_id":64517314,
              "comment_id":114146314,
              "link":"https://stackoverflow.com/questions/64340638/how-to-load-the-next-depth-level-of-referenced-objects-with-neo4j-ogm/64517314#comment114146314_64517314"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":5693,
            "user_id":2650436,
            "user_type":"registered",
            "accept_rate":80,
            "profile_image":"https://www.gravatar.com/avatar/34ecacd077244d141a23c46ea094df5c?s=128&d=identicon&r=PG",
            "display_name":"meistermeier",
            "link":"https://stackoverflow.com/users/2650436/meistermeier"
          },
          "comment_count":3,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":true,
          "score":0,
          "last_activity_date":1603568156,
          "creation_date":1603568156,
          "answer_id":64517314,
          "question_id":64340638,
          "share_link":"https://stackoverflow.com/a/64517314",
          "body_markdown":"Your query `Match (p:Person {name: \\&quot;Person A\\&quot;}) return p` just returns the person in question, not any related person. You did not even model the relationship of type `KNOWS` (just referring here to the wording from your question). The person should have an additional field: @Relationship(&quot;KNOWS&quot;) private List&lt;Person&gt; knownPeople; And your query should look like `Match (p:Person {name: \\&quot;Person A\\&quot;})-[r:KNOWS]-(op:Person) return p, collect(r), collect(op)` to fetch the first level of relationships. You can of course add more patterns and return parts to your query to also get the next level etc. But in the end it might be easier to make use of `session.loadAll(Person.class)` and the sibling methods of the session API that generate the Cypher queries for you.",
          "link":"https://stackoverflow.com/questions/64340638/how-to-load-the-next-depth-level-of-referenced-objects-with-neo4j-ogm/64517314#64517314",
          "title":"How to load the next depth level of referenced objects with neo4j-ogm"
        }
      ],
      "owner":{
        "reputation":3,
        "user_id":14443931,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/187f05da763516d0a1b8201f133984eb?s=128&d=identicon&r=PG&f=1",
        "display_name":"theNorth",
        "link":"https://stackoverflow.com/users/14443931/thenorth"
      },
      "last_editor":{
        "reputation":3,
        "user_id":14443931,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/187f05da763516d0a1b8201f133984eb?s=128&d=identicon&r=PG&f=1",
        "display_name":"theNorth",
        "link":"https://stackoverflow.com/users/14443931/thenorth"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":20,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64517314,
      "answer_count":1,
      "score":0,
      "last_activity_date":1603568156,
      "creation_date":1602611872,
      "last_edit_date":1602612654,
      "question_id":64340638,
      "share_link":"https://stackoverflow.com/q/64340638",
      "body_markdown":"For getting familiar with neo4j-ogm I&#39;ve created a very simple example with 3 persons, where Person A, knows Person B, which knows Person C and could verify this in the database browser. Now I would like to load Person A with a depth-level of 1 (so the knows field is already filled with Person B) and when accessing the deeper nested fields (for example by traversing the data in a GUI) the referenced objects should be loaded. In this case, when checking the field &#39;knows&#39; of Person B, the Person C should be loaded. I&#39;m loading Person A with the code below. But the Person B is not referenced at all and I haven&#39;t found any information about how to load the next level of data in general. At least it doesn&#39;t work by just accessing them (like in hibernate). Result result = session.query(&quot;Match (p:Person {name: \\&quot;Person A\\&quot;}) return p&quot;, Collections.EMPTY_MAP); @NodeEntity public class Person { @Id @GeneratedValue private Long id; public String name; public Person knows; public Person() { } public Person(String name) { this.name = name; } }",
      "link":"https://stackoverflow.com/questions/64340638/how-to-load-the-next-depth-level-of-referenced-objects-with-neo4j-ogm",
      "title":"How to load the next depth level of referenced objects with neo4j-ogm"
    },
    {
      "tags":[
        "neo4j",
        "cypher",
        "singleton"
      ],
      "comments":[
        {
          "owner":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited":false,
          "score":0,
          "creation_date":1602585458,
          "post_id":64333436,
          "comment_id":113760902,
          "link":"https://stackoverflow.com/questions/64333436/neo4j-unicity-wonders-singleton-or-aggregation-issue#comment113760902_64333436"
        },
        {
          "owner":{
            "reputation":41,
            "user_id":4257731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/d29c688355dd84f1daebf7d6c78aa7ab?s=128&d=identicon&r=PG&f=1",
            "display_name":"the owl - Yte",
            "link":"https://stackoverflow.com/users/4257731/the-owl-yte"
          },
          "reply_to_user":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "edited":false,
          "score":0,
          "creation_date":1602588051,
          "post_id":64333436,
          "comment_id":113762152,
          "link":"https://stackoverflow.com/questions/64333436/neo4j-unicity-wonders-singleton-or-aggregation-issue#comment113762152_64333436"
        }
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":41,
                "user_id":4257731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/d29c688355dd84f1daebf7d6c78aa7ab?s=128&d=identicon&r=PG&f=1",
                "display_name":"the owl - Yte",
                "link":"https://stackoverflow.com/users/4257731/the-owl-yte"
              },
              "edited":false,
              "score":0,
              "creation_date":1602601495,
              "post_id":64334443,
              "comment_id":113768679,
              "link":"https://stackoverflow.com/questions/64333436/neo4j-unicity-wonders-singleton-or-aggregation-issue/64334443#comment113768679_64334443"
            },
            {
              "owner":{
                "reputation":56013,
                "user_id":974731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name":"cybersam",
                "link":"https://stackoverflow.com/users/974731/cybersam"
              },
              "reply_to_user":{
                "reputation":41,
                "user_id":4257731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/d29c688355dd84f1daebf7d6c78aa7ab?s=128&d=identicon&r=PG&f=1",
                "display_name":"the owl - Yte",
                "link":"https://stackoverflow.com/users/4257731/the-owl-yte"
              },
              "edited":false,
              "score":0,
              "creation_date":1602609373,
              "post_id":64334443,
              "comment_id":113772637,
              "link":"https://stackoverflow.com/questions/64333436/neo4j-unicity-wonders-singleton-or-aggregation-issue/64334443#comment113772637_64334443"
            },
            {
              "owner":{
                "reputation":41,
                "user_id":4257731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/d29c688355dd84f1daebf7d6c78aa7ab?s=128&d=identicon&r=PG&f=1",
                "display_name":"the owl - Yte",
                "link":"https://stackoverflow.com/users/4257731/the-owl-yte"
              },
              "reply_to_user":{
                "reputation":56013,
                "user_id":974731,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
                "display_name":"cybersam",
                "link":"https://stackoverflow.com/users/974731/cybersam"
              },
              "edited":false,
              "score":0,
              "creation_date":1603184009,
              "post_id":64334443,
              "comment_id":113948769,
              "link":"https://stackoverflow.com/questions/64333436/neo4j-unicity-wonders-singleton-or-aggregation-issue/64334443#comment113948769_64334443"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "comment_count":3,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602588862,
          "creation_date":1602588862,
          "answer_id":64334443,
          "question_id":64333436,
          "share_link":"https://stackoverflow.com/a/64334443",
          "body_markdown":"You have to change your query to first MERGE your nodes and then MERGE the relationships: MERGE (a:Person {name:&#39;Alice&#39;}) MERGE (b:Person {name:&#39;Bob&#39;}) MERGE (a)-[x:KNOWS {since:1999}]-&gt;(b)",
          "link":"https://stackoverflow.com/questions/64333436/neo4j-unicity-wonders-singleton-or-aggregation-issue/64334443#64334443",
          "title":"Neo4J Unicity wonders : singleton or aggregation issue"
        }
      ],
      "owner":{
        "reputation":41,
        "user_id":4257731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/d29c688355dd84f1daebf7d6c78aa7ab?s=128&d=identicon&r=PG&f=1",
        "display_name":"the owl - Yte",
        "link":"https://stackoverflow.com/users/4257731/the-owl-yte"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":31,
      "favorite_count":0,
      "down_vote_count":1,
      "up_vote_count":0,
      "answer_count":1,
      "score":-1,
      "last_activity_date":1602609405,
      "creation_date":1602584865,
      "last_edit_date":1602609405,
      "question_id":64333436,
      "share_link":"https://stackoverflow.com/q/64333436",
      "body_markdown":"I&#39;m new to Neo4J and have a question for you guys. I import a CSV file and it duplicates my nodes instead of merging them. **Example** CSV FILE : ``` Id1,Id2,Relation Alice,Bob,KNOWS Morgane,Bob,KNOWS Bob,James,KNOWS ``` I would like to have a result as such ``` Alice---(KNOWS)---&gt;Bob&lt;---(KNOWS)---Morgane ^ | (KNOWS) | James ``` Though what happens is : ``` Alice---(KNOWS)---&gt;Bob Morgane---(KNOWS)---&gt;Bob Bob---(KNOWS)---&gt;James ``` I would like Bob to be a singleton, but it I get multiple &quot;Bob&quot; with different inner id&#39;s. I would like to merge all the Bobs together. Anyone have an idea ? *(Note that the arrow between James &amp; Bob should be the otherway around on the &quot;wanted result&quot;, but it&#39;s ok, it&#39;s not so much the problem here)* edit : I tried creating a constraint before importing the data, but it doesn&#39;t seem to be working : ```CREATE CONSTRAINT ON (a:Person) ASSERT a.name IS UNIQUE;``` Thanks for your help !",
      "link":"https://stackoverflow.com/questions/64333436/neo4j-unicity-wonders-singleton-or-aggregation-issue",
      "title":"Neo4J Unicity wonders : singleton or aggregation issue"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":1105,
                "user_id":6701496,
                "user_type":"registered",
                "accept_rate":85,
                "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
                "display_name":"degath",
                "link":"https://stackoverflow.com/users/6701496/degath"
              },
              "edited":false,
              "score":0,
              "creation_date":1602588360,
              "post_id":64333603,
              "comment_id":113762267,
              "link":"https://stackoverflow.com/questions/64331991/cypher-query-with-group-by-inside-aggregation/64333603#comment113762267_64333603"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":3023,
            "user_id":6692895,
            "user_type":"registered",
            "accept_rate":89,
            "profile_image":"https://graph.facebook.com/10154498103378258/picture?type=large",
            "display_name":"Tomaž Bratanič",
            "link":"https://stackoverflow.com/users/6692895/toma%c5%be-bratani%c4%8d"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1602585558,
          "creation_date":1602585558,
          "answer_id":64333603,
          "question_id":64331991,
          "share_link":"https://stackoverflow.com/a/64333603",
          "body_markdown":"You can solve this with a `CASE` statement: Match (people:People)-[:LOCATED_IN]-&gt;(address:Address), (people)-[:SOME]-&gt;(calc) RETURN CASE WHEN address.country in [&#39;PL&#39;,&#39;UK&#39;] THEN &#39;Custom&#39; ELSE address.country END as name, count(*) as count, avg(calc.value) as value",
          "link":"https://stackoverflow.com/questions/64331991/cypher-query-with-group-by-inside-aggregation/64333603#64333603",
          "title":"Cypher query with group by inside aggregation"
        },
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":false,
          "score":1,
          "last_activity_date":1602608873,
          "creation_date":1602608873,
          "answer_id":64339914,
          "question_id":64331991,
          "share_link":"https://stackoverflow.com/a/64339914",
          "body_markdown":"You could use a custom name map and the [COALESCE](https://neo4j.com/docs/cypher-manual/current/functions/scalar/#functions-coalesce) function. You could even pass the (possibly empty) map as a [parameter](https://neo4j.com/docs/cypher-manual/current/syntax/parameters/) (instead of defining it statically) if the custom name mapping can change. WITH {PL: &#39;Custom&#39;, UK: &#39;Custom&#39;} AS cMap MATCH (calc)&lt;-[:SOME]-(people:People)-[:LOCATED_IN]-&gt;(address:Address) RETURN COALESCE(cMap[address.country], address.country) as name, COUNT(*) AS count, AVG(calc.value) AS value ",
          "link":"https://stackoverflow.com/questions/64331991/cypher-query-with-group-by-inside-aggregation/64339914#64339914",
          "title":"Cypher query with group by inside aggregation"
        }
      ],
      "owner":{
        "reputation":1105,
        "user_id":6701496,
        "user_type":"registered",
        "accept_rate":85,
        "profile_image":"https://www.gravatar.com/avatar/b152e21900988ab6f21e6b1298f3bc62?s=128&d=identicon&r=PG&f=1",
        "display_name":"degath",
        "link":"https://stackoverflow.com/users/6701496/degath"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":37,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64333603,
      "answer_count":2,
      "score":0,
      "last_activity_date":1602609030,
      "creation_date":1602579634,
      "last_edit_date":1602609030,
      "question_id":64331991,
      "share_link":"https://stackoverflow.com/q/64331991",
      "body_markdown":"I created a cypher query which returns list of people in country &amp; some avg calculation: Match (people:People)-[:LOCATED_IN]-&gt;(address:Address), (people)-[:SOME]-&gt;(calc) RETURN address.country as name, count(*) as count, avg(calc.value) as value Which returns for instance: name, count, value PL , 5 , 10 UK , 3 , 20 US , 6 , 30 DE , 3 , 40 What I&#39;m trying to achieve right now is to group a few of them in some custom groups. For instance, if the country is PL &amp; UK return it AS Custom: name , count, value Custom , 8 , 15 US , 6 , 30 DE , 3 , 40 I was able to achieve it by creating two separate queries one where I specified: `WHERE address.country IN [&#39;PL&#39;,&#39;UK&#39;]` and second with negation, and I combined it after that. Is there any easier solution for that?",
      "link":"https://stackoverflow.com/questions/64331991/cypher-query-with-group-by-inside-aggregation",
      "title":"Cypher query with group by inside aggregation"
    },
    {
      "tags":[
        "logging",
        "neo4j",
        "neo4j-apoc",
        "neo4j-desktop"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":452,
            "user_id":1024811,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/970da55a7f9c09055a35fa51f347209d?s=128&d=identicon&r=PG",
            "display_name":"Peter W",
            "link":"https://stackoverflow.com/users/1024811/peter-w"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602563733,
          "creation_date":1602563733,
          "answer_id":64328592,
          "question_id":64328359,
          "share_link":"https://stackoverflow.com/a/64328592",
          "body_markdown":"I found a solution to this. From the `logs/` directory, navigate to the configuration directory for Neo4j: ``` &gt; cd ../conf &gt; ls jmx.access jmx.password neo4j.conf ``` Then add a APOC config file with the `apoc.user.log.type` setting from the APOC docs: ``` &gt; echo &quot;apoc.user.log.type=raw&quot; &gt;&gt; apoc.conf ``` Then restart the Neo4j database / project. In other words, the configuration that is documented at the `apoc.log.info` function level is actually a global configuration that needs to be set for APOC/Neo4j in general in the configuration file. The config file format is specified here: https://neo4j.com/docs/operations-manual/current/configuration/neo4j-conf/",
          "link":"https://stackoverflow.com/questions/64328359/how-to-log-in-neo4j-respecting-original-letter-case-e-g-uppercase-from-neo4j/64328592#64328592",
          "title":"How to log in Neo4j (respecting original letter case, e.g. uppercase) from Neo4j desktop"
        }
      ],
      "owner":{
        "reputation":452,
        "user_id":1024811,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/970da55a7f9c09055a35fa51f347209d?s=128&d=identicon&r=PG",
        "display_name":"Peter W",
        "link":"https://stackoverflow.com/users/1024811/peter-w"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":7,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602563733,
      "creation_date":1602562195,
      "question_id":64328359,
      "share_link":"https://stackoverflow.com/q/64328359",
      "body_markdown":"I&#39;m using Neo4j desktop, and trying to use APOC to log a message to the info log. I&#39;ve read the documentation on this operation here: https://neo4j.com/labs/apoc/4.1/operational/log/ This is the simple code I&#39;m using, which tries to log &quot;hello world&quot; in both upper and lower case: ``` CALL apoc.log.info(&#39;HELLO world&#39;) ``` Then I looked here to see where I&#39;d find the log file: https://neo4j.com/docs/operations-manual/current/configuration/file-locations/ I&#39;m on a Mac, so I&#39;ve gone to the logs directory: ``` cd /Library/Application Support/Neo4j Desktop/Application/neo4jDatabases/database-.../installation-4.0.3/log ``` and ran `tail -f debug.log`: [![log file showing &quot;hello_world&quot; (all lower case)][1]][1] As you see, the logged message has been converted to lowercase. In the API docs, I see that there&#39;s a property `apoc.user.log.type` which default to `safe` (to &quot;replace all . and whitespace (space and tab) with underscore and lowercase all characters&quot;). I believe I need to set the property value to `raw`, but I&#39;m not sure how. I&#39;ve tried these three things with no luck: ``` CALL apoc.log.info(&#39;HeLLo&#39;, [type: &quot;raw&quot;]) CALL apoc.log.info(&#39;HeLLo&#39;, { type: &quot;raw&quot; }) :param &quot;apoc.user.log.type&quot; =&gt; &quot;raw&quot; ``` [1]: https://i.stack.imgur.com/qvzdS.png ",
      "link":"https://stackoverflow.com/questions/64328359/how-to-log-in-neo4j-respecting-original-letter-case-e-g-uppercase-from-neo4j",
      "title":"How to log in Neo4j (respecting original letter case, e.g. uppercase) from Neo4j desktop"
    },
    {
      "tags":[
        "javascript",
        "neo4j",
        "graphql",
        "apollo-server",
        "grandstack"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":4706,
            "user_id":2942471,
            "user_type":"registered",
            "accept_rate":57,
            "profile_image":"https://graph.facebook.com/100000008666513/picture?type=large",
            "display_name":"manonthemat",
            "link":"https://stackoverflow.com/users/2942471/manonthemat"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602568351,
          "creation_date":1602568351,
          "answer_id":64329321,
          "question_id":64328105,
          "share_link":"https://stackoverflow.com/a/64329321",
          "body_markdown":"I solved this by rewriting part of the code: const results = await session .run(cypher, { idA, idsB }) .then((result) =&gt; { return result.records.map((record) =&gt; { // diff start const obj = record.toObject() const bs = obj.bs.map((b) =&gt; b.properties) return { bs, // diff end score: record.get(&#39;score&#39;)?.low || null, } }) }) .catch(console.log) .then((results) =&gt; { session.close() console.log(results) return results }) return results",
          "link":"https://stackoverflow.com/questions/64328105/custom-resolve-function-returned-undefined-in-grandstack/64329321#64329321",
          "title":"Custom resolve function returned undefined in grandstack"
        }
      ],
      "owner":{
        "reputation":4706,
        "user_id":2942471,
        "user_type":"registered",
        "accept_rate":57,
        "profile_image":"https://graph.facebook.com/100000008666513/picture?type=large",
        "display_name":"manonthemat",
        "link":"https://stackoverflow.com/users/2942471/manonthemat"
      },
      "last_editor":{
        "reputation":4706,
        "user_id":2942471,
        "user_type":"registered",
        "accept_rate":57,
        "profile_image":"https://graph.facebook.com/100000008666513/picture?type=large",
        "display_name":"manonthemat",
        "link":"https://stackoverflow.com/users/2942471/manonthemat"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":27,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602568351,
      "creation_date":1602560172,
      "last_edit_date":1602565240,
      "question_id":64328105,
      "share_link":"https://stackoverflow.com/q/64328105",
      "body_markdown":"I have type definitions for `A` and `B` defined in the `schema.graphql` file. Resolvers for these are auto-generated and work well (in other places). To create a scoring mechanism that ranks nodes with label B in relation to the node with label A, I am writing a `CustomResolver` query that executes a cypher query and returns a collection of bs and a computed score as defined in the `ScoredBs` type. The `schema.graphql` file looks like this. ```graphql type Query { CustomResolver(idA: ID!, idsB: [ID!]!): [ScoredBs] } type A { id: ID! @id # and some more stuff of course } type B { id: ID! @id # more fields that use the @relation or @cypher decorator } type ScoredBs { bs: [B] score: Float } ``` This is where the custom resolver is defined: ```javascript const resolvers = { Query: { CustomResolver: async ( parent, { idA, idsB }, context, info ) =&gt; { const cypher = ` MATCH (a:A {id: $idA}) MATCH (a)&lt;--(b:B) WHERE b.id IN $idsB WITH b RETURN DISTINCT collect(b) AS bs, rand() AS score ORDER BY score DESC ` const session = context.driver.session() const results = await session .run(cypher, { idA, idsB }) .then((result) =&gt; { return result.records.map((record) =&gt; { return { bs: record.get(&#39;bs&#39;), score: record.get(&#39;score&#39;)?.low || null, } }) }) .catch(console.log) .then((results) =&gt; { session.close() return results }) return results }, }, } ``` When I run the query in the apollo-server graphql playground i am receiving an error: &gt; &quot;message&quot;: &quot;Resolve function for \\&quot;B.id\\&quot; returned undefined&quot;, ```graphql query { CustomResolver( idA:&quot;2560886f-654b-4047-8d7a-386cd7d9f670&quot;, idsB: [&quot;01ec8367-a8ae-4600-9f88-ec141b2cae2c&quot;, &quot;032f9a88-98c3-4968-8388-659ae26d63b3&quot;] ) { bs { id } score } } ```",
      "link":"https://stackoverflow.com/questions/64328105/custom-resolve-function-returned-undefined-in-grandstack",
      "title":"Custom resolve function returned undefined in grandstack"
    },
    {
      "tags":[
        "neo4j",
        "neo4j-plugin"
      ],
      "comments":[
        {
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1602527177,
          "post_id":64321419,
          "comment_id":113743211,
          "link":"https://stackoverflow.com/questions/64321419/user-defined-procedure-timeout#comment113743211_64321419"
        },
        {
          "owner":{
            "reputation":1598,
            "user_id":3209523,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/yeaZC.jpg?s=128&g=1",
            "display_name":"canbax",
            "link":"https://stackoverflow.com/users/3209523/canbax"
          },
          "reply_to_user":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1602566959,
          "post_id":64321419,
          "comment_id":113753010,
          "link":"https://stackoverflow.com/questions/64321419/user-defined-procedure-timeout#comment113753010_64321419"
        },
        {
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1602608260,
          "post_id":64321419,
          "comment_id":113772153,
          "link":"https://stackoverflow.com/questions/64321419/user-defined-procedure-timeout#comment113772153_64321419"
        },
        {
          "owner":{
            "reputation":1598,
            "user_id":3209523,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/yeaZC.jpg?s=128&g=1",
            "display_name":"canbax",
            "link":"https://stackoverflow.com/users/3209523/canbax"
          },
          "reply_to_user":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "edited":false,
          "score":0,
          "creation_date":1602614452,
          "post_id":64321419,
          "comment_id":113774765,
          "link":"https://stackoverflow.com/questions/64321419/user-defined-procedure-timeout#comment113774765_64321419"
        }
      ],
      "owner":{
        "reputation":1598,
        "user_id":3209523,
        "user_type":"registered",
        "profile_image":"https://i.stack.imgur.com/yeaZC.jpg?s=128&g=1",
        "display_name":"canbax",
        "link":"https://stackoverflow.com/users/3209523/canbax"
      },
      "comment_count":4,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":9,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602518936,
      "creation_date":1602518936,
      "question_id":64321419,
      "share_link":"https://stackoverflow.com/q/64321419",
      "body_markdown":"How can I implement a timeout mechanism for my [neo4j user-defined procedure][1]? My code is simply this. ``` @Procedure(value = &quot;nameOfMyProcedure&quot;, mode = Mode.WRITE) @Description(&quot;finds the minimal sub-graph from given nodes&quot;) public Stream&lt;Output&gt; nameOfMyProcedure(@Name(&quot;p1&quot;) Long p1, @Name(&quot;p2&quot;) Long p2, ...) { // there are some codes here. I want to make a timeout mechanism for codes inside here } ``` I tried using `java.util.concurrent.Callable` and `java.util.concurrent.ExecutorService` ``` AdvancedQuery that = this; Callable&lt;Output&gt; receiveResponse = () -&gt; { // put all the codes inside this callable return output; } ExecutorService executor = Executors.newSingleThreadExecutor(); Future&lt;Output&gt; future = executor.submit(receiveResponse); Output result = null; try { result = future.get(10000, TimeUnit.MILLISECONDS); log.info(&quot;Completed successfully&quot;); } catch (InterruptedException | ExecutionException e) { log.info(&quot;unexpected error: &quot;, e.getMessage()); } catch (TimeoutException e) { log.info(&quot;Timed out. Cancelling the runnable...&quot;); future.cancel(true); } executor.shutdown(); if (result == null) { return Stream.of(new Output()); } return Stream.of(result); ``` I get this `ExecutionException` &gt; org.neo4j.kernel.impl.core.ThreadToStatementContextBridge$BridgeNotInTransactionException: &gt; The requested operation cannot be performed, because it has to be &gt; performed in a transaction. Ensure you are wrapping your operation in &gt; the appropriate transaction boilerplate and try again. [1]: https://neo4j.com/docs/java-reference/current/extending-neo4j/procedures-and-functions/procedures/",
      "link":"https://stackoverflow.com/questions/64321419/user-defined-procedure-timeout",
      "title":"User defined procedure timeout"
    },
    {
      "tags":[
        "neo4j"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602550953,
          "creation_date":1602550953,
          "answer_id":64327060,
          "question_id":64320163,
          "share_link":"https://stackoverflow.com/a/64327060",
          "body_markdown":"This seems like a reasonable (but time-consuming) approach: 1. If you do not have neo4j 3.0.3 installed, get it from [here](http://www.neo4j.com/customer/download/neo4j-enterprise-3.0.3-unix.tar.gz) (as documented [here](http://www.neo4j.com/customer/download/neo4j-enterprise-3.0.4-unix.tar.gz)), and install it. 2. Follow the simple [3.0 instructions](https://neo4j.com/docs/operations-manual/3.0/backup/restore-backup/) for restoring a backup (to your 3.0.3 installation). The 3.0 restoration process is very different from the 4.x process. 3. Upgrade the 3.0.3 installation to 4.1.3, *stepwise*, by: - [upgrading to 3.3](https://neo4j.com/docs/operations-manual/3.3/upgrade/deployment-upgrading/#upgrade-instructions-3x), *then* - [upgrading to 3.5.22](https://neo4j.com/docs/operations-manual/3.5/upgrade/planning/#upgrade-planning), *then* - [migrating to 4.x](https://neo4j.com/docs/migration-guide/current/) Good luck.",
          "link":"https://stackoverflow.com/questions/64320163/neo4j-how-to-recover-a-backup-or-dump-from-a-previous-version-3-0-3-to-the/64327060#64327060",
          "title":"Neo4J - How to recover a backup (or dump) from a previous version (3.0.3) to the actual 4.1.3 Community"
        }
      ],
      "owner":{
        "reputation":1,
        "user_id":8580851,
        "user_type":"registered",
        "profile_image":"https://graph.facebook.com/3345655425444595/picture?type=large",
        "display_name":"F&#225;bio Ramos",
        "link":"https://stackoverflow.com/users/8580851/f%c3%a1bio-ramos"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":26,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602550953,
      "creation_date":1602514307,
      "question_id":64320163,
      "share_link":"https://stackoverflow.com/q/64320163",
      "body_markdown":"How can we recover a dump from a database version 3.0.3 to the actual version 4.1.3 Community? I&#39;ve searched and tried many different alternatives, but no one have still worked. In one of this alternatives we&#39;ve tried the command ```neo4j-admin backup --backup-dir=/home/ec2-user --verbose```, but the commands to recover are not working, for example: ```neo4j-admin restore --from=/var/lib/neo4j/data/databases/neo4j --database=system --force``` We are getting the error message: **WARNING: Max 1024 open files allowed, minimum of 40000 recommended. See the Neo4j manual. Unmatched arguments from index 0: &#39;restore&#39;, &#39;--from=/var/lib/neo4j/data/databases/neo4j&#39;, &#39;--verbose&#39;, &#39;--database=neo4j&#39;, &#39;--force&#39; Did you mean: store-info or report or memrec?**",
      "link":"https://stackoverflow.com/questions/64320163/neo4j-how-to-recover-a-backup-or-dump-from-a-previous-version-3-0-3-to-the",
      "title":"Neo4J - How to recover a backup (or dump) from a previous version (3.0.3) to the actual 4.1.3 Community"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "comments":[
        {
          "owner":{
            "reputation":3589,
            "user_id":4709400,
            "user_type":"registered",
            "accept_rate":86,
            "profile_image":"https://i.stack.imgur.com/Oy7HE.jpg?s=128&g=1",
            "display_name":"stellasia",
            "link":"https://stackoverflow.com/users/4709400/stellasia"
          },
          "edited":false,
          "score":0,
          "creation_date":1602506281,
          "post_id":64315304,
          "comment_id":113733393,
          "link":"https://stackoverflow.com/questions/64315304/neo4j-shortest-path-that-includes-specific-relationship#comment113733393_64315304"
        },
        {
          "owner":{
            "reputation":1977,
            "user_id":783836,
            "user_type":"registered",
            "accept_rate":82,
            "profile_image":"https://www.gravatar.com/avatar/3defdbe17836bc5bf18a47fc9115a552?s=128&d=identicon&r=PG",
            "display_name":"user783836",
            "link":"https://stackoverflow.com/users/783836/user783836"
          },
          "reply_to_user":{
            "reputation":3589,
            "user_id":4709400,
            "user_type":"registered",
            "accept_rate":86,
            "profile_image":"https://i.stack.imgur.com/Oy7HE.jpg?s=128&g=1",
            "display_name":"stellasia",
            "link":"https://stackoverflow.com/users/4709400/stellasia"
          },
          "edited":false,
          "score":1,
          "creation_date":1602573830,
          "post_id":64315304,
          "comment_id":113755374,
          "link":"https://stackoverflow.com/questions/64315304/neo4j-shortest-path-that-includes-specific-relationship#comment113755374_64315304"
        }
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":76,
            "user_id":12642133,
            "user_type":"registered",
            "profile_image":"https://i.stack.imgur.com/LQlTj.png?s=128&g=1",
            "display_name":"plastic",
            "link":"https://stackoverflow.com/users/12642133/plastic"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602718855,
          "creation_date":1602718855,
          "answer_id":64362919,
          "question_id":64315304,
          "share_link":"https://stackoverflow.com/a/64362919",
          "body_markdown":"If the center of universe is HAS_SKILL, I&#39;d suggest looking into anchoring on that relationship, and then path find from the relationships start/end nodes. Something like this match (p:Person)-[:HAS_SKILL]-&gt;(s:Skill) Then perhaps determine the shortest path from the specific person to those p, then take just the s skill&#39;s those shortest paths p point to and then shortest path find from those s to the specific skill. I don&#39;t know if there is more we could suggest without knowing more about the actual model and challenge.",
          "link":"https://stackoverflow.com/questions/64315304/neo4j-shortest-path-that-includes-specific-relationship/64362919#64362919",
          "title":"neo4j: Shortest path that includes specific relationship"
        }
      ],
      "owner":{
        "reputation":1977,
        "user_id":783836,
        "user_type":"registered",
        "accept_rate":82,
        "profile_image":"https://www.gravatar.com/avatar/3defdbe17836bc5bf18a47fc9115a552?s=128&d=identicon&r=PG",
        "display_name":"user783836",
        "link":"https://stackoverflow.com/users/783836/user783836"
      },
      "last_editor":{
        "reputation":1977,
        "user_id":783836,
        "user_type":"registered",
        "accept_rate":82,
        "profile_image":"https://www.gravatar.com/avatar/3defdbe17836bc5bf18a47fc9115a552?s=128&d=identicon&r=PG",
        "display_name":"user783836",
        "link":"https://stackoverflow.com/users/783836/user783836"
      },
      "comment_count":2,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":42,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602718855,
      "creation_date":1602495558,
      "last_edit_date":1602496973,
      "question_id":64315304,
      "share_link":"https://stackoverflow.com/q/64315304",
      "body_markdown":"I have the graph model below and am trying to write a Cypher query that finds the shortest path from a `Person` to a `Skill` that includes at least one instance of the relationship `HAS_SKILL` in the path. In the model - a `Person` is connected to another `Person` via the `IS_CONNECTED_TO` relationship - a `Person` is connected to a `Skill` via `HAS_SKILL` - a `Skill` is connected to another `Skill` via the `IS_RELATED_TO` relationship [![enter image description here][1]][1] I have come up with the following query, which works but unwraps all the relationships in the path to check that the `HAS_SKILL` relationship is one of the relationships. ``` match (person:Person {id: &quot;48&quot;}), (skill:Skill {id: &#39;10667&#39;}), path = shortestPath((p)-[*..30]-(s)) WHERE ANY(r in relationships(path) where type(r) = &#39;HAS_SKILL&#39;) return path; ``` Is there a more effecient way to do this? I have played around with relationship pattern matching in `(p)-[*..30]-(s)` but I couldn&#39;t get it work in the same way that `ANY` in the where clause works? This is using neo4j 4.1.0. [1]: https://i.stack.imgur.com/1uGTf.png",
      "link":"https://stackoverflow.com/questions/64315304/neo4j-shortest-path-that-includes-specific-relationship",
      "title":"neo4j: Shortest path that includes specific relationship"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1602528457,
          "creation_date":1602528457,
          "answer_id":64323645,
          "question_id":64312462,
          "share_link":"https://stackoverflow.com/a/64323645",
          "body_markdown":"1. None of the `TweetLeaf` nodes have a &quot;retweet_id&quot; property. And, although some *do* have the &quot;retweet_to&quot; property (which may be a typo), none of the corresponding values is &quot;123&quot;. So, either way, your query can never succeed. 2. Also, you should use [MERGE](https://neo4j.com/docs/cypher-manual/current/clauses/merge/) to avoid creating duplicate nodes. This query may work better (once you have fixed above issue #1): MATCH (c:TweetLeaf), (parent:Node {id: c.reply_to}), (retweet:Node {id: c.retweet_id}) MERGE (c)-[:reply_to]-&gt;(parent) MERGE (c)-[:retweet]-&gt;(retweet) ",
          "link":"https://stackoverflow.com/questions/64312462/how-to-create-tree-structure-in-neo4j-with-multiple-relationships/64323645#64323645",
          "title":"how to create tree structure in neo4j with multiple relationships?"
        }
      ],
      "owner":{
        "reputation":191,
        "user_id":13311050,
        "user_type":"registered",
        "profile_image":"https://lh5.googleusercontent.com/-eKyoBGJ_kq8/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPs17MB9fP_XuhkoYefUdGAaBMzQQ/photo.jpg?sz=128",
        "display_name":"Jay Parkkk",
        "link":"https://stackoverflow.com/users/13311050/jay-parkkk"
      },
      "last_editor":{
        "reputation":56013,
        "user_id":974731,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
        "display_name":"cybersam",
        "link":"https://stackoverflow.com/users/974731/cybersam"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":35,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":1,
      "accepted_answer_id":64323645,
      "answer_count":1,
      "score":1,
      "last_activity_date":1602528476,
      "creation_date":1602482676,
      "last_edit_date":1602528476,
      "question_id":64312462,
      "share_link":"https://stackoverflow.com/q/64312462",
      "body_markdown":"1.For example I create multiple Tweet nodes, these tweet nodes have id,reply_to id and retweet_id. Assuming I have 6 nodes. The code below shows the nodes I create. CREATE (n:Tweet:Node {id:&#39;123&#39;, title:&#39;A&#39;}); CREATE (cl:TweetLeaf:Node {id:&#39;234&#39;, title:&#39;IT Team&#39;, reply_to:&#39;123&#39;}); CREATE (cl:TweetLeaf:Node {id:&#39;testingTeam&#39;, title:&#39;TESTING Team&#39;, reply_to:&#39;234&#39;}); CREATE (cl:TweetLeaf:Node {id:&#39;588&#39;, title:&#39;TESTING Team&#39;, reply_to:&#39;testingTeam&#39;}); CREATE (cl:TweetLeaf:Node {id:&#39;kk&#39;, title:&#39;TESTING Team&#39;, retweet_to:&#39;588&#39;}); CREATE (cl:TweetLeaf:Node {id:&#39;119&#39;, title:&#39;TESTING Team&#39;, retweet_to:&#39;kk&#39;}); 2.Now I would like to create a hierarchy tree and trying to create two relationships. Here is the code I tried, but the relationship retweet can not be created successfully. CREATE (n:Tweet:Node {id:&#39;123&#39;, title:&#39;A&#39;}); CREATE (cl:TweetLeaf:Node {id:&#39;234&#39;, title:&#39;IT Team&#39;, reply_to:&#39;123&#39;}); CREATE (cl:TweetLeaf:Node {id:&#39;testingTeam&#39;, title:&#39;TESTING Team&#39;, reply_to:&#39;234&#39;}); CREATE (cl:TweetLeaf:Node {id:&#39;588&#39;, title:&#39;TESTING Team&#39;, reply_to:&#39;testingTeam&#39;}); CREATE (cl:TweetLeaf:Node {id:&#39;kk&#39;, title:&#39;TESTING Team&#39;, retweet_to:&#39;588&#39;}); CREATE (cl:TweetLeaf:Node {id:&#39;119&#39;, title:&#39;TESTING Team&#39;, retweet_to:&#39;kk&#39;}); MATCH (c:TweetLeaf) WHERE NOT (c)-[:reply_to]-&gt;() or not (c)-[:retweet]-&gt;() MATCH (parent:Node {id:c.reply_to}),(retweet:Node {id:c.retweet_id}) CREATE (c)-[:reply_to]-&gt;(parent),(c)-[:retweet]-&gt;(retweet) ",
      "link":"https://stackoverflow.com/questions/64312462/how-to-create-tree-structure-in-neo4j-with-multiple-relationships",
      "title":"how to create tree structure in neo4j with multiple relationships?"
    },
    {
      "tags":[
        "csv",
        "import",
        "neo4j",
        "neo4j-apoc"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":11,
            "user_id":8645910,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/3831db1d7461d56da4e2935de281b33b?s=128&d=identicon&r=PG&f=1",
            "display_name":"Robert Kuhlig",
            "link":"https://stackoverflow.com/users/8645910/robert-kuhlig"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602739428,
          "creation_date":1602739428,
          "answer_id":64365332,
          "question_id":64311934,
          "share_link":"https://stackoverflow.com/a/64365332",
          "body_markdown":"Looks like I had a docker-compsoe problem with accessing the port 8091 and the &quot;exterenal&quot; url from one container to the other. Now I use an internal link and it works. never the less i think others ports then 80/443 are not working! no time to test ... but a hint for others with simmilars problems ",
          "link":"https://stackoverflow.com/questions/64311934/how-to-import-csv-from-external-website-in-neo4j/64365332#64365332",
          "title":"How to import csv from external website in Neo4j?"
        }
      ],
      "owner":{
        "reputation":11,
        "user_id":8645910,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/3831db1d7461d56da4e2935de281b33b?s=128&d=identicon&r=PG&f=1",
        "display_name":"Robert Kuhlig",
        "link":"https://stackoverflow.com/users/8645910/robert-kuhlig"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":9,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602739428,
      "creation_date":1602478922,
      "question_id":64311934,
      "share_link":"https://stackoverflow.com/q/64311934",
      "body_markdown":"my import from &quot;disk&quot; **IS** working with this command LOAD CSV WITH HEADERS FROM &quot;file:///question.csv&quot; AS line FIELDTERMINATOR &#39;|&#39; MERGE (:QuestionContainer {ID: line.ID, GUID: line.GUID, History: line.History}) but it **IS NOT** working with this command LOAD CSV WITH HEADERS FROM &quot;http://www.example.com:8091/question.csv&quot; AS line FIELDTERMINATOR &#39;|&#39; MERGE (:QuestionContainer {ID: line.ID, GUID: line.GUID, History: line.History}) error messages: Couldn&#39;t load the external resource at: http://www.example.com:8091/question.csv my neo4j config file looks like dbms.default_listen_address=0.0.0.0 dbms.memory.pagecache.size=512M dbms.tx_log.rotation.retention_policy=100M size dbms.directories.logs=/logs dbms.directories.import=/import apoc.import.url.enabled=true apoc.import.file.use_neo4j_config=true apoc.import.file.enabled=true apoc.export.file.enabled=true wget http://www.example.com:8091/question.csv works! Any hint? Using Version: 4.1.3 Thanks rob ",
      "link":"https://stackoverflow.com/questions/64311934/how-to-import-csv-from-external-website-in-neo4j",
      "title":"How to import csv from external website in Neo4j?"
    },
    {
      "tags":[
        "django",
        "neo4j",
        "docker-compose",
        "bolt",
        "neomodel"
      ],
      "answers":[
        {
          "comments":[
            {
              "owner":{
                "reputation":3,
                "user_id":14432203,
                "user_type":"registered",
                "profile_image":"https://www.gravatar.com/avatar/bebf820571fd86661af9ffb173c1f36f?s=128&d=identicon&r=PG&f=1",
                "display_name":"alhassanha",
                "link":"https://stackoverflow.com/users/14432203/alhassanha"
              },
              "edited":false,
              "score":0,
              "creation_date":1602487310,
              "post_id":64309171,
              "comment_id":113724992,
              "link":"https://stackoverflow.com/questions/64308828/docker-compose-db-connection-from-web-container-to-neo4j-container-using-bolt/64309171#comment113724992_64309171"
            }
          ],
          "tags":[
            
          ],
          "owner":{
            "reputation":4757,
            "user_id":9090751,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/9247a41261e683637d45d82125e42406?s=128&d=identicon&r=PG&f=1",
            "display_name":"Mafor",
            "link":"https://stackoverflow.com/users/9090751/mafor"
          },
          "last_editor":{
            "reputation":4757,
            "user_id":9090751,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/9247a41261e683637d45d82125e42406?s=128&d=identicon&r=PG&f=1",
            "display_name":"Mafor",
            "link":"https://stackoverflow.com/users/9090751/mafor"
          },
          "comment_count":1,
          "down_vote_count":0,
          "up_vote_count":1,
          "is_accepted":true,
          "score":1,
          "last_activity_date":1602454355,
          "last_edit_date":1602454355,
          "creation_date":1602451619,
          "answer_id":64309171,
          "question_id":64308828,
          "share_link":"https://stackoverflow.com/a/64309171",
          "body_markdown":"1. To connect from one container to another one (inside the same docker-compose project) you should use container name of the target container instead of the localhost (or 127.0.0.1). In your case it would be `neo4j_db`. 2. When connecting from other container you should use the internal port, in your case 7687. 3. In the neo4j service, the `bolt.listen_address` should be 7687 instead of 7688 (honestly, I&#39;m not sure why you are changing the default port). To wrap up, the connection url should be: ``` bolt://neo4j:pass@neo4j_db:7687 ``` ",
          "link":"https://stackoverflow.com/questions/64308828/docker-compose-db-connection-from-web-container-to-neo4j-container-using-bolt/64309171#64309171",
          "title":"Docker-compose: db connection from web container to neo4j container using bolt"
        }
      ],
      "owner":{
        "reputation":3,
        "user_id":14432203,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/bebf820571fd86661af9ffb173c1f36f?s=128&d=identicon&r=PG&f=1",
        "display_name":"alhassanha",
        "link":"https://stackoverflow.com/users/14432203/alhassanha"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":true,
      "view_count":18,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "accepted_answer_id":64309171,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602454355,
      "creation_date":1602449095,
      "question_id":64308828,
      "share_link":"https://stackoverflow.com/q/64308828",
      "body_markdown":"I&#39;m working on django project with neo4j db using neomodel and django-neomodel. I&#39;m trying to containerize it using docker-compose. when I build the images everything seems fine, but any connection from web container to db using bolt is refused. although I can access the neo4j db from the browser on http, and even from local machine on bolt. this is the error I get: `neo4j.exceptions.ServiceUnavailable: Failed to establish connection to (&#39;127.0.0.1&#39;, 7688) (reason 111)` I&#39;m using the following configs: &lt;pre&gt;Django == 3.1.1 neo4j==4.1.0 neomodel==3.3.0 neobolt==1.7.17 &lt;/pre&gt; this is my docker-compose file: version: &#39;3&#39; services: backend: build: . command: python manage.py runserver 0.0.0.0:8000 volumes: - .:/app ports: - &quot;8000:8000&quot; depends_on: - neo4j_db networks: - mynetwork links: - neo4j_db neo4j_db: image: neo4j:3.5.17-enterprise ports: - &quot;7474:7474&quot; - &quot;7688:7687&quot; expose: - 7474 - 7687 volumes: - ./db/dbms:/data/dbms environment: - NEO4J_ACCEPT_LICENSE_AGREEMENT=yes - dbms.connector.bolt.listen_address=:7688 - dbms.connector.bolt.advertised_address=:7688 networks: - mynetwork networks: mynetwork: driver: bridge and here&#39;s connection configs in django settings: NEOMODEL_NEO4J_BOLT_URL = os.environ.get(&#39;NEO4J_BOLT_URL&#39;, &#39;bolt://neo4j:pass@123@127.0.0.1:7688&#39;) Thanks in advance.. ",
      "link":"https://stackoverflow.com/questions/64308828/docker-compose-db-connection-from-web-container-to-neo4j-container-using-bolt",
      "title":"Docker-compose: db connection from web container to neo4j container using bolt"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "answers":[
        {
          "tags":[
            
          ],
          "owner":{
            "reputation":56013,
            "user_id":974731,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG",
            "display_name":"cybersam",
            "link":"https://stackoverflow.com/users/974731/cybersam"
          },
          "comment_count":0,
          "down_vote_count":0,
          "up_vote_count":0,
          "is_accepted":false,
          "score":0,
          "last_activity_date":1602454186,
          "creation_date":1602454186,
          "answer_id":64309484,
          "question_id":64307524,
          "share_link":"https://stackoverflow.com/a/64309484",
          "body_markdown":" 1. Your query is actually incorrect correct. It should have been: MATCH (u:User) RETURN u ORDER BY u.upvotes DESC LIMIT 1 2. I assume that you are following the example in [this log post](https://neo4j.com/blog/import-10m-stack-overflow-questions/). To also *efficiently* get the number of outgoing `POSTED` relationships made by the user with the most upvotes: MATCH (u:User) WITH u ORDER BY u.upvotes DESC LIMIT 1 RETURN u, SIZE((u)-[:POSTED]-&gt;()) AS nPosts",
          "link":"https://stackoverflow.com/questions/64307524/cypher-finding-most-common-user-storing-it/64309484#64309484",
          "title":"Cypher - finding most common user + storing it"
        }
      ],
      "owner":{
        "reputation":1,
        "user_id":10405684,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/d74385d95e7fd91d720884c9b21e2383?s=128&d=identicon&r=PG&f=1",
        "display_name":"stillstriving21",
        "link":"https://stackoverflow.com/users/10405684/stillstriving21"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":14,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":1,
      "score":0,
      "last_activity_date":1602454186,
      "creation_date":1602440381,
      "question_id":64307524,
      "share_link":"https://stackoverflow.com/q/64307524",
      "body_markdown":"I&#39;m using Cypher in the StackOverflow database. I&#39;m trying to find the user with the most upvotes, and then search the database for the number of posts that user made. I understand how to get the user with the most upvotes MATCH (u:User) ORDER BY u.upvotes DESC RETURN 1; But I don&#39;t know how to get that value and use it to find the number of posts that user made (connected to Post nodes). Thank you!",
      "link":"https://stackoverflow.com/questions/64307524/cypher-finding-most-common-user-storing-it",
      "title":"Cypher - finding most common user + storing it"
    },
    {
      "tags":[
        "neo4j"
      ],
      "comments":[
        {
          "owner":{
            "reputation":427,
            "user_id":4489733,
            "user_type":"registered",
            "accept_rate":29,
            "profile_image":"https://www.gravatar.com/avatar/10714df646d369c5a41225156d051cac?s=128&d=identicon&r=PG&f=1",
            "display_name":"mbudge",
            "link":"https://stackoverflow.com/users/4489733/mbudge"
          },
          "edited":false,
          "score":0,
          "creation_date":1602422050,
          "post_id":64303658,
          "comment_id":113709071,
          "link":"https://stackoverflow.com/questions/64303658/neo4j-on-amd-epyc-7351p-processor-slow-to-import-data#comment113709071_64303658"
        }
      ],
      "owner":{
        "reputation":427,
        "user_id":4489733,
        "user_type":"registered",
        "accept_rate":29,
        "profile_image":"https://www.gravatar.com/avatar/10714df646d369c5a41225156d051cac?s=128&d=identicon&r=PG&f=1",
        "display_name":"mbudge",
        "link":"https://stackoverflow.com/users/4489733/mbudge"
      },
      "comment_count":1,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":11,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602416915,
      "creation_date":1602416915,
      "question_id":64303658,
      "share_link":"https://stackoverflow.com/q/64303658",
      "body_markdown":"I am bulk importing data into Neo4j in batches of 1000 using unwind. The query runs very fast on my Mac which has this processor Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz However, when I test the code against a VM running on my server it is taking ages to import the same data set. The VM has 10 CPU codes and 16GB ram available. The server has the following processor installed and NVME ram so the disk can&#39;t be the bottleneck. 16 CPUs x AMD EPYC 7351P 16-Core Processor 2.4GHz Does Neo4j benefit from using a faster CPU? Thanks ",
      "link":"https://stackoverflow.com/questions/64303658/neo4j-on-amd-epyc-7351p-processor-slow-to-import-data",
      "title":"Neo4j on AMD EPYC 7351P Processor slow to import data"
    },
    {
      "tags":[
        "neo4j",
        "spring-data-neo4j",
        "neo4j-apoc"
      ],
      "owner":{
        "reputation":191,
        "user_id":13311050,
        "user_type":"registered",
        "profile_image":"https://lh5.googleusercontent.com/-eKyoBGJ_kq8/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPs17MB9fP_XuhkoYefUdGAaBMzQQ/photo.jpg?sz=128",
        "display_name":"Jay Parkkk",
        "link":"https://stackoverflow.com/users/13311050/jay-parkkk"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":31,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":1,
      "answer_count":0,
      "score":1,
      "last_activity_date":1602392618,
      "creation_date":1602392618,
      "question_id":64300771,
      "share_link":"https://stackoverflow.com/q/64300771",
      "body_markdown":"1.I tried to create two relationships that are retweet and reply. For the retweet relationship, it can be created successfully but nothing happened for the reply relationship. Did I make some mistakes in the code? CALL apoc.load.json(&quot;file:///tweets.json&quot;) YIELD value MERGE (t:Tweet {id: value.id}) WITH t, value where exists(value.retweet_id) MERGE (c:Tweet {id: value.retweet_id}) MERGE (t)-[:retweet]-&gt;(c) WITH t, value where exists(value.replyto_id) MERGE (T:Tweet {id: value.replyto_id}) MERGE (t)-[:reply]-&gt;(T); ",
      "link":"https://stackoverflow.com/questions/64300771/why-neo4j-can-not-create-second-relationship-successfully",
      "title":"Why neo4j can not create second relationship successfully?"
    },
    {
      "tags":[
        "neo4j",
        "spring-data-neo4j",
        "neo4j-ogm",
        "neo4j-apoc"
      ],
      "comments":[
        {
          "owner":{
            "reputation":63068,
            "user_id":272109,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG",
            "display_name":"David Makogon",
            "link":"https://stackoverflow.com/users/272109/david-makogon"
          },
          "edited":false,
          "score":0,
          "creation_date":1602382279,
          "post_id":64299824,
          "comment_id":113701584,
          "link":"https://stackoverflow.com/questions/64299824/how-to-create-a-tweet-hierarchy-tree-structure-in-neo4j#comment113701584_64299824"
        },
        {
          "owner":{
            "reputation":191,
            "user_id":13311050,
            "user_type":"registered",
            "profile_image":"https://lh5.googleusercontent.com/-eKyoBGJ_kq8/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPs17MB9fP_XuhkoYefUdGAaBMzQQ/photo.jpg?sz=128",
            "display_name":"Jay Parkkk",
            "link":"https://stackoverflow.com/users/13311050/jay-parkkk"
          },
          "reply_to_user":{
            "reputation":63068,
            "user_id":272109,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG",
            "display_name":"David Makogon",
            "link":"https://stackoverflow.com/users/272109/david-makogon"
          },
          "edited":false,
          "score":0,
          "creation_date":1602392768,
          "post_id":64299824,
          "comment_id":113702803,
          "link":"https://stackoverflow.com/questions/64299824/how-to-create-a-tweet-hierarchy-tree-structure-in-neo4j#comment113702803_64299824"
        },
        {
          "owner":{
            "reputation":464,
            "user_id":3346416,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/cef39ae48990a8771592ce9c1eb7e012?s=128&d=identicon&r=PG&f=1",
            "display_name":"Lucia",
            "link":"https://stackoverflow.com/users/3346416/lucia"
          },
          "edited":false,
          "score":0,
          "creation_date":1603250762,
          "post_id":64299824,
          "comment_id":113974741,
          "link":"https://stackoverflow.com/questions/64299824/how-to-create-a-tweet-hierarchy-tree-structure-in-neo4j#comment113974741_64299824"
        }
      ],
      "owner":{
        "reputation":191,
        "user_id":13311050,
        "user_type":"registered",
        "profile_image":"https://lh5.googleusercontent.com/-eKyoBGJ_kq8/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPs17MB9fP_XuhkoYefUdGAaBMzQQ/photo.jpg?sz=128",
        "display_name":"Jay Parkkk",
        "link":"https://stackoverflow.com/users/13311050/jay-parkkk"
      },
      "last_editor":{
        "reputation":191,
        "user_id":13311050,
        "user_type":"registered",
        "profile_image":"https://lh5.googleusercontent.com/-eKyoBGJ_kq8/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPs17MB9fP_XuhkoYefUdGAaBMzQQ/photo.jpg?sz=128",
        "display_name":"Jay Parkkk",
        "link":"https://stackoverflow.com/users/13311050/jay-parkkk"
      },
      "comment_count":3,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":71,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":1,
      "answer_count":0,
      "score":1,
      "last_activity_date":1603069546,
      "creation_date":1602379470,
      "last_edit_date":1602392805,
      "question_id":64299824,
      "share_link":"https://stackoverflow.com/q/64299824",
      "body_markdown":"1.I was trying to build the relationships between each tweet nodes. A tweet can have multiple reply tweets and retweet tweets. Assuming I have two nodes which name Tweet and Tweets respectively. If Tweet.id = Tweets.reply_toid the relationship can be (Tweets)-[:replyto]-&gt;[Tweet]. If Tweet.id = Tweets.retweet_id the relationship can be (Tweets)-[:retweet]-&gt;[Tweet]. How can I create a tree structure like the screenshot below? [![enter image description here][1]][1] [1]: https://i.stack.imgur.com/mdJvQ.png 2 For example, A tweet ID is 123 , reply_to is 321, another tweet ID is 321 and the reply_to id is 456. Then the graph should be like 123-[reply]-&gt;321-[reply]-&gt;456. But for my result , I got separate reply_to results: 123-[reply]-&gt;321 321-[reply]-&gt;456. How can I create a hierarchy tree just like the screenshot photo? CALL apoc.load.json(&quot;file:///tweets.json&quot;) YIELD value MERGE (t:Tweet {id: value.id}) WITH t, value where exists(value.retweet_id) MERGE (c:Tweet {id: value.retweet_id}) MERGE (t)-[:retweet]-&gt;(c) WITH t, value where exists(value.replyto_id) MERGE (T:Tweet {id: value.replyto_id}) MERGE (t)-[:reply]-&gt;(T); ",
      "link":"https://stackoverflow.com/questions/64299824/how-to-create-a-tweet-hierarchy-tree-structure-in-neo4j",
      "title":"How to create a tweet hierarchy tree structure in Neo4j?"
    },
    {
      "tags":[
        "python",
        "tkinter",
        "neo4j",
        "treeview"
      ],
      "comments":[
        {
          "owner":{
            "reputation":286987,
            "user_id":7432,
            "user_type":"registered",
            "accept_rate":94,
            "profile_image":"https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG",
            "display_name":"Bryan Oakley",
            "link":"https://stackoverflow.com/users/7432/bryan-oakley"
          },
          "edited":false,
          "score":0,
          "creation_date":1602364425,
          "post_id":64298262,
          "comment_id":113698763,
          "link":"https://stackoverflow.com/questions/64298262/populate-treeview-tkinter-widget-with-parent-and-children-nodes-from-a-db#comment113698763_64298262"
        },
        {
          "owner":{
            "reputation":61,
            "user_id":8166763,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/3e746e1ebe01a1aa3e59e0cbb4ac5915?s=128&d=identicon&r=PG&f=1",
            "display_name":"Artem Nazarenko",
            "link":"https://stackoverflow.com/users/8166763/artem-nazarenko"
          },
          "reply_to_user":{
            "reputation":286987,
            "user_id":7432,
            "user_type":"registered",
            "accept_rate":94,
            "profile_image":"https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG",
            "display_name":"Bryan Oakley",
            "link":"https://stackoverflow.com/users/7432/bryan-oakley"
          },
          "edited":false,
          "score":0,
          "creation_date":1602365533,
          "post_id":64298262,
          "comment_id":113698976,
          "link":"https://stackoverflow.com/questions/64298262/populate-treeview-tkinter-widget-with-parent-and-children-nodes-from-a-db#comment113698976_64298262"
        },
        {
          "owner":{
            "reputation":286987,
            "user_id":7432,
            "user_type":"registered",
            "accept_rate":94,
            "profile_image":"https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG",
            "display_name":"Bryan Oakley",
            "link":"https://stackoverflow.com/users/7432/bryan-oakley"
          },
          "edited":false,
          "score":0,
          "creation_date":1602370731,
          "post_id":64298262,
          "comment_id":113699954,
          "link":"https://stackoverflow.com/questions/64298262/populate-treeview-tkinter-widget-with-parent-and-children-nodes-from-a-db#comment113699954_64298262"
        },
        {
          "owner":{
            "reputation":61,
            "user_id":8166763,
            "user_type":"registered",
            "profile_image":"https://www.gravatar.com/avatar/3e746e1ebe01a1aa3e59e0cbb4ac5915?s=128&d=identicon&r=PG&f=1",
            "display_name":"Artem Nazarenko",
            "link":"https://stackoverflow.com/users/8166763/artem-nazarenko"
          },
          "reply_to_user":{
            "reputation":286987,
            "user_id":7432,
            "user_type":"registered",
            "accept_rate":94,
            "profile_image":"https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG",
            "display_name":"Bryan Oakley",
            "link":"https://stackoverflow.com/users/7432/bryan-oakley"
          },
          "edited":false,
          "score":0,
          "creation_date":1602371287,
          "post_id":64298262,
          "comment_id":113700050,
          "link":"https://stackoverflow.com/questions/64298262/populate-treeview-tkinter-widget-with-parent-and-children-nodes-from-a-db#comment113700050_64298262"
        }
      ],
      "owner":{
        "reputation":61,
        "user_id":8166763,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/3e746e1ebe01a1aa3e59e0cbb4ac5915?s=128&d=identicon&r=PG&f=1",
        "display_name":"Artem Nazarenko",
        "link":"https://stackoverflow.com/users/8166763/artem-nazarenko"
      },
      "last_editor":{
        "reputation":61,
        "user_id":8166763,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/3e746e1ebe01a1aa3e59e0cbb4ac5915?s=128&d=identicon&r=PG&f=1",
        "display_name":"Artem Nazarenko",
        "link":"https://stackoverflow.com/users/8166763/artem-nazarenko"
      },
      "comment_count":4,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":23,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602365130,
      "creation_date":1602363655,
      "last_edit_date":1602365130,
      "question_id":64298262,
      "share_link":"https://stackoverflow.com/q/64298262",
      "body_markdown":"my problem is: I am trying to populate the TreeView widget with data from DB, in my case Neo4j. I have a set of car brands and some car models of these brands, what I expect, should be something like: (Parent) Renault (Children) ---Megane ---Clio ---Captur .... (Parent) Audi (Children) ---A3 ---A4 ---A6 There should be just one column &quot;Name&quot;, used both for children and parents nodes. The code I have so far: from tkinter import * from tkinter import ttk from neo4j import GraphDatabase window = Tk() myFrame = LabelFrame(window, width=300, height=30, text=&quot;Cars viewer&quot;) myFrame.grid(row=0, column=0, sticky=&quot;nsew&quot;, pady=10, padx=10) graph = GraphDatabase.driver(uri=&quot;bolt://localhost:7687&quot;, auth=(&quot;neo4j&quot;, &quot;1111&quot;)) session = graph.session() def populate_cars_list(): cars_tree.delete(*cars_tree.get_children()) var_car_brands = session.run(&quot;MATCH (b:car_brand) RETURN b.name&quot;) for row in var_car_brands: for k,v in row.items(): cars_options = v #display all available car brands on the tree view widget cars_tree.insert(parent=&#39;&#39;, index=&#39;end&#39;, values=(cars_options)) print(cars_options) #for every car brand find related models for row_2 in cars_options: var_car_model = session.run(&quot;MATCH (b:car_model)-[rel_2:part_of]-(c:car_brand{name: $cars_options}) RETURN b.name&quot;, cars_options = cars_options) for row_3 in var_car_model: for l,m in row_3.items(): models_options = m print(models_options) cars_tree.insert(parent=cars_options, index=&#39;end&#39;, values=(models_options)) session.close() cars_tree = ttk.Treeview(myFrame, height=10) cars_tree[&#39;columns&#39;] = (&quot;Name&quot;) cars_tree.column(&quot;#0&quot;, width=0, stretch=NO) cars_tree.column(&quot;Name&quot;, anchor=CENTER, width=300, minwidth=25) cars_tree.heading(&quot;#0&quot;, text=&quot;Label&quot;, anchor=CENTER) cars_tree.heading(&quot;Name&quot;, text=&quot;Name&quot;, anchor=CENTER) cars_tree.grid(row=0, column=0, columnspan=3, rowspan=4, pady=5, padx=10, sticky=W) my_btn = Button(myFrame, text=&#39;Populate list&#39;, command=populate_cars_list) my_btn.grid(padx=10, pady=5, row=5, column=0, sticky=&quot;nsew&quot;) window.title(&#39;Car app&#39;) window.geometry(&#39;480x480&#39;) window.resizable(0, 0) window.mainloop() This line doesn&#39;t work: cars_tree.insert(parent=cars_options, index=&#39;end&#39;, values=(models_options)) The error I get: _tkinter.TclError: Item Renault not found As far, as I understand it is connected with iterations, in DB now I have 4 car_brands, thus I got 4 iterations and subsequently I got 4 times the same car models. To summarize my question: 1. I need to dynamically populate the TreeView widget with children and parent nodes. 2. The parent node is extracted from DB and checked, if it has some car_models - children nodes, (in my DB for now all car brands, besides Skoda (an empty object to expect), I have at least several models), in other words, parent node should be the one from DB. 3. At the moment, I can only display the parent nodes, but not the children nodes. I would appreciate, if you could help me to solve this problem. Thank you in advance! Edited. The error looks like: Renault Captur Exception in Tkinter callback Traceback (most recent call last): File &quot;C:\\ProgramData\\Anaconda3\\lib\tkinter\\__init__.py&quot;, line 1883, in __call__ return self.func(*args) File &quot;&lt;ipython-input-178-72a68666ea2a&gt;&quot;, line 30, in populate_cars_list cars_tree.insert(parent=cars_options, index=&#39;end&#39;, values=(models_options)) File &quot;C:\\ProgramData\\Anaconda3\\lib\tkinter\ttk.py&quot;, line 1369, in insert res = self.tk.call(self._w, &quot;insert&quot;, parent, index, *opts) _tkinter.TclError: Item Renault not found If I comment the line: cars_tree.insert(parent=cars_options, index=&#39;end&#39;, values=(models_options)) I can populate the TreeView with parent nodes even without providing a tuple: [![enter image description here][1]][1] [1]: https://i.stack.imgur.com/iZvCD.png",
      "link":"https://stackoverflow.com/questions/64298262/populate-treeview-tkinter-widget-with-parent-and-children-nodes-from-a-db",
      "title":"Populate TreeView TKinter Widget with parent and children nodes from a DB"
    },
    {
      "tags":[
        "neo4j",
        "graphql",
        "grandstack"
      ],
      "owner":{
        "reputation":137,
        "user_id":13469785,
        "user_type":"registered",
        "profile_image":"https://lh4.googleusercontent.com/-dp9W1Yp-80o/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPbisubeRcptofQobH94W8miEvmcg/photo.jpg?sz=128",
        "display_name":"LJRB",
        "link":"https://stackoverflow.com/users/13469785/ljrb"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":8,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602339468,
      "creation_date":1602339468,
      "question_id":64294407,
      "share_link":"https://stackoverflow.com/q/64294407",
      "body_markdown":"I&#39;m learning GRANDstack, so I dowloaded the starter with npx command. I use Neo4j Desktop, so for the localhost in .env file I gave: NEO4J_URI=bolt://localhost:7687 NEO4J_USER=neo4j NEO4J_PASSWORD=letmein I have all the files from this starter. I already have data in my database in Neo4j Desktop. So I changed the shema.graphql file in order to apply to my data. I did this with &#39;Deploy to code Sandbox&#39; in order to generate graphql code: type KEYWORD { _id: Long! id: Int! keyword: String! appears_in: [ARTICLE] @relation(name: &quot;APPEARS_IN&quot;, direction: OUT) } type ARTICLE { _id: Long! id: Int! label: String! seed_label: Int title: String! keywords: [KEYWORD] @relation(name: &quot;APPEARS_IN&quot;, direction: IN) } I have in powershell: GraphQL server ready at http://0.0.0.0:4001/graphql Next I tried to open the page http://0.0.0.0:4001/graphql but nothing happened. Maybe I have to change code in other files of starter folder ? ",
      "link":"https://stackoverflow.com/questions/64294407/try-to-use-my-own-dataset-with-neo4j-and-grandstack",
      "title":"Try to use my own dataset with Neo4j and GRANDstack"
    },
    {
      "tags":[
        "neo4j",
        "cypher"
      ],
      "owner":{
        "reputation":81,
        "user_id":11045534,
        "user_type":"registered",
        "profile_image":"https://lh5.googleusercontent.com/-WB_KgWspIVo/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOKtwlXXhfl00hDyl9r-WMFLDRhHQ/mo/photo.jpg?sz=128",
        "display_name":"Deeswoc",
        "link":"https://stackoverflow.com/users/11045534/deeswoc"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":8,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602285520,
      "creation_date":1602285520,
      "question_id":64288432,
      "share_link":"https://stackoverflow.com/q/64288432",
      "body_markdown":"I&#39;m using gds and getting nodeIds back from a function. I want to return the node if it doesn&#39;t belong to a specific relationship but if it does then return the other node in the relationship. e.g if I have a list of nodes with ids 5, 8, 1, 3, 5 and these are dogs. Currently i can get all the dogs by the statement: `RETURN gds.util.asNode(nodeId) AS node` And I would get the all the dogs like this ``` Rex Max Dorothy Spike Wall-E ``` I want to return the name of the owner if the dog has one so lets say Dorothy and Wall-E have an owner called Macy and Tyrone respectively. The list I would want to return is: ``` Rex Max Macy Spike Tyrone ``` How can I accomplish this. I would use subqueries in a CASE statement but I&#39;m not sure how much I&#39;m actually allowed to do so since CASE seems a bit limited.",
      "link":"https://stackoverflow.com/questions/64288432/return-a-node-if-no-relationship-exists-else-return-the-other-node",
      "title":"Return a node if no relationship exists else return the other node"
    },
    {
      "tags":[
        "neo4j",
        "shortest-path"
      ],
      "owner":{
        "reputation":3,
        "user_id":6242424,
        "user_type":"registered",
        "profile_image":"https://www.gravatar.com/avatar/50033ffd8833e11a3b19bad9c33f931a?s=128&d=identicon&r=PG&f=1",
        "display_name":"johnb",
        "link":"https://stackoverflow.com/users/6242424/johnb"
      },
      "comment_count":0,
      "delete_vote_count":0,
      "close_vote_count":0,
      "is_answered":false,
      "view_count":16,
      "favorite_count":0,
      "down_vote_count":0,
      "up_vote_count":0,
      "answer_count":0,
      "score":0,
      "last_activity_date":1602272821,
      "creation_date":1602272821,
      "question_id":64286387,
      "share_link":"https://stackoverflow.com/q/64286387",
      "body_markdown":"in Neo4j, I&#39;ve been trying unsuccessfully to find a way to plot a route that traverses every instance of a relationship. It might help if I explain that it&#39;s for a ski region map to find the shortest path to ski every run. It doesn&#39;t matter how many times a lift is used. With a next step to be able to select for example, filter to exclude grade black runs (grade being a property of the relationship, as is the name of the run). I&#39;ve attached an image of [my simple starter ski region][1](V1 is valleystation1, TV1 is top of lift from V1, M is mid-station etc. I realise I could set each lift and ski-run as a node then shortest path to include all ski-run nodes, but I was hoping there was a way to use the relationships so the data is simply stations joined by lifts or ski-runs. I&#39;m fairly new to Neo4j so please don&#39;t baffle me (too much)! Thanks for any suggestions. [1]: https://i.stack.imgur.com/MCgoj.jpg",
      "link":"https://stackoverflow.com/questions/64286387/neo4j-route-that-traverses-all-instances-of-a-relationship-ski-map",
      "title":"Neo4j route that traverses all instances of a relationship - ski map"
    }
  ],
  "has_more":true,
  "quota_max":300,
  "quota_remaining":298
}